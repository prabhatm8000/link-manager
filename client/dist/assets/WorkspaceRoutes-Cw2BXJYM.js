import{r as m,j as r,u as V,a as ge,f as yo,h as bo,R as W,t as Qe,i as Co,k as jo,m as Bn,n as zn,o as Wn,q as No,s as Eo,w as Mo,x as So,y as Ro,z as Ao,A as ko,B as Po,C as Io,D as Lo,E as To,F as Oo,H as _o}from"./index-BwALU5RW.js";import{k as ee,G as $,I as tt,l as St,L as Do,T as Me,B,m as xr,n as Fo,a as J,o as Bo,p as zo,g as re,q as Wo,r as vr,s as Q,S as Zt,t as wr,c as Uo,v as $o,w as Ho,C as mt,f as pt,d as Ft,e as Bt,h as Vo,x as Ko,y as Go,z as Yo,R as Xo,j as Un,E as Qo,P as Zo}from"./AppRouter-Cs-FYjwA.js";import{P as K,L as Y,u as Rt,d as yr}from"./index.esm-DnPmY8aZ.js";function We(e,t=[]){let n=[];function s(a,f){const d=m.createContext(f),i=n.length;n=[...n,f];const c=u=>{var w;const{scope:h,children:p,...g}=u,x=((w=h==null?void 0:h[e])==null?void 0:w[i])||d,v=m.useMemo(()=>g,Object.values(g));return r.jsx(x.Provider,{value:v,children:p})};c.displayName=a+"Provider";function l(u,h){var x;const p=((x=h==null?void 0:h[e])==null?void 0:x[i])||d,g=m.useContext(p);if(g)return g;if(f!==void 0)return f;throw new Error(`\`${u}\` must be used within \`${a}\``)}return[c,l]}const o=()=>{const a=n.map(f=>m.createContext(f));return function(d){const i=(d==null?void 0:d[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...d,[e]:i}}),[d,i])}};return o.scopeName=e,[s,qo(o,...t)]}function qo(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const f=s.reduce((d,{useScope:i,scopeName:c})=>{const u=i(a)[`__scope${c}`];return{...d,...u}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:f}),[f])}};return n.scopeName=t.scopeName,n}function oe(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}var we=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},ln="Avatar",[Jo,au]=We(ln),[ea,br]=Jo(ln),Cr=m.forwardRef((e,t)=>{const{__scopeAvatar:n,...s}=e,[o,a]=m.useState("idle");return r.jsx(ea,{scope:n,imageLoadingStatus:o,onImageLoadingStatusChange:a,children:r.jsx(K.span,{...s,ref:t})})});Cr.displayName=ln;var jr="AvatarImage",Nr=m.forwardRef((e,t)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:o=()=>{},...a}=e,f=br(jr,n),d=ta(s,a.referrerPolicy),i=oe(c=>{o(c),f.onImageLoadingStatusChange(c)});return we(()=>{d!=="idle"&&i(d)},[d,i]),d==="loaded"?r.jsx(K.img,{...a,ref:t,src:s}):null});Nr.displayName=jr;var Er="AvatarFallback",Mr=m.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:s,...o}=e,a=br(Er,n),[f,d]=m.useState(s===void 0);return m.useEffect(()=>{if(s!==void 0){const i=window.setTimeout(()=>d(!0),s);return()=>window.clearTimeout(i)}},[s]),f&&a.imageLoadingStatus!=="loaded"?r.jsx(K.span,{...o,ref:t}):null});Mr.displayName=Er;function ta(e,t){const[n,s]=m.useState("idle");return we(()=>{if(!e){s("error");return}let o=!0;const a=new window.Image,f=d=>()=>{o&&s(d)};return s("loading"),a.onload=f("loaded"),a.onerror=f("error"),a.src=e,t&&(a.referrerPolicy=t),()=>{o=!1}},[e,t]),n}var na=Cr,ra=Nr,sa=Mr;function fe({className:e,...t}){return r.jsx(na,{"data-slot":"avatar",className:ee("relative flex size-9 shrink-0 overflow-hidden rounded-full p-1.5 border border-muted-foreground/15",e),...t})}function he({className:e,...t}){return r.jsx(ra,{"data-slot":"avatar-image",className:ee("aspect-square size-full",e),...t})}function me({className:e,itemType:t,...n}){let s="bg-gradient-to-br ";switch(t){case"link":s+="from-emerald-400 to-blue-600";break;case"workspace":s+="from-red-400 to-purple-600";break;case"people":default:s+="from-yellow-400 to-orange-600"}return r.jsx(sa,{"data-slot":"avatar-fallback",className:ee("text-white text-xs cursor-default font-semibold flex size-full items-center justify-center rounded-full",s,e),...n})}function Sr(e){return $({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6.672 1.911a1 1 0 10-1.932.518l.259.966a1 1 0 001.932-.518l-.26-.966zM2.429 4.74a1 1 0 10-.517 1.932l.966.259a1 1 0 00.517-1.932l-.966-.26zm8.814-.569a1 1 0 00-1.415-1.414l-.707.707a1 1 0 101.415 1.415l.707-.708zm-7.071 7.072l.707-.707A1 1 0 003.465 9.12l-.708.707a1 1 0 001.415 1.415zm3.2-5.171a1 1 0 00-1.3 1.3l4 10a1 1 0 001.823.075l1.38-2.759 3.018 3.02a1 1 0 001.414-1.415l-3.019-3.02 2.76-1.379a1 1 0 00-.076-1.822l-10-4z",clipRule:"evenodd"},child:[]}]})(e)}function oa(e){return $({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 112v288m144-144H112"},child:[]}]})(e)}function aa(e){return $({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M456 128a40 40 0 0 0-37.23 54.6l-84.17 84.17a39.86 39.86 0 0 0-29.2 0l-60.17-60.17a40 40 0 1 0-74.46 0L70.6 306.77a40 40 0 1 0 22.63 22.63L193.4 229.23a39.86 39.86 0 0 0 29.2 0l60.17 60.17a40 40 0 1 0 74.46 0l84.17-84.17A40 40 0 1 0 456 128z"},child:[]}]})(e)}function Rr(e){return $({attr:{viewBox:"0 0 512 512"},child:[{tag:"rect",attr:{width:"416",height:"384",x:"48",y:"80",fill:"none",strokeLinejoin:"round",strokeWidth:"32",rx:"48"},child:[]},{tag:"circle",attr:{cx:"296",cy:"232",r:"24"},child:[]},{tag:"circle",attr:{cx:"376",cy:"232",r:"24"},child:[]},{tag:"circle",attr:{cx:"296",cy:"312",r:"24"},child:[]},{tag:"circle",attr:{cx:"376",cy:"312",r:"24"},child:[]},{tag:"circle",attr:{cx:"136",cy:"312",r:"24"},child:[]},{tag:"circle",attr:{cx:"216",cy:"312",r:"24"},child:[]},{tag:"circle",attr:{cx:"136",cy:"392",r:"24"},child:[]},{tag:"circle",attr:{cx:"216",cy:"392",r:"24"},child:[]},{tag:"circle",attr:{cx:"296",cy:"392",r:"24"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M128 48v32m256-32v32"},child:[]},{tag:"path",attr:{fill:"none",strokeLinejoin:"round",strokeWidth:"32",d:"M464 160H48"},child:[]}]})(e)}function ia(e){return $({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(e)}function ca(e){return $({attr:{viewBox:"0 0 512 512"},child:[{tag:"rect",attr:{width:"336",height:"336",x:"128",y:"128",fill:"none",strokeLinejoin:"round",strokeWidth:"32",rx:"57",ry:"57"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m383.5 128 .5-24a56.16 56.16 0 0 0-56-56H112a64.19 64.19 0 0 0-64 64v216a56.16 56.16 0 0 0 56 56h24"},child:[]}]})(e)}function la(e){return $({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"36",d:"M208 352h-64a96 96 0 0 1 0-192h64m96 0h64a96 96 0 0 1 0 192h-64m-140.71-96h187.42"},child:[]}]})(e)}function At(e){return $({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1"},child:[]},{tag:"path",attr:{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z"},child:[]},{tag:"path",attr:{d:"M16 5l3 3"},child:[]}]})(e)}function da(e){return $({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 9l4 -4l4 4"},child:[]},{tag:"path",attr:{d:"M16 15l-4 4l-4 -4"},child:[]}]})(e)}function ua(e){return $({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"},child:[]}]})(e)}function dn(e){return $({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 15c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0-2c-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4zm6-8c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0-2C9.8 3 8 4.8 8 7s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4zm6 12c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0-2c-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4z"},child:[]}]})(e)}function fa(e){return $({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 15c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0-2c-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4zm6-8c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0-2C9.8 3 8 4.8 8 7s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4zm6 12c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0-2c-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4z"},child:[]}]})(e)}const $n=e=>e<1e3?e.toString():e<1e6?(e/1e3).toFixed(1)+"k":e<1e9?(e/1e6).toFixed(1)+"m":(e/1e9).toFixed(1)+"b",Ar=({className:e,text:t})=>r.jsx("span",{className:`px-1 text-xs text-yellow-600 dark:text-yellow-400 ${e}`,children:t||"*Coming soon"}),ha=({data:e})=>r.jsxs("div",{className:"w-full py-4",children:[r.jsx(Ar,{}),r.jsx("h5",{className:"text-muted-foreground py-2",children:"Usage"}),r.jsx("div",{className:"flex flex-col gap-4 text-sm",children:e.map((t,n)=>r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[t.label==="Events"&&r.jsx(Sr,{}),t.label==="Links"&&r.jsx(tt,{}),t.label==="Workspaces"&&r.jsx(dn,{}),r.jsx("span",{className:"",children:t.label})]}),r.jsxs("span",{className:"",children:[$n(t.count)," of"," ",$n(t.total)]})]},n),r.jsx("div",{className:"w-full h-1 bg-black/20 dark:bg-white/20 rounded-full",children:r.jsx("div",{className:"h-full bg-black dark:bg-white rounded-full",style:{width:`${t.count/t.total*100}%`}})})]},n))})]}),Hn=e=>{var t,n,s,o;return r.jsxs("div",{className:`flex items-center gap-1 ${e.className}`,onClick:()=>{var a;return(a=e==null?void 0:e.setActiveWorkspace)==null?void 0:a.call(e,e.data)},title:(t=e.data)==null?void 0:t.name,children:[r.jsxs(fe,{children:[r.jsx(he,{src:"",alt:(n=e.data)==null?void 0:n.name}),r.jsx(me,{itemType:"workspace",children:(s=e.data)==null?void 0:s.name.charAt(0)})]}),r.jsx("span",{className:"truncate",children:(o=e.data)==null?void 0:o.name})]})},ma=({setShowSideBar:e,className:t})=>r.jsxs("div",{className:`w-56 h-full backdrop-blur-lg bg-background p-2 flex flex-col justify-between ${t}`,children:[r.jsxs("div",{className:"flex flex-col gap-6",children:[r.jsx(kr,{}),r.jsx(ga,{setShowSideBar:e})]}),r.jsx(ha,{data:[{label:"Events",count:3243,total:1e4},{label:"Links",count:10,total:25},{label:"Workspaces",count:1,total:10}]})]}),kr=({show:e,handleShow:t})=>{var f,d,i,c;const n=V(l=>l.user),[s,o]=St(),a=l=>{o(u=>(u.set("tab",l),u))};return r.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r.jsx(Do,{to:"/",children:r.jsxs(Me,{className:"text-xl flex gap-2 justify-start items-center",children:[r.jsx(tt,{}),r.jsx("span",{children:"Ref.com"})]})}),t?r.jsx(B,{variant:e?"destructive":"outline",className:"md:hidden transition-all duration-300 ease-out z-50",onClick:t,size:"icon",children:r.jsx("div",{className:`transform ${e?"rotate-0":"rotate-180"} transition-all duration-300 ease-out`,children:e?r.jsx(xr,{className:"size-5"}):r.jsx(Fo,{className:"size-5"})})}):r.jsxs(fe,{onClick:()=>a("profile"),children:[r.jsx(he,{src:((f=n==null?void 0:n.user)==null?void 0:f.profilePicture)||"",alt:((d=n==null?void 0:n.user)==null?void 0:d.name)||""}),r.jsx(me,{children:(c=(i=n==null?void 0:n.user)==null?void 0:i.name)==null?void 0:c.charAt(0)})]})]})},pa=[{title:"Links",value:"links",icon:r.jsx(tt,{})},{title:"Events",value:"events",icon:r.jsx(Sr,{})},{title:"Analytics",value:"analytics",icon:r.jsx(aa,{})},{title:"Settings",value:"settings",icon:r.jsx(zo,{})}],ga=({setShowSideBar:e})=>{const t=V(p=>p.workspace),n=ge(),[s,o]=m.useState(!1),[a,f]=St(),[d,i]=m.useState(a.get("workspaceId")||""),[c,l]=m.useState(a.get("tab")||"links"),u=p=>{p._id!==d&&(f(g=>(g.set("workspaceId",p._id),g)),window.location.reload())},h=p=>{f(g=>(g.set("tab",p),g)),e()};return m.useEffect(()=>{var x;let p=a.get("workspaceId")||"",g=a.get("tab")||"links";!p&&t.workspaces.length&&(p=((x=t.workspaces[0])==null?void 0:x._id)||""),i(p),l(g)},[a,t.workspaces]),m.useEffect(()=>{t.loading||n(yo())},[]),m.useEffect(()=>{d&&n(bo(d)).then(()=>{f(p=>(p.set("workspaceId",d),p))})},[d]),r.jsxs("div",{className:"flex flex-col gap-6",children:[t.currentWorkspace?r.jsxs(B,{onClick:()=>o(p=>!p),className:"flex items-center justify-between w-full",variant:s?"outline":"ghost",children:[r.jsx(Hn,{data:t.currentWorkspace,avatarSize:"md"}),r.jsx(da,{className:"opacity-50"})]}):r.jsx(B,{variant:"ghost",onClick:()=>h("profile"),className:"flex gap-2 items-center justify-center w-full",children:t.loading?r.jsx(J,{className:"size-5"}):"No workspace. Create one!"}),s?r.jsxs("div",{children:[r.jsx("h4",{className:"text-muted-foreground",children:"Workspaces"}),r.jsxs("div",{className:"flex flex-col gap-1 max-h-80 h-80 overflow-y-auto",children:[t.workspaces.map((p,g)=>r.jsx(Hn,{data:p,className:"cursor-pointer bg-foreground/5 hover:bg-foreground/10 rounded-md",avatarSize:"md",setActiveWorkspace:u},g)),c!=="profile"&&r.jsxs(B,{variant:"ghost",onClick:()=>h("profile"),className:"flex gap-2 items-center justify-center w-full",children:[r.jsx(Bo,{className:"size-5"}),r.jsx("span",{children:"Create workspace"})]})]})]}):r.jsx("div",{className:"flex flex-col text-muted-foreground font-semibold text-sm",children:pa.map((p,g)=>r.jsxs(B,{onClick:()=>h(p.value),variant:"ghost",className:`relative flex items-center justify-start gap-1 ${c===p.value?"bg-muted-foreground/15 text-foreground":""}`,children:[c===p.value&&r.jsx("span",{className:"bg-muted-foreground h-4 w-1 rounded-full absolute left-0 top-1/2 transform -translate-y-1/2"}),p.icon,r.jsx("span",{children:p.title})]},g))})]})},xa=({children:e})=>{const[t,n]=m.useState(!1);return m.useEffect(()=>{const s=document.getElementById("workspace");s&&s.scrollIntoView({behavior:"smooth"})},[]),r.jsxs("div",{className:"relative h-screen md:grid grid-cols-[auto_1fr] gap-0 overflow-hidden",children:[r.jsx("div",{onClick:()=>n(!1),className:`${t?"fixed md:hidden":"hidden"} z-40 top-0 left-0 w-full h-full bg-black/50 backdrop-blur-[1px]`}),r.jsx(ma,{className:`fixed md:static z-50 top-0 left-0 transition-transform duration-500 ease-out ${t?"translate-x-0":"-translate-x-[100%] md:translate-x-0"}`,setShowSideBar:()=>n(s=>!s)}),r.jsx("div",{className:"grid grid-cols-1 grid-rows-[auto_1fr] md:flex md:justify-center h-full w-full bg-foreground/[3%] overflow-auto p-4",children:r.jsxs("div",{id:"workspace",className:"w-full min-w-sm max-w-6xl",children:[r.jsx("div",{className:"block md:hidden -p-4 sticky top-0 bg-background/70 rounded-md backdrop-blur-xs z-20",children:r.jsx(kr,{show:t,handleShow:()=>n(s=>!s)})}),e]})})]})},un=({heading:e,subHeading:t})=>r.jsxs("div",{className:"flex flex-col gap-4 py-4 px-2",children:[r.jsx(Me,{className:"text-4xl font-bold",children:e}),r.jsx("h4",{className:"text-sm text-muted-foreground",children:t})]}),va=()=>r.jsx(r.Fragment,{children:r.jsx("div",{className:"py-4"})}),wa=()=>r.jsx(r.Fragment,{children:r.jsx("div",{className:"py-4"})});function kt(e){return $({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"},child:[]}]})(e)}const zt=new Map,ya=({inputProps:e,arrayValues:t,setArrayValues:n,getSuggestions:s,limit:o})=>{const[a,f]=m.useState(""),[d,i]=m.useState(!1),[c,l]=m.useState([]),u=m.useRef(null),h=w=>{n(y=>{const b=new Set([...y,w]);return o&&b.size>o?(alert("max limit reached!"),y):Array.from(b)}),f("")},p=w=>n(y=>y.filter(b=>w!==b)),g=w=>{w.key==="Escape"&&i(!1),w.key==="Enter"&&(w.preventDefault(),h(a))},x=async w=>{if(zt.has(w))l(zt.get(w)||[]);else{const y=await s(w);zt.set(w,y),l(y)}},v=w=>{u!=null&&u.current&&u.current.contains(w.relatedTarget)||i(!1)};return m.useEffect(()=>{if(a.length<2){l([]);return}const w=setTimeout(()=>{x(a)},500);return()=>{clearTimeout(w)}},[a]),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[t==null?void 0:t.map((w,y)=>r.jsxs("span",{className:"flex items-center bg-ring/40 rounded-md",children:[r.jsx("span",{className:"pl-2",children:w}),r.jsx(xr,{className:"size-8",onClick:()=>p(w)})]},y)),r.jsxs("div",{className:"flex justify-between items-center w-full",children:[r.jsxs("div",{className:"relative w-full",children:[r.jsx(re,{type:e.type,onKeyDown:g,value:a,onChange:w=>f(w.target.value.trim()),...e,onFocus:w=>i(!0),onBlur:v,autoComplete:"off"}),d&&c.length>0&&r.jsx("div",{ref:u,className:"absolute z-50 top-full w-full my-2 p-1 rounded-md bg-background border border-ring ring-[3px] ring-ring/50 flex flex-col gap-1",children:c.map((w,y)=>r.jsx("span",{className:"px-2 py-1 text-sm bg-ring/30 hover:bg-ring/50 rounded-sm cursor-pointer",onMouseDown:b=>b.preventDefault(),onClick:()=>h(w),children:w},y))})]}),r.jsx(B,{variant:"ghost",size:"sm",type:"button",title:"Clear all",onClick:w=>n([]),children:r.jsx(Wo,{className:"size-8 p-0"})})]})]})};var ba=Object.defineProperty,yt=Object.getOwnPropertySymbols,Pr=Object.prototype.hasOwnProperty,Ir=Object.prototype.propertyIsEnumerable,Vn=(e,t,n)=>t in e?ba(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qt=(e,t)=>{for(var n in t||(t={}))Pr.call(t,n)&&Vn(e,n,t[n]);if(yt)for(var n of yt(t))Ir.call(t,n)&&Vn(e,n,t[n]);return e},Jt=(e,t)=>{var n={};for(var s in e)Pr.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&yt)for(var s of yt(e))t.indexOf(s)<0&&Ir.call(e,s)&&(n[s]=e[s]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var ke;(e=>{const t=class L{constructor(i,c,l,u){if(this.version=i,this.errorCorrectionLevel=c,this.modules=[],this.isFunction=[],i<L.MIN_VERSION||i>L.MAX_VERSION)throw new RangeError("Version value out of range");if(u<-1||u>7)throw new RangeError("Mask value out of range");this.size=i*4+17;let h=[];for(let g=0;g<this.size;g++)h.push(!1);for(let g=0;g<this.size;g++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(l);if(this.drawCodewords(p),u==-1){let g=1e9;for(let x=0;x<8;x++){this.applyMask(x),this.drawFormatBits(x);const v=this.getPenaltyScore();v<g&&(u=x,g=v),this.applyMask(x)}}o(0<=u&&u<=7),this.mask=u,this.applyMask(u),this.drawFormatBits(u),this.isFunction=[]}static encodeText(i,c){const l=e.QrSegment.makeSegments(i);return L.encodeSegments(l,c)}static encodeBinary(i,c){const l=e.QrSegment.makeBytes(i);return L.encodeSegments([l],c)}static encodeSegments(i,c,l=1,u=40,h=-1,p=!0){if(!(L.MIN_VERSION<=l&&l<=u&&u<=L.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");let g,x;for(g=l;;g++){const b=L.getNumDataCodewords(g,c)*8,C=f.getTotalBits(i,g);if(C<=b){x=C;break}if(g>=u)throw new RangeError("Data too long")}for(const b of[L.Ecc.MEDIUM,L.Ecc.QUARTILE,L.Ecc.HIGH])p&&x<=L.getNumDataCodewords(g,b)*8&&(c=b);let v=[];for(const b of i){n(b.mode.modeBits,4,v),n(b.numChars,b.mode.numCharCountBits(g),v);for(const C of b.getData())v.push(C)}o(v.length==x);const w=L.getNumDataCodewords(g,c)*8;o(v.length<=w),n(0,Math.min(4,w-v.length),v),n(0,(8-v.length%8)%8,v),o(v.length%8==0);for(let b=236;v.length<w;b^=253)n(b,8,v);let y=[];for(;y.length*8<v.length;)y.push(0);return v.forEach((b,C)=>y[C>>>3]|=b<<7-(C&7)),new L(g,c,y,h)}getModule(i,c){return 0<=i&&i<this.size&&0<=c&&c<this.size&&this.modules[c][i]}getModules(){return this.modules}drawFunctionPatterns(){for(let l=0;l<this.size;l++)this.setFunctionModule(6,l,l%2==0),this.setFunctionModule(l,6,l%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const i=this.getAlignmentPatternPositions(),c=i.length;for(let l=0;l<c;l++)for(let u=0;u<c;u++)l==0&&u==0||l==0&&u==c-1||l==c-1&&u==0||this.drawAlignmentPattern(i[l],i[u]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(i){const c=this.errorCorrectionLevel.formatBits<<3|i;let l=c;for(let h=0;h<10;h++)l=l<<1^(l>>>9)*1335;const u=(c<<10|l)^21522;o(u>>>15==0);for(let h=0;h<=5;h++)this.setFunctionModule(8,h,s(u,h));this.setFunctionModule(8,7,s(u,6)),this.setFunctionModule(8,8,s(u,7)),this.setFunctionModule(7,8,s(u,8));for(let h=9;h<15;h++)this.setFunctionModule(14-h,8,s(u,h));for(let h=0;h<8;h++)this.setFunctionModule(this.size-1-h,8,s(u,h));for(let h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,s(u,h));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let i=this.version;for(let l=0;l<12;l++)i=i<<1^(i>>>11)*7973;const c=this.version<<12|i;o(c>>>18==0);for(let l=0;l<18;l++){const u=s(c,l),h=this.size-11+l%3,p=Math.floor(l/3);this.setFunctionModule(h,p,u),this.setFunctionModule(p,h,u)}}drawFinderPattern(i,c){for(let l=-4;l<=4;l++)for(let u=-4;u<=4;u++){const h=Math.max(Math.abs(u),Math.abs(l)),p=i+u,g=c+l;0<=p&&p<this.size&&0<=g&&g<this.size&&this.setFunctionModule(p,g,h!=2&&h!=4)}}drawAlignmentPattern(i,c){for(let l=-2;l<=2;l++)for(let u=-2;u<=2;u++)this.setFunctionModule(i+u,c+l,Math.max(Math.abs(u),Math.abs(l))!=1)}setFunctionModule(i,c,l){this.modules[c][i]=l,this.isFunction[c][i]=!0}addEccAndInterleave(i){const c=this.version,l=this.errorCorrectionLevel;if(i.length!=L.getNumDataCodewords(c,l))throw new RangeError("Invalid argument");const u=L.NUM_ERROR_CORRECTION_BLOCKS[l.ordinal][c],h=L.ECC_CODEWORDS_PER_BLOCK[l.ordinal][c],p=Math.floor(L.getNumRawDataModules(c)/8),g=u-p%u,x=Math.floor(p/u);let v=[];const w=L.reedSolomonComputeDivisor(h);for(let b=0,C=0;b<u;b++){let j=i.slice(C,C+x-h+(b<g?0:1));C+=j.length;const N=L.reedSolomonComputeRemainder(j,w);b<g&&j.push(0),v.push(j.concat(N))}let y=[];for(let b=0;b<v[0].length;b++)v.forEach((C,j)=>{(b!=x-h||j>=g)&&y.push(C[b])});return o(y.length==p),y}drawCodewords(i){if(i.length!=Math.floor(L.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let c=0;for(let l=this.size-1;l>=1;l-=2){l==6&&(l=5);for(let u=0;u<this.size;u++)for(let h=0;h<2;h++){const p=l-h,x=(l+1&2)==0?this.size-1-u:u;!this.isFunction[x][p]&&c<i.length*8&&(this.modules[x][p]=s(i[c>>>3],7-(c&7)),c++)}}o(c==i.length*8)}applyMask(i){if(i<0||i>7)throw new RangeError("Mask value out of range");for(let c=0;c<this.size;c++)for(let l=0;l<this.size;l++){let u;switch(i){case 0:u=(l+c)%2==0;break;case 1:u=c%2==0;break;case 2:u=l%3==0;break;case 3:u=(l+c)%3==0;break;case 4:u=(Math.floor(l/3)+Math.floor(c/2))%2==0;break;case 5:u=l*c%2+l*c%3==0;break;case 6:u=(l*c%2+l*c%3)%2==0;break;case 7:u=((l+c)%2+l*c%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[c][l]&&u&&(this.modules[c][l]=!this.modules[c][l])}}getPenaltyScore(){let i=0;for(let h=0;h<this.size;h++){let p=!1,g=0,x=[0,0,0,0,0,0,0];for(let v=0;v<this.size;v++)this.modules[h][v]==p?(g++,g==5?i+=L.PENALTY_N1:g>5&&i++):(this.finderPenaltyAddHistory(g,x),p||(i+=this.finderPenaltyCountPatterns(x)*L.PENALTY_N3),p=this.modules[h][v],g=1);i+=this.finderPenaltyTerminateAndCount(p,g,x)*L.PENALTY_N3}for(let h=0;h<this.size;h++){let p=!1,g=0,x=[0,0,0,0,0,0,0];for(let v=0;v<this.size;v++)this.modules[v][h]==p?(g++,g==5?i+=L.PENALTY_N1:g>5&&i++):(this.finderPenaltyAddHistory(g,x),p||(i+=this.finderPenaltyCountPatterns(x)*L.PENALTY_N3),p=this.modules[v][h],g=1);i+=this.finderPenaltyTerminateAndCount(p,g,x)*L.PENALTY_N3}for(let h=0;h<this.size-1;h++)for(let p=0;p<this.size-1;p++){const g=this.modules[h][p];g==this.modules[h][p+1]&&g==this.modules[h+1][p]&&g==this.modules[h+1][p+1]&&(i+=L.PENALTY_N2)}let c=0;for(const h of this.modules)c=h.reduce((p,g)=>p+(g?1:0),c);const l=this.size*this.size,u=Math.ceil(Math.abs(c*20-l*10)/l)-1;return o(0<=u&&u<=9),i+=u*L.PENALTY_N4,o(0<=i&&i<=2568888),i}getAlignmentPatternPositions(){if(this.version==1)return[];{const i=Math.floor(this.version/7)+2,c=this.version==32?26:Math.ceil((this.version*4+4)/(i*2-2))*2;let l=[6];for(let u=this.size-7;l.length<i;u-=c)l.splice(1,0,u);return l}}static getNumRawDataModules(i){if(i<L.MIN_VERSION||i>L.MAX_VERSION)throw new RangeError("Version number out of range");let c=(16*i+128)*i+64;if(i>=2){const l=Math.floor(i/7)+2;c-=(25*l-10)*l-55,i>=7&&(c-=36)}return o(208<=c&&c<=29648),c}static getNumDataCodewords(i,c){return Math.floor(L.getNumRawDataModules(i)/8)-L.ECC_CODEWORDS_PER_BLOCK[c.ordinal][i]*L.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][i]}static reedSolomonComputeDivisor(i){if(i<1||i>255)throw new RangeError("Degree out of range");let c=[];for(let u=0;u<i-1;u++)c.push(0);c.push(1);let l=1;for(let u=0;u<i;u++){for(let h=0;h<c.length;h++)c[h]=L.reedSolomonMultiply(c[h],l),h+1<c.length&&(c[h]^=c[h+1]);l=L.reedSolomonMultiply(l,2)}return c}static reedSolomonComputeRemainder(i,c){let l=c.map(u=>0);for(const u of i){const h=u^l.shift();l.push(0),c.forEach((p,g)=>l[g]^=L.reedSolomonMultiply(p,h))}return l}static reedSolomonMultiply(i,c){if(i>>>8||c>>>8)throw new RangeError("Byte out of range");let l=0;for(let u=7;u>=0;u--)l=l<<1^(l>>>7)*285,l^=(c>>>u&1)*i;return o(l>>>8==0),l}finderPenaltyCountPatterns(i){const c=i[1];o(c<=this.size*3);const l=c>0&&i[2]==c&&i[3]==c*3&&i[4]==c&&i[5]==c;return(l&&i[0]>=c*4&&i[6]>=c?1:0)+(l&&i[6]>=c*4&&i[0]>=c?1:0)}finderPenaltyTerminateAndCount(i,c,l){return i&&(this.finderPenaltyAddHistory(c,l),c=0),c+=this.size,this.finderPenaltyAddHistory(c,l),this.finderPenaltyCountPatterns(l)}finderPenaltyAddHistory(i,c){c[0]==0&&(i+=this.size),c.pop(),c.unshift(i)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(d,i,c){if(i<0||i>31||d>>>i)throw new RangeError("Value out of range");for(let l=i-1;l>=0;l--)c.push(d>>>l&1)}function s(d,i){return(d>>>i&1)!=0}function o(d){if(!d)throw new Error("Assertion error")}const a=class H{constructor(i,c,l){if(this.mode=i,this.numChars=c,this.bitData=l,c<0)throw new RangeError("Invalid argument");this.bitData=l.slice()}static makeBytes(i){let c=[];for(const l of i)n(l,8,c);return new H(H.Mode.BYTE,i.length,c)}static makeNumeric(i){if(!H.isNumeric(i))throw new RangeError("String contains non-numeric characters");let c=[];for(let l=0;l<i.length;){const u=Math.min(i.length-l,3);n(parseInt(i.substring(l,l+u),10),u*3+1,c),l+=u}return new H(H.Mode.NUMERIC,i.length,c)}static makeAlphanumeric(i){if(!H.isAlphanumeric(i))throw new RangeError("String contains unencodable characters in alphanumeric mode");let c=[],l;for(l=0;l+2<=i.length;l+=2){let u=H.ALPHANUMERIC_CHARSET.indexOf(i.charAt(l))*45;u+=H.ALPHANUMERIC_CHARSET.indexOf(i.charAt(l+1)),n(u,11,c)}return l<i.length&&n(H.ALPHANUMERIC_CHARSET.indexOf(i.charAt(l)),6,c),new H(H.Mode.ALPHANUMERIC,i.length,c)}static makeSegments(i){return i==""?[]:H.isNumeric(i)?[H.makeNumeric(i)]:H.isAlphanumeric(i)?[H.makeAlphanumeric(i)]:[H.makeBytes(H.toUtf8ByteArray(i))]}static makeEci(i){let c=[];if(i<0)throw new RangeError("ECI assignment value out of range");if(i<128)n(i,8,c);else if(i<16384)n(2,2,c),n(i,14,c);else if(i<1e6)n(6,3,c),n(i,21,c);else throw new RangeError("ECI assignment value out of range");return new H(H.Mode.ECI,0,c)}static isNumeric(i){return H.NUMERIC_REGEX.test(i)}static isAlphanumeric(i){return H.ALPHANUMERIC_REGEX.test(i)}getData(){return this.bitData.slice()}static getTotalBits(i,c){let l=0;for(const u of i){const h=u.mode.numCharCountBits(c);if(u.numChars>=1<<h)return 1/0;l+=4+h+u.bitData.length}return l}static toUtf8ByteArray(i){i=encodeURI(i);let c=[];for(let l=0;l<i.length;l++)i.charAt(l)!="%"?c.push(i.charCodeAt(l)):(c.push(parseInt(i.substring(l+1,l+3),16)),l+=2);return c}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let f=a;e.QrSegment=a})(ke||(ke={}));(e=>{(t=>{const n=class{constructor(o,a){this.ordinal=o,this.formatBits=a}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(ke||(ke={}));(e=>{(t=>{const n=class{constructor(o,a){this.modeBits=o,this.numBitsCharCount=a}numCharCountBits(o){return this.numBitsCharCount[Math.floor((o+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(ke||(ke={}));var De=ke;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var Ca={L:De.QrCode.Ecc.LOW,M:De.QrCode.Ecc.MEDIUM,Q:De.QrCode.Ecc.QUARTILE,H:De.QrCode.Ecc.HIGH},Lr=128,Tr="L",Or="#FFFFFF",_r="#000000",Dr=!1,Fr=1,ja=4,Na=0,Ea=.1;function Br(e,t=0){const n=[];return e.forEach(function(s,o){let a=null;s.forEach(function(f,d){if(!f&&a!==null){n.push(`M${a+t} ${o+t}h${d-a}v1H${a+t}z`),a=null;return}if(d===s.length-1){if(!f)return;a===null?n.push(`M${d+t},${o+t} h1v1H${d+t}z`):n.push(`M${a+t},${o+t} h${d+1-a}v1H${a+t}z`);return}f&&a===null&&(a=d)})}),n.join("")}function zr(e,t){return e.slice().map((n,s)=>s<t.y||s>=t.y+t.h?n:n.map((o,a)=>a<t.x||a>=t.x+t.w?o:!1))}function Ma(e,t,n,s){if(s==null)return null;const o=e.length+n*2,a=Math.floor(t*Ea),f=o/t,d=(s.width||a)*f,i=(s.height||a)*f,c=s.x==null?e.length/2-d/2:s.x*f,l=s.y==null?e.length/2-i/2:s.y*f,u=s.opacity==null?1:s.opacity;let h=null;if(s.excavate){let g=Math.floor(c),x=Math.floor(l),v=Math.ceil(d+c-g),w=Math.ceil(i+l-x);h={x:g,y:x,w:v,h:w}}const p=s.crossOrigin;return{x:c,y:l,h:i,w:d,excavation:h,opacity:u,crossOrigin:p}}function Sa(e,t){return t!=null?Math.max(Math.floor(t),0):e?ja:Na}function Wr({value:e,level:t,minVersion:n,includeMargin:s,marginSize:o,imageSettings:a,size:f,boostLevel:d}){let i=W.useMemo(()=>{const g=(Array.isArray(e)?e:[e]).reduce((x,v)=>(x.push(...De.QrSegment.makeSegments(v)),x),[]);return De.QrCode.encodeSegments(g,Ca[t],n,void 0,void 0,d)},[e,t,n,d]);const{cells:c,margin:l,numCells:u,calculatedImageSettings:h}=W.useMemo(()=>{let p=i.getModules();const g=Sa(s,o),x=p.length+g*2,v=Ma(p,f,g,a);return{cells:p,margin:g,numCells:x,calculatedImageSettings:v}},[i,f,a,s,o]);return{qrcode:i,margin:l,cells:c,numCells:u,calculatedImageSettings:h}}var Ra=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),Aa=W.forwardRef(function(t,n){const s=t,{value:o,size:a=Lr,level:f=Tr,bgColor:d=Or,fgColor:i=_r,includeMargin:c=Dr,minVersion:l=Fr,boostLevel:u,marginSize:h,imageSettings:p}=s,x=Jt(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:v}=x,w=Jt(x,["style"]),y=p==null?void 0:p.src,b=W.useRef(null),C=W.useRef(null),j=W.useCallback(A=>{b.current=A,typeof n=="function"?n(A):n&&(n.current=A)},[n]),[N,E]=W.useState(!1),{margin:R,cells:D,numCells:T,calculatedImageSettings:O}=Wr({value:o,level:f,minVersion:l,boostLevel:u,includeMargin:c,marginSize:h,imageSettings:p,size:a});W.useEffect(()=>{if(b.current!=null){const A=b.current,k=A.getContext("2d");if(!k)return;let I=D;const F=C.current,P=O!=null&&F!==null&&F.complete&&F.naturalHeight!==0&&F.naturalWidth!==0;P&&O.excavation!=null&&(I=zr(D,O.excavation));const S=window.devicePixelRatio||1;A.height=A.width=a*S;const z=a/T*S;k.scale(z,z),k.fillStyle=d,k.fillRect(0,0,T,T),k.fillStyle=i,Ra?k.fill(new Path2D(Br(I,R))):D.forEach(function(G,te){G.forEach(function(Se,Re){Se&&k.fillRect(Re+R,te+R,1,1)})}),O&&(k.globalAlpha=O.opacity),P&&k.drawImage(F,O.x+R,O.y+R,O.w,O.h)}}),W.useEffect(()=>{E(!1)},[y]);const U=qt({height:a,width:a},v);let M=null;return y!=null&&(M=W.createElement("img",{src:y,key:y,style:{display:"none"},onLoad:()=>{E(!0)},ref:C,crossOrigin:O==null?void 0:O.crossOrigin})),W.createElement(W.Fragment,null,W.createElement("canvas",qt({style:U,height:a,width:a,ref:j,role:"img"},w)),M)});Aa.displayName="QRCodeCanvas";var Ur=W.forwardRef(function(t,n){const s=t,{value:o,size:a=Lr,level:f=Tr,bgColor:d=Or,fgColor:i=_r,includeMargin:c=Dr,minVersion:l=Fr,boostLevel:u,title:h,marginSize:p,imageSettings:g}=s,x=Jt(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:v,cells:w,numCells:y,calculatedImageSettings:b}=Wr({value:o,level:f,minVersion:l,boostLevel:u,includeMargin:c,marginSize:p,imageSettings:g,size:a});let C=w,j=null;g!=null&&b!=null&&(b.excavation!=null&&(C=zr(w,b.excavation)),j=W.createElement("image",{href:g.src,height:b.h,width:b.w,x:b.x+v,y:b.y+v,preserveAspectRatio:"none",opacity:b.opacity,crossOrigin:b.crossOrigin}));const N=Br(C,v);return W.createElement("svg",qt({height:a,width:a,viewBox:`0 0 ${y} ${y}`,ref:n,role:"img"},x),!!h&&W.createElement("title",null,h),W.createElement("path",{fill:d,d:`M0,0 h${y}v${y}H0z`,shapeRendering:"crispEdges"}),W.createElement("path",{fill:i,d:N,shapeRendering:"crispEdges"}),j)});Ur.displayName="QRCodeSVG";const ka=({url:e})=>r.jsxs("div",{children:[r.jsx(Y,{children:"QR Code"}),r.jsx("div",{className:"mt-2 flex justify-center items-center w-full h-28 p-2 bg-inherit rounded-md border border-ring/50",children:r.jsx(Ur,{value:e,height:75,width:75,bgColor:"var(--background)",fgColor:"var(--accent-foreground)",imageSettings:{src:"/logo.svg",height:32,width:32,excavate:!0}})})]}),Pa=e=>{switch(e){case"outline":return"bg-white border border-black/35 dark:border-white/35 dark:text-white dark:bg-black";case"danger":return"bg-red-500 text-white dark:bg-red-900 dark:text-white";case"danger-outline":return"bg-white border border-red-500 text-red-500 dark:border-red-400 dark:text-red-400 dark:bg-black";case"highlight":return"bg-blue-400 text-white dark:bg-blue-400 dark:text-black";case"highlight-outline":return"bg-white border border-blue-400 text-blue-400 dark:border-blue-400 dark:text-blue-400 dark:bg-black";case"none":return"hover:bg-stone-200 dark:hover:bg-stone-800";case"secondary":return"bg-black/10 text-black dark:bg-white/10 dark:text-white";default:return"hover:opacity-70 bg-black text-white dark:bg-white dark:text-black"}},Ia=e=>{switch(e){case"full":return"rounded-full";case"light":return"rounded-lg";default:return"rounded-none"}},Ue=({isOpen:e,...t})=>(m.useEffect(()=>{const n=s=>{e&&s.code==="Escape"&&t.onClose()};return window.addEventListener("keydown",n),()=>{window.removeEventListener("keydown",n)}},[t.onClose]),r.jsx("div",{className:`fixed top-0 left-0 w-full h-full backdrop-blur-[2px] bg-black/50 z-50 flex justify-center items-center transition-all duration-300 ease-out ${e?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:t.onClose,children:r.jsxs("div",{onClick:n=>n.stopPropagation(),className:`w-[calc(100%-40px)] max-w-4xl space-y-8 overflow-y-auto relative min-w-96 bg-white p-4 rounded-lg max-h-[calc(100vh-4rem)] overflow-auto ${Pa(t.variant)} ${Ia(t.roundness)} ${t.className}`,children:[r.jsx("button",{onClick:t.onClose,className:"absolute bg-destructive/50 hover:bg-destructive/75 text-white top-0 right-0 m-2 p-0.5 rounded",children:r.jsx(ia,{className:"size-5"})}),t.children]})}));function Kn({className:e,...t}){return r.jsx("textarea",{"data-slot":"textarea",className:ee("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}const Gn={NoCurrentWorkspace:"Bruh! Where is your workspace?",LinkNotFound:"Bruh! Where is your link?"};function La(e){return $({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"},child:[]}]})(e)}function Ta(e){return $({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M4 3H18L20.7071 5.70711C20.8946 5.89464 21 6.149 21 6.41421V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3ZM7 4V9H16V4H7ZM6 12V19H18V12H6ZM13 5H15V8H13V5Z"},child:[]}]})(e)}function Oa(e){return $({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M18 8H20C20.5523 8 21 8.44772 21 9V21C21 21.5523 20.5523 22 20 22H4C3.44772 22 3 21.5523 3 21V9C3 8.44772 3.44772 8 4 8H6V7C6 3.68629 8.68629 1 12 1C15.3137 1 18 3.68629 18 7V8ZM5 10V20H19V10H5ZM11 14H13V16H11V14ZM7 14H9V16H7V14ZM15 14H17V16H15V14ZM16 8V7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7V8H16Z"},child:[]}]})(e)}function _a(e){return $({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M22 12C22 17.5228 17.5229 22 12 22C6.4772 22 2 17.5228 2 12C2 6.47715 6.4772 2 12 2V4C7.5817 4 4 7.58172 4 12C4 16.4183 7.5817 20 12 20C16.4183 20 20 16.4183 20 12C20 9.53614 18.8862 7.33243 17.1346 5.86492L15 8V2L21 2L18.5535 4.44656C20.6649 6.28002 22 8.9841 22 12Z"},child:[]}]})(e)}function Da(e){return $({attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M4 4l1-1h5.414L14 6.586V14l-1 1H5l-1-1V4zm9 3l-3-3H5v10h8V7z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M3 1L2 2v10l1 1V2h6.414l-1-1H3z"},child:[]}]})(e)}function Fa(e){return $({attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5.5V7.484C12 7.61661 11.9473 7.74379 11.8535 7.83755C11.7598 7.93132 11.6326 7.984 11.5 7.984H4.618L6.251 6.351L5.544 5.644L3.423 7.765L3 8.188V8.756L5.544 11.3L6.251 10.593L4.641 8.984H11.5C11.8978 8.984 12.2793 8.82597 12.5607 8.54466C12.842 8.26336 13 7.88182 13 7.484V5.5H12Z"},child:[]}]})(e)}const Ba=[{label:"Expiration Time",icon:r.jsx(Rr,{className:"size-4"}),key:"expirationTime",show:!1},{label:"Password",icon:r.jsx(Oa,{className:"size-4"}),key:"password",show:!1}],Yn=({isOpen:e,onClose:t,editMode:n=!1,formDataForEdit:s})=>{const[o,a]=m.useState(Ba),[f,d]=m.useState(!1),[i,c]=m.useState(!1),[l,u]=m.useState(!1),h=ge(),p=V(M=>M.workspace),{register:g,handleSubmit:x,setValue:v,formState:{errors:w},reset:y,getValues:b,watch:C}=Rt(),[j,N]=m.useState(b("tags")||[]),E=M=>{a(A=>A.map(I=>I.key===M.key?{...I,show:!I.show}:I))},R=x(M=>{var I;const A=(I=p==null?void 0:p.currentWorkspace)==null?void 0:I._id;if(!A)return Qe.error(Gn.NoCurrentWorkspace);if(n&&!(s!=null&&s._id))return Qe.error(Gn.LinkNotFound);d(!0);const k={...M,tags:j,workspaceId:A};return o.forEach(F=>{!F.show&&k[F.key]&&delete k[F.key]}),Promise.resolve().then(async()=>{n?await h(Co({...k,linkId:(s==null?void 0:s._id)||""})):await h(jo(k))}).then(()=>{d(!1),y(),t()})}),D=()=>{n&&y(),t()},T=async()=>{c(!0);const M=await h(Bn({size:10}));Bn.fulfilled.match(M)&&v("shortUrlKey",M.payload.data),c(!1)},O=async M=>{u(!0);const A=await h(zn(M));zn.fulfilled.match(A)&&v("metadata",A.payload.data),u(!1)},U=async M=>{var k;const A=await h(Wn({workspaceId:((k=p.currentWorkspace)==null?void 0:k._id)||"",q:M}));return Wn.fulfilled.match(A)?A.payload.data:[]};return m.useEffect(()=>{n||T()},[]),m.useEffect(()=>{const M=C("destinationUrl");if(!M)return;const A=setTimeout(()=>{O(M)},1e3);return()=>clearTimeout(A)},[C("destinationUrl")]),m.useEffect(()=>{n&&s&&(v("destinationUrl",s.destinationUrl),v("shortUrlKey",s.shortUrlKey),v("comment",s.comment),v("tags",s.tags),s.expirationTime&&v("expirationTime",s.expirationTime),v("metadata",s.metadata),N(s.tags||[]),s.expirationTime&&a(M=>M.map(k=>k.key==="expirationTime"?{...k,show:!0}:k)),s.hasPassword&&(v("password",s.password),a(M=>M.map(k=>k.key==="password"?{...k,show:!0}:k))))},[n,s]),r.jsx(r.Fragment,{children:r.jsxs(Ue,{variant:"outline",roundness:"light",isOpen:e,onClose:D,children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"size-[32px] border border-ring/70 rounded-full p-1",children:C("metadata.favicon")?r.jsx("img",{src:C("metadata.favicon"),alt:C("metadata.title"),className:"w-full h-full object-cover",onError:M=>{M.currentTarget.src=`${C("destinationUrl")}${C("metadata.favicon")}`}}):r.jsx(la,{className:"size-full"})}),r.jsx(Me,{className:"text-xl",children:n?"Edit Link":"New Link"})]}),r.jsxs("form",{onSubmit:R,className:"flex flex-col gap-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[2fr_1fr] gap-8",children:[r.jsxs("section",{className:"flex flex-col gap-4",children:[r.jsxs("div",{className:"flex flex-col gap-2 relative pb-4",children:[r.jsx(Y,{htmlFor:"link-destinationUrl",children:"*Destination URL"}),r.jsx(re,{id:"link-destinationUrl",type:"text",placeholder:"Ex. https://example.com",className:"w-full",...g("destinationUrl",{required:"Destination URL is required"})}),w.destinationUrl&&r.jsx("span",{className:"text-red-500 text-sm absolute bottom-0",children:w.destinationUrl.message})]}),r.jsxs("div",{className:"flex flex-col gap-2 relative pb-4",children:[r.jsx(Y,{htmlFor:"link-shortUrlKey",children:"*Short Link"}),r.jsxs("div",{className:"flex gap-1 items-center w-full",children:[r.jsx("span",{className:"text-muted-foreground",children:""}),r.jsx(re,{disabled:n,id:"link-shortUrlKey",type:"text",placeholder:"Short Link",className:"w-full",maxLength:10,...g("shortUrlKey",{required:"Short URL is required"})}),r.jsx(B,{disabled:n||i,type:"button",variant:"outline",size:"icon",title:"Generate Short Link",onClick:()=>T(),children:i?r.jsx(J,{className:"size-4"}):r.jsx(vr,{className:"size-5"})})]}),w.shortUrlKey&&r.jsx("span",{className:"text-red-500 text-sm absolute bottom-0",children:w.shortUrlKey.message})]}),r.jsxs("div",{className:"flex flex-col gap-2 relative pb-4",children:[r.jsx(Y,{htmlFor:"link-tags",children:"Tags"}),r.jsx(ya,{inputProps:{id:"link-tags",type:"text",placeholder:"Ex. marketing, sales, etc.",className:"w-full"},limit:5,arrayValues:j,setArrayValues:N,getSuggestions:U}),w.tags&&r.jsx("span",{className:"text-red-500 text-sm absolute bottom-0",children:w.tags.message})]}),r.jsxs("div",{className:"flex flex-col gap-2 relative pb-4",children:[r.jsx(Y,{htmlFor:"link-comment",children:"Comment"}),r.jsx(Kn,{id:"link-comment",placeholder:"Comment",className:"w-full h-24",style:{resize:"none"},...g("comment",{maxLength:{value:250,message:"Comment must not exceed 250 characters"}})}),w.comment&&r.jsx("span",{className:"text-red-500 text-sm absolute bottom-0",children:w.comment.message})]}),o.find(M=>M.key==="expirationTime"&&M.show)&&r.jsxs("div",{className:"flex flex-col gap-2 relative pb-4",children:[r.jsx(Y,{children:r.jsx("span",{children:"Expiration Time"})}),r.jsxs("div",{className:"flex gap-1 items-center w-full",children:[r.jsx(re,{type:"text",value:C("expirationTime")?new Date(C("expirationTime")||"").toLocaleString():"",placeholder:"Ex. 4/15/2025, 5:19:00 PM",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary/50"}),r.jsx(B,{type:"button",variant:"outline",size:"icon",children:r.jsxs(Y,{htmlFor:"link-expiration-time",children:[r.jsx(Rr,{className:"size-5"}),r.jsx("input",{id:"link-expiration-time",type:"datetime-local",className:"absolute opacity-0",onFocus:M=>{M.target.showPicker()},...g("expirationTime",{required:"Expiration Time is required"})})]})})]}),w.expirationTime&&r.jsx("span",{className:"text-red-500 text-sm absolute bottom-0",children:w.expirationTime.message})]}),o.find(M=>M.key==="password"&&M.show)&&r.jsxs("div",{className:"flex flex-col gap-2 relative pb-4",children:[r.jsx(Y,{htmlFor:"link-password",children:r.jsx("span",{children:"Password"})}),r.jsx("div",{className:"flex gap-2 items-center w-full",children:r.jsx(re,{id:"link-password",type:"password",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary/50",...g("password",{required:"Password is required"})})}),w.password&&r.jsx("span",{className:"text-red-500 text-sm absolute bottom-0",children:w.password.message})]})]}),r.jsxs("section",{className:"flex flex-col gap-2 relative",children:[r.jsx("div",{children:r.jsx(ka,{url:"https://example.com"})}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx(Y,{children:"Share"}),r.jsxs("div",{className:"flex gap-2 justify-around",children:[r.jsx(ca,{className:"size-8 border border-input p-2 rounded-md"}),r.jsx(La,{className:"size-8 border border-input p-2 rounded-md"})]})]}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx(Y,{children:"Link Preview"}),r.jsx("div",{className:"border border-ring/50 rounded-md",children:r.jsx("img",{src:C("metadata.previewImg"),className:"w-full h-40 object-cover",alt:""})}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx(re,{style:{fontSize:"12px",fontWeight:"bold"},className:"p-0 h-5 border-0 rounded-none focus-visible:ring-0 focus-visible:border-0",placeholder:"Add a title",...g("metadata.title")}),r.jsx(Kn,{style:{fontSize:"12px"},className:"p-0 text-xs h-5 border-0 rounded-none focus-visible:ring-0 focus-visible:border-0",placeholder:"Add a description",...g("metadata.description")})]})]})]})]}),r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 relative pb-4 justify-between",children:[r.jsx("div",{className:"flex gap-4",children:o.map(M=>r.jsx("div",{className:"flex gap-1 items-center",children:r.jsxs(B,{type:"button",variant:M.show?"default":"outline",className:"flex items-center gap-2",onClick:A=>{A.preventDefault(),E(M)},children:[M.icon,r.jsx("span",{children:M.label})]})},M.key))}),r.jsxs(B,{disabled:f,className:"flex items-center gap-2",type:"submit",children:[r.jsx("span",{children:n?"Update Link":"Create Link"}),f?r.jsx(J,{className:"size-5"}):r.jsx(Fa,{className:"size-5"})]})]})]})]})})},za=({link:e,isOpen:t,onClose:n})=>{const s="Delete Link",o=V(d=>d.workspace),a=ge(),f=()=>{e&&a(No(e._id)).then(()=>n())};return r.jsx(r.Fragment,{children:r.jsxs(Ue,{variant:"outline",roundness:"light",isOpen:t,onClose:n,children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(tt,{className:"size-6"}),r.jsx(Me,{className:"text-xl",children:s})]}),r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[r.jsx("p",{className:"text-sm text-center text-muted-foreground",children:"Are you sure you want to delete this link and all the data associated with it? This action cannot be undone."}),r.jsxs(B,{className:"flex gap-2 items-center w-fit",variant:"destructive",onClick:f,children:[o.deleteLoading&&r.jsx(J,{className:"size-5"}),r.jsx("span",{children:s})]})]})]})})};function _(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function $r({prop:e,defaultProp:t,onChange:n=()=>{}}){const[s,o]=Wa({defaultProp:t,onChange:n}),a=e!==void 0,f=a?e:s,d=oe(n),i=m.useCallback(c=>{if(a){const u=typeof c=="function"?c(e):c;u!==e&&d(u)}else o(c)},[a,e,o,d]);return[f,i]}function Wa({defaultProp:e,onChange:t}){const n=m.useState(e),[s]=n,o=m.useRef(s),a=oe(t);return m.useEffect(()=>{o.current!==s&&(a(s),o.current=s)},[s,o,a]),n}function Hr(e){const t=e+"CollectionProvider",[n,s]=We(t),[o,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),f=p=>{const{scope:g,children:x}=p,v=W.useRef(null),w=W.useRef(new Map).current;return r.jsx(o,{scope:g,itemMap:w,collectionRef:v,children:x})};f.displayName=t;const d=e+"CollectionSlot",i=W.forwardRef((p,g)=>{const{scope:x,children:v}=p,w=a(d,x),y=Q(g,w.collectionRef);return r.jsx(Zt,{ref:y,children:v})});i.displayName=d;const c=e+"CollectionItemSlot",l="data-radix-collection-item",u=W.forwardRef((p,g)=>{const{scope:x,children:v,...w}=p,y=W.useRef(null),b=Q(g,y),C=a(c,x);return W.useEffect(()=>(C.itemMap.set(y,{ref:y,...w}),()=>void C.itemMap.delete(y))),r.jsx(Zt,{[l]:"",ref:b,children:v})});u.displayName=c;function h(p){const g=a(e+"CollectionConsumer",p);return W.useCallback(()=>{const v=g.collectionRef.current;if(!v)return[];const w=Array.from(v.querySelectorAll(`[${l}]`));return Array.from(g.itemMap.values()).sort((C,j)=>w.indexOf(C.ref.current)-w.indexOf(j.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:f,Slot:i,ItemSlot:u},h,s]}var Ua=m.createContext(void 0);function Vr(e){const t=m.useContext(Ua);return e||t||"ltr"}function $a(e,t=globalThis==null?void 0:globalThis.document){const n=oe(e);m.useEffect(()=>{const s=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var Ha="DismissableLayer",en="dismissableLayer.update",Va="dismissableLayer.pointerDownOutside",Ka="dismissableLayer.focusOutside",Xn,Kr=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Gr=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:f,onDismiss:d,...i}=e,c=m.useContext(Kr),[l,u]=m.useState(null),h=(l==null?void 0:l.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=m.useState({}),g=Q(t,E=>u(E)),x=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=x.indexOf(v),y=l?x.indexOf(l):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,C=y>=w,j=Xa(E=>{const R=E.target,D=[...c.branches].some(T=>T.contains(R));!C||D||(o==null||o(E),f==null||f(E),E.defaultPrevented||d==null||d())},h),N=Qa(E=>{const R=E.target;[...c.branches].some(T=>T.contains(R))||(a==null||a(E),f==null||f(E),E.defaultPrevented||d==null||d())},h);return $a(E=>{y===c.layers.size-1&&(s==null||s(E),!E.defaultPrevented&&d&&(E.preventDefault(),d()))},h),m.useEffect(()=>{if(l)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Xn=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(l)),c.layers.add(l),Qn(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Xn)}},[l,h,n,c]),m.useEffect(()=>()=>{l&&(c.layers.delete(l),c.layersWithOutsidePointerEventsDisabled.delete(l),Qn())},[l,c]),m.useEffect(()=>{const E=()=>p({});return document.addEventListener(en,E),()=>document.removeEventListener(en,E)},[]),r.jsx(K.div,{...i,ref:g,style:{pointerEvents:b?C?"auto":"none":void 0,...e.style},onFocusCapture:_(e.onFocusCapture,N.onFocusCapture),onBlurCapture:_(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:_(e.onPointerDownCapture,j.onPointerDownCapture)})});Gr.displayName=Ha;var Ga="DismissableLayerBranch",Ya=m.forwardRef((e,t)=>{const n=m.useContext(Kr),s=m.useRef(null),o=Q(t,s);return m.useEffect(()=>{const a=s.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),r.jsx(K.div,{...e,ref:o})});Ya.displayName=Ga;function Xa(e,t=globalThis==null?void 0:globalThis.document){const n=oe(e),s=m.useRef(!1),o=m.useRef(()=>{});return m.useEffect(()=>{const a=d=>{if(d.target&&!s.current){let i=function(){Yr(Va,n,c,{discrete:!0})};const c={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=i,t.addEventListener("click",o.current,{once:!0})):i()}else t.removeEventListener("click",o.current);s.current=!1},f=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(f),t.removeEventListener("pointerdown",a),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function Qa(e,t=globalThis==null?void 0:globalThis.document){const n=oe(e),s=m.useRef(!1);return m.useEffect(()=>{const o=a=>{a.target&&!s.current&&Yr(Ka,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Qn(){const e=new CustomEvent(en);document.dispatchEvent(e)}function Yr(e,t,n,{discrete:s}){const o=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),s?yr(o,a):o.dispatchEvent(a)}var Wt=0;function Za(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Zn()),document.body.insertAdjacentElement("beforeend",e[1]??Zn()),Wt++,()=>{Wt===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Wt--}},[])}function Zn(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ut="focusScope.autoFocusOnMount",$t="focusScope.autoFocusOnUnmount",qn={bubbles:!1,cancelable:!0},qa="FocusScope",Xr=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...f}=e,[d,i]=m.useState(null),c=oe(o),l=oe(a),u=m.useRef(null),h=Q(t,x=>i(x)),p=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(s){let x=function(b){if(p.paused||!d)return;const C=b.target;d.contains(C)?u.current=C:Ce(u.current,{select:!0})},v=function(b){if(p.paused||!d)return;const C=b.relatedTarget;C!==null&&(d.contains(C)||Ce(u.current,{select:!0}))},w=function(b){if(document.activeElement===document.body)for(const j of b)j.removedNodes.length>0&&Ce(d)};document.addEventListener("focusin",x),document.addEventListener("focusout",v);const y=new MutationObserver(w);return d&&y.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",v),y.disconnect()}}},[s,d,p.paused]),m.useEffect(()=>{if(d){er.add(p);const x=document.activeElement;if(!d.contains(x)){const w=new CustomEvent(Ut,qn);d.addEventListener(Ut,c),d.dispatchEvent(w),w.defaultPrevented||(Ja(si(Qr(d)),{select:!0}),document.activeElement===x&&Ce(d))}return()=>{d.removeEventListener(Ut,c),setTimeout(()=>{const w=new CustomEvent($t,qn);d.addEventListener($t,l),d.dispatchEvent(w),w.defaultPrevented||Ce(x??document.body,{select:!0}),d.removeEventListener($t,l),er.remove(p)},0)}}},[d,c,l,p]);const g=m.useCallback(x=>{if(!n&&!s||p.paused)return;const v=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,w=document.activeElement;if(v&&w){const y=x.currentTarget,[b,C]=ei(y);b&&C?!x.shiftKey&&w===C?(x.preventDefault(),n&&Ce(b,{select:!0})):x.shiftKey&&w===b&&(x.preventDefault(),n&&Ce(C,{select:!0})):w===y&&x.preventDefault()}},[n,s,p.paused]);return r.jsx(K.div,{tabIndex:-1,...f,ref:h,onKeyDown:g})});Xr.displayName=qa;function Ja(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(Ce(s,{select:t}),document.activeElement!==n)return}function ei(e){const t=Qr(e),n=Jn(t,e),s=Jn(t.reverse(),e);return[n,s]}function Qr(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const o=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||o?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Jn(e,t){for(const n of e)if(!ti(n,{upTo:t}))return n}function ti(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ni(e){return e instanceof HTMLInputElement&&"select"in e}function Ce(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&ni(e)&&t&&e.select()}}var er=ri();function ri(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=tr(e,t),e.unshift(t)},remove(t){var n;e=tr(e,t),(n=e[0])==null||n.resume()}}}function tr(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function si(e){return e.filter(t=>t.tagName!=="A")}var oi=Eo.useId||(()=>{}),ai=0;function tn(e){const[t,n]=m.useState(oi());return we(()=>{n(s=>s??String(ai++))},[e]),e||(t?`radix-${t}`:"")}const ii=["top","right","bottom","left"],je=Math.min,Z=Math.max,bt=Math.round,ct=Math.floor,ue=e=>({x:e,y:e}),ci={left:"right",right:"left",bottom:"top",top:"bottom"},li={start:"end",end:"start"};function nn(e,t,n){return Z(e,je(t,n))}function ye(e,t){return typeof e=="function"?e(t):e}function be(e){return e.split("-")[0]}function $e(e){return e.split("-")[1]}function fn(e){return e==="x"?"y":"x"}function hn(e){return e==="y"?"height":"width"}function Ne(e){return["top","bottom"].includes(be(e))?"y":"x"}function mn(e){return fn(Ne(e))}function di(e,t,n){n===void 0&&(n=!1);const s=$e(e),o=mn(e),a=hn(o);let f=o==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(f=Ct(f)),[f,Ct(f)]}function ui(e){const t=Ct(e);return[rn(e),t,rn(t)]}function rn(e){return e.replace(/start|end/g,t=>li[t])}function fi(e,t,n){const s=["left","right"],o=["right","left"],a=["top","bottom"],f=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:s:t?s:o;case"left":case"right":return t?a:f;default:return[]}}function hi(e,t,n,s){const o=$e(e);let a=fi(be(e),n==="start",s);return o&&(a=a.map(f=>f+"-"+o),t&&(a=a.concat(a.map(rn)))),a}function Ct(e){return e.replace(/left|right|bottom|top/g,t=>ci[t])}function mi(e){return{top:0,right:0,bottom:0,left:0,...e}}function Zr(e){return typeof e!="number"?mi(e):{top:e,right:e,bottom:e,left:e}}function jt(e){const{x:t,y:n,width:s,height:o}=e;return{width:s,height:o,top:n,left:t,right:t+s,bottom:n+o,x:t,y:n}}function nr(e,t,n){let{reference:s,floating:o}=e;const a=Ne(t),f=mn(t),d=hn(f),i=be(t),c=a==="y",l=s.x+s.width/2-o.width/2,u=s.y+s.height/2-o.height/2,h=s[d]/2-o[d]/2;let p;switch(i){case"top":p={x:l,y:s.y-o.height};break;case"bottom":p={x:l,y:s.y+s.height};break;case"right":p={x:s.x+s.width,y:u};break;case"left":p={x:s.x-o.width,y:u};break;default:p={x:s.x,y:s.y}}switch($e(t)){case"start":p[f]-=h*(n&&c?-1:1);break;case"end":p[f]+=h*(n&&c?-1:1);break}return p}const pi=async(e,t,n)=>{const{placement:s="bottom",strategy:o="absolute",middleware:a=[],platform:f}=n,d=a.filter(Boolean),i=await(f.isRTL==null?void 0:f.isRTL(t));let c=await f.getElementRects({reference:e,floating:t,strategy:o}),{x:l,y:u}=nr(c,s,i),h=s,p={},g=0;for(let x=0;x<d.length;x++){const{name:v,fn:w}=d[x],{x:y,y:b,data:C,reset:j}=await w({x:l,y:u,initialPlacement:s,placement:h,strategy:o,middlewareData:p,rects:c,platform:f,elements:{reference:e,floating:t}});l=y??l,u=b??u,p={...p,[v]:{...p[v],...C}},j&&g<=50&&(g++,typeof j=="object"&&(j.placement&&(h=j.placement),j.rects&&(c=j.rects===!0?await f.getElementRects({reference:e,floating:t,strategy:o}):j.rects),{x:l,y:u}=nr(c,h,i)),x=-1)}return{x:l,y:u,placement:h,strategy:o,middlewareData:p}};async function Ze(e,t){var n;t===void 0&&(t={});const{x:s,y:o,platform:a,rects:f,elements:d,strategy:i}=e,{boundary:c="clippingAncestors",rootBoundary:l="viewport",elementContext:u="floating",altBoundary:h=!1,padding:p=0}=ye(t,e),g=Zr(p),v=d[h?u==="floating"?"reference":"floating":u],w=jt(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(v)))==null||n?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(d.floating)),boundary:c,rootBoundary:l,strategy:i})),y=u==="floating"?{x:s,y:o,width:f.floating.width,height:f.floating.height}:f.reference,b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d.floating)),C=await(a.isElement==null?void 0:a.isElement(b))?await(a.getScale==null?void 0:a.getScale(b))||{x:1,y:1}:{x:1,y:1},j=jt(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:y,offsetParent:b,strategy:i}):y);return{top:(w.top-j.top+g.top)/C.y,bottom:(j.bottom-w.bottom+g.bottom)/C.y,left:(w.left-j.left+g.left)/C.x,right:(j.right-w.right+g.right)/C.x}}const gi=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:o,rects:a,platform:f,elements:d,middlewareData:i}=t,{element:c,padding:l=0}=ye(e,t)||{};if(c==null)return{};const u=Zr(l),h={x:n,y:s},p=mn(o),g=hn(p),x=await f.getDimensions(c),v=p==="y",w=v?"top":"left",y=v?"bottom":"right",b=v?"clientHeight":"clientWidth",C=a.reference[g]+a.reference[p]-h[p]-a.floating[g],j=h[p]-a.reference[p],N=await(f.getOffsetParent==null?void 0:f.getOffsetParent(c));let E=N?N[b]:0;(!E||!await(f.isElement==null?void 0:f.isElement(N)))&&(E=d.floating[b]||a.floating[g]);const R=C/2-j/2,D=E/2-x[g]/2-1,T=je(u[w],D),O=je(u[y],D),U=T,M=E-x[g]-O,A=E/2-x[g]/2+R,k=nn(U,A,M),I=!i.arrow&&$e(o)!=null&&A!==k&&a.reference[g]/2-(A<U?T:O)-x[g]/2<0,F=I?A<U?A-U:A-M:0;return{[p]:h[p]+F,data:{[p]:k,centerOffset:A-k-F,...I&&{alignmentOffset:F}},reset:I}}}),xi=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:o,middlewareData:a,rects:f,initialPlacement:d,platform:i,elements:c}=t,{mainAxis:l=!0,crossAxis:u=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:x=!0,...v}=ye(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const w=be(o),y=Ne(d),b=be(d)===d,C=await(i.isRTL==null?void 0:i.isRTL(c.floating)),j=h||(b||!x?[Ct(d)]:ui(d)),N=g!=="none";!h&&N&&j.push(...hi(d,x,g,C));const E=[d,...j],R=await Ze(t,v),D=[];let T=((s=a.flip)==null?void 0:s.overflows)||[];if(l&&D.push(R[w]),u){const A=di(o,f,C);D.push(R[A[0]],R[A[1]])}if(T=[...T,{placement:o,overflows:D}],!D.every(A=>A<=0)){var O,U;const A=(((O=a.flip)==null?void 0:O.index)||0)+1,k=E[A];if(k)return{data:{index:A,overflows:T},reset:{placement:k}};let I=(U=T.filter(F=>F.overflows[0]<=0).sort((F,P)=>F.overflows[1]-P.overflows[1])[0])==null?void 0:U.placement;if(!I)switch(p){case"bestFit":{var M;const F=(M=T.filter(P=>{if(N){const S=Ne(P.placement);return S===y||S==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(S=>S>0).reduce((S,z)=>S+z,0)]).sort((P,S)=>P[1]-S[1])[0])==null?void 0:M[0];F&&(I=F);break}case"initialPlacement":I=d;break}if(o!==I)return{reset:{placement:I}}}return{}}}};function rr(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function sr(e){return ii.some(t=>e[t]>=0)}const vi=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...o}=ye(e,t);switch(s){case"referenceHidden":{const a=await Ze(t,{...o,elementContext:"reference"}),f=rr(a,n.reference);return{data:{referenceHiddenOffsets:f,referenceHidden:sr(f)}}}case"escaped":{const a=await Ze(t,{...o,altBoundary:!0}),f=rr(a,n.floating);return{data:{escapedOffsets:f,escaped:sr(f)}}}default:return{}}}}};async function wi(e,t){const{placement:n,platform:s,elements:o}=e,a=await(s.isRTL==null?void 0:s.isRTL(o.floating)),f=be(n),d=$e(n),i=Ne(n)==="y",c=["left","top"].includes(f)?-1:1,l=a&&i?-1:1,u=ye(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return d&&typeof g=="number"&&(p=d==="end"?g*-1:g),i?{x:p*l,y:h*c}:{x:h*c,y:p*l}}const yi=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:o,y:a,placement:f,middlewareData:d}=t,i=await wi(t,e);return f===((n=d.offset)==null?void 0:n.placement)&&(s=d.arrow)!=null&&s.alignmentOffset?{}:{x:o+i.x,y:a+i.y,data:{...i,placement:f}}}}},bi=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:o}=t,{mainAxis:a=!0,crossAxis:f=!1,limiter:d={fn:v=>{let{x:w,y}=v;return{x:w,y}}},...i}=ye(e,t),c={x:n,y:s},l=await Ze(t,i),u=Ne(be(o)),h=fn(u);let p=c[h],g=c[u];if(a){const v=h==="y"?"top":"left",w=h==="y"?"bottom":"right",y=p+l[v],b=p-l[w];p=nn(y,p,b)}if(f){const v=u==="y"?"top":"left",w=u==="y"?"bottom":"right",y=g+l[v],b=g-l[w];g=nn(y,g,b)}const x=d.fn({...t,[h]:p,[u]:g});return{...x,data:{x:x.x-n,y:x.y-s,enabled:{[h]:a,[u]:f}}}}}},Ci=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:o,rects:a,middlewareData:f}=t,{offset:d=0,mainAxis:i=!0,crossAxis:c=!0}=ye(e,t),l={x:n,y:s},u=Ne(o),h=fn(u);let p=l[h],g=l[u];const x=ye(d,t),v=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(i){const b=h==="y"?"height":"width",C=a.reference[h]-a.floating[b]+v.mainAxis,j=a.reference[h]+a.reference[b]-v.mainAxis;p<C?p=C:p>j&&(p=j)}if(c){var w,y;const b=h==="y"?"width":"height",C=["top","left"].includes(be(o)),j=a.reference[u]-a.floating[b]+(C&&((w=f.offset)==null?void 0:w[u])||0)+(C?0:v.crossAxis),N=a.reference[u]+a.reference[b]+(C?0:((y=f.offset)==null?void 0:y[u])||0)-(C?v.crossAxis:0);g<j?g=j:g>N&&(g=N)}return{[h]:p,[u]:g}}}},ji=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:o,rects:a,platform:f,elements:d}=t,{apply:i=()=>{},...c}=ye(e,t),l=await Ze(t,c),u=be(o),h=$e(o),p=Ne(o)==="y",{width:g,height:x}=a.floating;let v,w;u==="top"||u==="bottom"?(v=u,w=h===(await(f.isRTL==null?void 0:f.isRTL(d.floating))?"start":"end")?"left":"right"):(w=u,v=h==="end"?"top":"bottom");const y=x-l.top-l.bottom,b=g-l.left-l.right,C=je(x-l[v],y),j=je(g-l[w],b),N=!t.middlewareData.shift;let E=C,R=j;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(R=b),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(E=y),N&&!h){const T=Z(l.left,0),O=Z(l.right,0),U=Z(l.top,0),M=Z(l.bottom,0);p?R=g-2*(T!==0||O!==0?T+O:Z(l.left,l.right)):E=x-2*(U!==0||M!==0?U+M:Z(l.top,l.bottom))}await i({...t,availableWidth:R,availableHeight:E});const D=await f.getDimensions(d.floating);return g!==D.width||x!==D.height?{reset:{rects:!0}}:{}}}};function Pt(){return typeof window<"u"}function He(e){return qr(e)?(e.nodeName||"").toLowerCase():"#document"}function q(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function xe(e){var t;return(t=(qr(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function qr(e){return Pt()?e instanceof Node||e instanceof q(e).Node:!1}function ce(e){return Pt()?e instanceof Element||e instanceof q(e).Element:!1}function pe(e){return Pt()?e instanceof HTMLElement||e instanceof q(e).HTMLElement:!1}function or(e){return!Pt()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof q(e).ShadowRoot}function nt(e){const{overflow:t,overflowX:n,overflowY:s,display:o}=le(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!["inline","contents"].includes(o)}function Ni(e){return["table","td","th"].includes(He(e))}function It(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function pn(e){const t=gn(),n=ce(e)?le(e):e;return["transform","translate","scale","rotate","perspective"].some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(n.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(n.contain||"").includes(s))}function Ei(e){let t=Ee(e);for(;pe(t)&&!ze(t);){if(pn(t))return t;if(It(t))return null;t=Ee(t)}return null}function gn(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ze(e){return["html","body","#document"].includes(He(e))}function le(e){return q(e).getComputedStyle(e)}function Lt(e){return ce(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ee(e){if(He(e)==="html")return e;const t=e.assignedSlot||e.parentNode||or(e)&&e.host||xe(e);return or(t)?t.host:t}function Jr(e){const t=Ee(e);return ze(t)?e.ownerDocument?e.ownerDocument.body:e.body:pe(t)&&nt(t)?t:Jr(t)}function qe(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=Jr(e),a=o===((s=e.ownerDocument)==null?void 0:s.body),f=q(o);if(a){const d=sn(f);return t.concat(f,f.visualViewport||[],nt(o)?o:[],d&&n?qe(d):[])}return t.concat(o,qe(o,[],n))}function sn(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function es(e){const t=le(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const o=pe(e),a=o?e.offsetWidth:n,f=o?e.offsetHeight:s,d=bt(n)!==a||bt(s)!==f;return d&&(n=a,s=f),{width:n,height:s,$:d}}function xn(e){return ce(e)?e:e.contextElement}function Fe(e){const t=xn(e);if(!pe(t))return ue(1);const n=t.getBoundingClientRect(),{width:s,height:o,$:a}=es(t);let f=(a?bt(n.width):n.width)/s,d=(a?bt(n.height):n.height)/o;return(!f||!Number.isFinite(f))&&(f=1),(!d||!Number.isFinite(d))&&(d=1),{x:f,y:d}}const Mi=ue(0);function ts(e){const t=q(e);return!gn()||!t.visualViewport?Mi:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Si(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==q(e)?!1:t}function Pe(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),a=xn(e);let f=ue(1);t&&(s?ce(s)&&(f=Fe(s)):f=Fe(e));const d=Si(a,n,s)?ts(a):ue(0);let i=(o.left+d.x)/f.x,c=(o.top+d.y)/f.y,l=o.width/f.x,u=o.height/f.y;if(a){const h=q(a),p=s&&ce(s)?q(s):s;let g=h,x=sn(g);for(;x&&s&&p!==g;){const v=Fe(x),w=x.getBoundingClientRect(),y=le(x),b=w.left+(x.clientLeft+parseFloat(y.paddingLeft))*v.x,C=w.top+(x.clientTop+parseFloat(y.paddingTop))*v.y;i*=v.x,c*=v.y,l*=v.x,u*=v.y,i+=b,c+=C,g=q(x),x=sn(g)}}return jt({width:l,height:u,x:i,y:c})}function vn(e,t){const n=Lt(e).scrollLeft;return t?t.left+n:Pe(xe(e)).left+n}function ns(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=s.left+t.scrollLeft-(n?0:vn(e,s)),a=s.top+t.scrollTop;return{x:o,y:a}}function Ri(e){let{elements:t,rect:n,offsetParent:s,strategy:o}=e;const a=o==="fixed",f=xe(s),d=t?It(t.floating):!1;if(s===f||d&&a)return n;let i={scrollLeft:0,scrollTop:0},c=ue(1);const l=ue(0),u=pe(s);if((u||!u&&!a)&&((He(s)!=="body"||nt(f))&&(i=Lt(s)),pe(s))){const p=Pe(s);c=Fe(s),l.x=p.x+s.clientLeft,l.y=p.y+s.clientTop}const h=f&&!u&&!a?ns(f,i,!0):ue(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-i.scrollLeft*c.x+l.x+h.x,y:n.y*c.y-i.scrollTop*c.y+l.y+h.y}}function Ai(e){return Array.from(e.getClientRects())}function ki(e){const t=xe(e),n=Lt(e),s=e.ownerDocument.body,o=Z(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),a=Z(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let f=-n.scrollLeft+vn(e);const d=-n.scrollTop;return le(s).direction==="rtl"&&(f+=Z(t.clientWidth,s.clientWidth)-o),{width:o,height:a,x:f,y:d}}function Pi(e,t){const n=q(e),s=xe(e),o=n.visualViewport;let a=s.clientWidth,f=s.clientHeight,d=0,i=0;if(o){a=o.width,f=o.height;const c=gn();(!c||c&&t==="fixed")&&(d=o.offsetLeft,i=o.offsetTop)}return{width:a,height:f,x:d,y:i}}function Ii(e,t){const n=Pe(e,!0,t==="fixed"),s=n.top+e.clientTop,o=n.left+e.clientLeft,a=pe(e)?Fe(e):ue(1),f=e.clientWidth*a.x,d=e.clientHeight*a.y,i=o*a.x,c=s*a.y;return{width:f,height:d,x:i,y:c}}function ar(e,t,n){let s;if(t==="viewport")s=Pi(e,n);else if(t==="document")s=ki(xe(e));else if(ce(t))s=Ii(t,n);else{const o=ts(e);s={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return jt(s)}function rs(e,t){const n=Ee(e);return n===t||!ce(n)||ze(n)?!1:le(n).position==="fixed"||rs(n,t)}function Li(e,t){const n=t.get(e);if(n)return n;let s=qe(e,[],!1).filter(d=>ce(d)&&He(d)!=="body"),o=null;const a=le(e).position==="fixed";let f=a?Ee(e):e;for(;ce(f)&&!ze(f);){const d=le(f),i=pn(f);!i&&d.position==="fixed"&&(o=null),(a?!i&&!o:!i&&d.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||nt(f)&&!i&&rs(e,f))?s=s.filter(l=>l!==f):o=d,f=Ee(f)}return t.set(e,s),s}function Ti(e){let{element:t,boundary:n,rootBoundary:s,strategy:o}=e;const f=[...n==="clippingAncestors"?It(t)?[]:Li(t,this._c):[].concat(n),s],d=f[0],i=f.reduce((c,l)=>{const u=ar(t,l,o);return c.top=Z(u.top,c.top),c.right=je(u.right,c.right),c.bottom=je(u.bottom,c.bottom),c.left=Z(u.left,c.left),c},ar(t,d,o));return{width:i.right-i.left,height:i.bottom-i.top,x:i.left,y:i.top}}function Oi(e){const{width:t,height:n}=es(e);return{width:t,height:n}}function _i(e,t,n){const s=pe(t),o=xe(t),a=n==="fixed",f=Pe(e,!0,a,t);let d={scrollLeft:0,scrollTop:0};const i=ue(0);if(s||!s&&!a)if((He(t)!=="body"||nt(o))&&(d=Lt(t)),s){const h=Pe(t,!0,a,t);i.x=h.x+t.clientLeft,i.y=h.y+t.clientTop}else o&&(i.x=vn(o));const c=o&&!s&&!a?ns(o,d):ue(0),l=f.left+d.scrollLeft-i.x-c.x,u=f.top+d.scrollTop-i.y-c.y;return{x:l,y:u,width:f.width,height:f.height}}function Ht(e){return le(e).position==="static"}function ir(e,t){if(!pe(e)||le(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return xe(e)===n&&(n=n.ownerDocument.body),n}function ss(e,t){const n=q(e);if(It(e))return n;if(!pe(e)){let o=Ee(e);for(;o&&!ze(o);){if(ce(o)&&!Ht(o))return o;o=Ee(o)}return n}let s=ir(e,t);for(;s&&Ni(s)&&Ht(s);)s=ir(s,t);return s&&ze(s)&&Ht(s)&&!pn(s)?n:s||Ei(e)||n}const Di=async function(e){const t=this.getOffsetParent||ss,n=this.getDimensions,s=await n(e.floating);return{reference:_i(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function Fi(e){return le(e).direction==="rtl"}const Bi={convertOffsetParentRelativeRectToViewportRelativeRect:Ri,getDocumentElement:xe,getClippingRect:Ti,getOffsetParent:ss,getElementRects:Di,getClientRects:Ai,getDimensions:Oi,getScale:Fe,isElement:ce,isRTL:Fi};function os(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function zi(e,t){let n=null,s;const o=xe(e);function a(){var d;clearTimeout(s),(d=n)==null||d.disconnect(),n=null}function f(d,i){d===void 0&&(d=!1),i===void 0&&(i=1),a();const c=e.getBoundingClientRect(),{left:l,top:u,width:h,height:p}=c;if(d||t(),!h||!p)return;const g=ct(u),x=ct(o.clientWidth-(l+h)),v=ct(o.clientHeight-(u+p)),w=ct(l),b={rootMargin:-g+"px "+-x+"px "+-v+"px "+-w+"px",threshold:Z(0,je(1,i))||1};let C=!0;function j(N){const E=N[0].intersectionRatio;if(E!==i){if(!C)return f();E?f(!1,E):s=setTimeout(()=>{f(!1,1e-7)},1e3)}E===1&&!os(c,e.getBoundingClientRect())&&f(),C=!1}try{n=new IntersectionObserver(j,{...b,root:o.ownerDocument})}catch{n=new IntersectionObserver(j,b)}n.observe(e)}return f(!0),a}function Wi(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:f=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:i=!1}=s,c=xn(e),l=o||a?[...c?qe(c):[],...qe(t)]:[];l.forEach(w=>{o&&w.addEventListener("scroll",n,{passive:!0}),a&&w.addEventListener("resize",n)});const u=c&&d?zi(c,n):null;let h=-1,p=null;f&&(p=new ResizeObserver(w=>{let[y]=w;y&&y.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),n()}),c&&!i&&p.observe(c),p.observe(t));let g,x=i?Pe(e):null;i&&v();function v(){const w=Pe(e);x&&!os(x,w)&&n(),x=w,g=requestAnimationFrame(v)}return n(),()=>{var w;l.forEach(y=>{o&&y.removeEventListener("scroll",n),a&&y.removeEventListener("resize",n)}),u==null||u(),(w=p)==null||w.disconnect(),p=null,i&&cancelAnimationFrame(g)}}const Ui=yi,$i=bi,Hi=xi,Vi=ji,Ki=vi,cr=gi,Gi=Ci,Yi=(e,t,n)=>{const s=new Map,o={platform:Bi,...n},a={...o.platform,_c:s};return pi(e,t,{...o,platform:a})};var gt=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Nt(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!Nt(e[s],t[s]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,o[s]))return!1;for(s=n;s--!==0;){const a=o[s];if(!(a==="_owner"&&e.$$typeof)&&!Nt(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function as(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function lr(e,t){const n=as(e);return Math.round(t*n)/n}function Vt(e){const t=m.useRef(e);return gt(()=>{t.current=e}),t}function Xi(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:o,elements:{reference:a,floating:f}={},transform:d=!0,whileElementsMounted:i,open:c}=e,[l,u]=m.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=m.useState(s);Nt(h,s)||p(s);const[g,x]=m.useState(null),[v,w]=m.useState(null),y=m.useCallback(P=>{P!==N.current&&(N.current=P,x(P))},[]),b=m.useCallback(P=>{P!==E.current&&(E.current=P,w(P))},[]),C=a||g,j=f||v,N=m.useRef(null),E=m.useRef(null),R=m.useRef(l),D=i!=null,T=Vt(i),O=Vt(o),U=Vt(c),M=m.useCallback(()=>{if(!N.current||!E.current)return;const P={placement:t,strategy:n,middleware:h};O.current&&(P.platform=O.current),Yi(N.current,E.current,P).then(S=>{const z={...S,isPositioned:U.current!==!1};A.current&&!Nt(R.current,z)&&(R.current=z,Mo.flushSync(()=>{u(z)}))})},[h,t,n,O,U]);gt(()=>{c===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,u(P=>({...P,isPositioned:!1})))},[c]);const A=m.useRef(!1);gt(()=>(A.current=!0,()=>{A.current=!1}),[]),gt(()=>{if(C&&(N.current=C),j&&(E.current=j),C&&j){if(T.current)return T.current(C,j,M);M()}},[C,j,M,T,D]);const k=m.useMemo(()=>({reference:N,floating:E,setReference:y,setFloating:b}),[y,b]),I=m.useMemo(()=>({reference:C,floating:j}),[C,j]),F=m.useMemo(()=>{const P={position:n,left:0,top:0};if(!I.floating)return P;const S=lr(I.floating,l.x),z=lr(I.floating,l.y);return d?{...P,transform:"translate("+S+"px, "+z+"px)",...as(I.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:S,top:z}},[n,d,I.floating,l.x,l.y]);return m.useMemo(()=>({...l,update:M,refs:k,elements:I,floatingStyles:F}),[l,M,k,I,F])}const Qi=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:o}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?cr({element:s.current,padding:o}).fn(n):{}:s?cr({element:s,padding:o}).fn(n):{}}}},Zi=(e,t)=>({...Ui(e),options:[e,t]}),qi=(e,t)=>({...$i(e),options:[e,t]}),Ji=(e,t)=>({...Gi(e),options:[e,t]}),ec=(e,t)=>({...Hi(e),options:[e,t]}),tc=(e,t)=>({...Vi(e),options:[e,t]}),nc=(e,t)=>({...Ki(e),options:[e,t]}),rc=(e,t)=>({...Qi(e),options:[e,t]});var sc="Arrow",is=m.forwardRef((e,t)=>{const{children:n,width:s=10,height:o=5,...a}=e;return r.jsx(K.svg,{...a,ref:t,width:s,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});is.displayName=sc;var oc=is;function ac(e){const[t,n]=m.useState(void 0);return we(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let f,d;if("borderBoxSize"in a){const i=a.borderBoxSize,c=Array.isArray(i)?i[0]:i;f=c.inlineSize,d=c.blockSize}else f=e.offsetWidth,d=e.offsetHeight;n({width:f,height:d})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var wn="Popper",[cs,ls]=We(wn),[ic,ds]=cs(wn),us=e=>{const{__scopePopper:t,children:n}=e,[s,o]=m.useState(null);return r.jsx(ic,{scope:t,anchor:s,onAnchorChange:o,children:n})};us.displayName=wn;var fs="PopperAnchor",hs=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...o}=e,a=ds(fs,n),f=m.useRef(null),d=Q(t,f);return m.useEffect(()=>{a.onAnchorChange((s==null?void 0:s.current)||f.current)}),s?null:r.jsx(K.div,{...o,ref:d})});hs.displayName=fs;var yn="PopperContent",[cc,lc]=cs(yn),ms=m.forwardRef((e,t)=>{var ve,Ke,ne,Ge,_n,Dn;const{__scopePopper:n,side:s="bottom",sideOffset:o=0,align:a="center",alignOffset:f=0,arrowPadding:d=0,avoidCollisions:i=!0,collisionBoundary:c=[],collisionPadding:l=0,sticky:u="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:g,...x}=e,v=ds(yn,n),[w,y]=m.useState(null),b=Q(t,Ye=>y(Ye)),[C,j]=m.useState(null),N=ac(C),E=(N==null?void 0:N.width)??0,R=(N==null?void 0:N.height)??0,D=s+(a!=="center"?"-"+a:""),T=typeof l=="number"?l:{top:0,right:0,bottom:0,left:0,...l},O=Array.isArray(c)?c:[c],U=O.length>0,M={padding:T,boundary:O.filter(uc),altBoundary:U},{refs:A,floatingStyles:k,placement:I,isPositioned:F,middlewareData:P}=Xi({strategy:"fixed",placement:D,whileElementsMounted:(...Ye)=>Wi(...Ye,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[Zi({mainAxis:o+R,alignmentAxis:f}),i&&qi({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?Ji():void 0,...M}),i&&ec({...M}),tc({...M,apply:({elements:Ye,rects:Fn,availableWidth:go,availableHeight:xo})=>{const{width:vo,height:wo}=Fn.reference,it=Ye.floating.style;it.setProperty("--radix-popper-available-width",`${go}px`),it.setProperty("--radix-popper-available-height",`${xo}px`),it.setProperty("--radix-popper-anchor-width",`${vo}px`),it.setProperty("--radix-popper-anchor-height",`${wo}px`)}}),C&&rc({element:C,padding:d}),fc({arrowWidth:E,arrowHeight:R}),h&&nc({strategy:"referenceHidden",...M})]}),[S,z]=xs(I),G=oe(g);we(()=>{F&&(G==null||G())},[F,G]);const te=(ve=P.arrow)==null?void 0:ve.x,Se=(Ke=P.arrow)==null?void 0:Ke.y,Re=((ne=P.arrow)==null?void 0:ne.centerOffset)!==0,[at,Ae]=m.useState();return we(()=>{w&&Ae(window.getComputedStyle(w).zIndex)},[w]),r.jsx("div",{ref:A.setFloating,"data-radix-popper-content-wrapper":"",style:{...k,transform:F?k.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:at,"--radix-popper-transform-origin":[(Ge=P.transformOrigin)==null?void 0:Ge.x,(_n=P.transformOrigin)==null?void 0:_n.y].join(" "),...((Dn=P.hide)==null?void 0:Dn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(cc,{scope:n,placedSide:S,onArrowChange:j,arrowX:te,arrowY:Se,shouldHideArrow:Re,children:r.jsx(K.div,{"data-side":S,"data-align":z,...x,ref:b,style:{...x.style,animation:F?void 0:"none"}})})})});ms.displayName=yn;var ps="PopperArrow",dc={top:"bottom",right:"left",bottom:"top",left:"right"},gs=m.forwardRef(function(t,n){const{__scopePopper:s,...o}=t,a=lc(ps,s),f=dc[a.placedSide];return r.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[f]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:r.jsx(oc,{...o,ref:n,style:{...o.style,display:"block"}})})});gs.displayName=ps;function uc(e){return e!==null}var fc=e=>({name:"transformOrigin",options:e,fn(t){var v,w,y;const{placement:n,rects:s,middlewareData:o}=t,f=((v=o.arrow)==null?void 0:v.centerOffset)!==0,d=f?0:e.arrowWidth,i=f?0:e.arrowHeight,[c,l]=xs(n),u={start:"0%",center:"50%",end:"100%"}[l],h=(((w=o.arrow)==null?void 0:w.x)??0)+d/2,p=(((y=o.arrow)==null?void 0:y.y)??0)+i/2;let g="",x="";return c==="bottom"?(g=f?u:`${h}px`,x=`${-i}px`):c==="top"?(g=f?u:`${h}px`,x=`${s.floating.height+i}px`):c==="right"?(g=`${-i}px`,x=f?u:`${p}px`):c==="left"&&(g=`${s.floating.width+i}px`,x=f?u:`${p}px`),{data:{x:g,y:x}}}});function xs(e){const[t,n="center"]=e.split("-");return[t,n]}var hc=us,mc=hs,pc=ms,gc=gs,xc="Portal",vs=m.forwardRef((e,t)=>{var d;const{container:n,...s}=e,[o,a]=m.useState(!1);we(()=>a(!0),[]);const f=n||o&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return f?So.createPortal(r.jsx(K.div,{...s,ref:t}),f):null});vs.displayName=xc;function vc(e,t){return m.useReducer((n,s)=>t[n][s]??n,e)}var rt=e=>{const{present:t,children:n}=e,s=wc(t),o=typeof n=="function"?n({present:s.isPresent}):m.Children.only(n),a=Q(s.ref,yc(o));return typeof n=="function"||s.isPresent?m.cloneElement(o,{ref:a}):null};rt.displayName="Presence";function wc(e){const[t,n]=m.useState(),s=m.useRef({}),o=m.useRef(e),a=m.useRef("none"),f=e?"mounted":"unmounted",[d,i]=vc(f,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=lt(s.current);a.current=d==="mounted"?c:"none"},[d]),we(()=>{const c=s.current,l=o.current;if(l!==e){const h=a.current,p=lt(c);e?i("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?i("UNMOUNT"):i(l&&h!==p?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,i]),we(()=>{if(t){let c;const l=t.ownerDocument.defaultView??window,u=p=>{const x=lt(s.current).includes(p.animationName);if(p.target===t&&x&&(i("ANIMATION_END"),!o.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",c=l.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=p=>{p.target===t&&(a.current=lt(s.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{l.clearTimeout(c),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else i("ANIMATION_END")},[t,i]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:m.useCallback(c=>{c&&(s.current=getComputedStyle(c)),n(c)},[])}}function lt(e){return(e==null?void 0:e.animationName)||"none"}function yc(e){var s,o;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Kt="rovingFocusGroup.onEntryFocus",bc={bubbles:!1,cancelable:!0},Tt="RovingFocusGroup",[on,ws,Cc]=Hr(Tt),[jc,ys]=We(Tt,[Cc]),[Nc,Ec]=jc(Tt),bs=m.forwardRef((e,t)=>r.jsx(on.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(on.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(Mc,{...e,ref:t})})}));bs.displayName=Tt;var Mc=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:o=!1,dir:a,currentTabStopId:f,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:i,onEntryFocus:c,preventScrollOnEntryFocus:l=!1,...u}=e,h=m.useRef(null),p=Q(t,h),g=Vr(a),[x=null,v]=$r({prop:f,defaultProp:d,onChange:i}),[w,y]=m.useState(!1),b=oe(c),C=ws(n),j=m.useRef(!1),[N,E]=m.useState(0);return m.useEffect(()=>{const R=h.current;if(R)return R.addEventListener(Kt,b),()=>R.removeEventListener(Kt,b)},[b]),r.jsx(Nc,{scope:n,orientation:s,dir:g,loop:o,currentTabStopId:x,onItemFocus:m.useCallback(R=>v(R),[v]),onItemShiftTab:m.useCallback(()=>y(!0),[]),onFocusableItemAdd:m.useCallback(()=>E(R=>R+1),[]),onFocusableItemRemove:m.useCallback(()=>E(R=>R-1),[]),children:r.jsx(K.div,{tabIndex:w||N===0?-1:0,"data-orientation":s,...u,ref:p,style:{outline:"none",...e.style},onMouseDown:_(e.onMouseDown,()=>{j.current=!0}),onFocus:_(e.onFocus,R=>{const D=!j.current;if(R.target===R.currentTarget&&D&&!w){const T=new CustomEvent(Kt,bc);if(R.currentTarget.dispatchEvent(T),!T.defaultPrevented){const O=C().filter(I=>I.focusable),U=O.find(I=>I.active),M=O.find(I=>I.id===x),k=[U,M,...O].filter(Boolean).map(I=>I.ref.current);Ns(k,l)}}j.current=!1}),onBlur:_(e.onBlur,()=>y(!1))})})}),Cs="RovingFocusGroupItem",js=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:o=!1,tabStopId:a,...f}=e,d=tn(),i=a||d,c=Ec(Cs,n),l=c.currentTabStopId===i,u=ws(n),{onFocusableItemAdd:h,onFocusableItemRemove:p}=c;return m.useEffect(()=>{if(s)return h(),()=>p()},[s,h,p]),r.jsx(on.ItemSlot,{scope:n,id:i,focusable:s,active:o,children:r.jsx(K.span,{tabIndex:l?0:-1,"data-orientation":c.orientation,...f,ref:t,onMouseDown:_(e.onMouseDown,g=>{s?c.onItemFocus(i):g.preventDefault()}),onFocus:_(e.onFocus,()=>c.onItemFocus(i)),onKeyDown:_(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){c.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const x=Ac(g,c.orientation,c.dir);if(x!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let w=u().filter(y=>y.focusable).map(y=>y.ref.current);if(x==="last")w.reverse();else if(x==="prev"||x==="next"){x==="prev"&&w.reverse();const y=w.indexOf(g.currentTarget);w=c.loop?kc(w,y+1):w.slice(y+1)}setTimeout(()=>Ns(w))}})})})});js.displayName=Cs;var Sc={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Rc(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Ac(e,t,n){const s=Rc(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return Sc[s]}function Ns(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function kc(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var Pc=bs,Ic=js,Lc=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Te=new WeakMap,dt=new WeakMap,ut={},Gt=0,Es=function(e){return e&&(e.host||Es(e.parentNode))},Tc=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=Es(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Oc=function(e,t,n,s){var o=Tc(t,Array.isArray(e)?e:[e]);ut[n]||(ut[n]=new WeakMap);var a=ut[n],f=[],d=new Set,i=new Set(o),c=function(u){!u||d.has(u)||(d.add(u),c(u.parentNode))};o.forEach(c);var l=function(u){!u||i.has(u)||Array.prototype.forEach.call(u.children,function(h){if(d.has(h))l(h);else try{var p=h.getAttribute(s),g=p!==null&&p!=="false",x=(Te.get(h)||0)+1,v=(a.get(h)||0)+1;Te.set(h,x),a.set(h,v),f.push(h),x===1&&g&&dt.set(h,!0),v===1&&h.setAttribute(n,"true"),g||h.setAttribute(s,"true")}catch(w){console.error("aria-hidden: cannot operate on ",h,w)}})};return l(t),d.clear(),Gt++,function(){f.forEach(function(u){var h=Te.get(u)-1,p=a.get(u)-1;Te.set(u,h),a.set(u,p),h||(dt.has(u)||u.removeAttribute(s),dt.delete(u)),p||u.removeAttribute(n)}),Gt--,Gt||(Te=new WeakMap,Te=new WeakMap,dt=new WeakMap,ut={})}},_c=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),o=Lc(e);return o?(s.push.apply(s,Array.from(o.querySelectorAll("[aria-live]"))),Oc(s,o,n,"aria-hidden")):function(){return null}},de=function(){return de=Object.assign||function(t){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},de.apply(this,arguments)};function Ms(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(n[s[o]]=e[s[o]]);return n}function Dc(e,t,n){if(n||arguments.length===2)for(var s=0,o=t.length,a;s<o;s++)(a||!(s in t))&&(a||(a=Array.prototype.slice.call(t,0,s)),a[s]=t[s]);return e.concat(a||Array.prototype.slice.call(t))}var xt="right-scroll-bar-position",vt="width-before-scroll-bar",Fc="with-scroll-bars-hidden",Bc="--removed-body-scroll-bar-size";function Yt(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function zc(e,t){var n=m.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var o=n.value;o!==s&&(n.value=s,n.callback(s,o))}}}})[0];return n.callback=t,n.facade}var Wc=typeof window<"u"?m.useLayoutEffect:m.useEffect,dr=new WeakMap;function Uc(e,t){var n=zc(null,function(s){return e.forEach(function(o){return Yt(o,s)})});return Wc(function(){var s=dr.get(n);if(s){var o=new Set(s),a=new Set(e),f=n.current;o.forEach(function(d){a.has(d)||Yt(d,null)}),a.forEach(function(d){o.has(d)||Yt(d,f)})}dr.set(n,e)},[e]),n}function $c(e){return e}function Hc(e,t){t===void 0&&(t=$c);var n=[],s=!1,o={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var f=t(a,s);return n.push(f),function(){n=n.filter(function(d){return d!==f})}},assignSyncMedium:function(a){for(s=!0;n.length;){var f=n;n=[],f.forEach(a)}n={push:function(d){return a(d)},filter:function(){return n}}},assignMedium:function(a){s=!0;var f=[];if(n.length){var d=n;n=[],d.forEach(a),f=n}var i=function(){var l=f;f=[],l.forEach(a)},c=function(){return Promise.resolve().then(i)};c(),n={push:function(l){f.push(l),c()},filter:function(l){return f=f.filter(l),n}}}};return o}function Vc(e){e===void 0&&(e={});var t=Hc(null);return t.options=de({async:!0,ssr:!1},e),t}var Ss=function(e){var t=e.sideCar,n=Ms(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return m.createElement(s,de({},n))};Ss.isSideCarExport=!0;function Kc(e,t){return e.useMedium(t),Ss}var Rs=Vc(),Xt=function(){},Ot=m.forwardRef(function(e,t){var n=m.useRef(null),s=m.useState({onScrollCapture:Xt,onWheelCapture:Xt,onTouchMoveCapture:Xt}),o=s[0],a=s[1],f=e.forwardProps,d=e.children,i=e.className,c=e.removeScrollBar,l=e.enabled,u=e.shards,h=e.sideCar,p=e.noIsolation,g=e.inert,x=e.allowPinchZoom,v=e.as,w=v===void 0?"div":v,y=e.gapMode,b=Ms(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=h,j=Uc([n,t]),N=de(de({},b),o);return m.createElement(m.Fragment,null,l&&m.createElement(C,{sideCar:Rs,removeScrollBar:c,shards:u,noIsolation:p,inert:g,setCallbacks:a,allowPinchZoom:!!x,lockRef:n,gapMode:y}),f?m.cloneElement(m.Children.only(d),de(de({},N),{ref:j})):m.createElement(w,de({},N,{className:i,ref:j}),d))});Ot.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ot.classNames={fullWidth:vt,zeroRight:xt};var Gc=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Yc(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Gc();return t&&e.setAttribute("nonce",t),e}function Xc(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Qc(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Zc=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Yc())&&(Xc(t,n),Qc(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},qc=function(){var e=Zc();return function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},As=function(){var e=qc(),t=function(n){var s=n.styles,o=n.dynamic;return e(s,o),null};return t},Jc={left:0,top:0,right:0,gap:0},Qt=function(e){return parseInt(e||"",10)||0},el=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Qt(n),Qt(s),Qt(o)]},tl=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Jc;var t=el(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},nl=As(),Be="data-scroll-locked",rl=function(e,t,n,s){var o=e.left,a=e.top,f=e.right,d=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Fc,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(d,"px ").concat(s,`;
  }
  body[`).concat(Be,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(f,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(xt,` {
    right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(vt,` {
    margin-right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(xt," .").concat(xt,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(vt," .").concat(vt,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Be,`] {
    `).concat(Bc,": ").concat(d,`px;
  }
`)},ur=function(){var e=parseInt(document.body.getAttribute(Be)||"0",10);return isFinite(e)?e:0},sl=function(){m.useEffect(function(){return document.body.setAttribute(Be,(ur()+1).toString()),function(){var e=ur()-1;e<=0?document.body.removeAttribute(Be):document.body.setAttribute(Be,e.toString())}},[])},ol=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,o=s===void 0?"margin":s;sl();var a=m.useMemo(function(){return tl(o)},[o]);return m.createElement(nl,{styles:rl(a,!t,o,n?"":"!important")})},an=!1;if(typeof window<"u")try{var ft=Object.defineProperty({},"passive",{get:function(){return an=!0,!0}});window.addEventListener("test",ft,ft),window.removeEventListener("test",ft,ft)}catch{an=!1}var Oe=an?{passive:!1}:!1,al=function(e){return e.tagName==="TEXTAREA"},ks=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!al(e)&&n[t]==="visible")},il=function(e){return ks(e,"overflowY")},cl=function(e){return ks(e,"overflowX")},fr=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var o=Ps(e,s);if(o){var a=Is(e,s),f=a[1],d=a[2];if(f>d)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},ll=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},dl=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},Ps=function(e,t){return e==="v"?il(t):cl(t)},Is=function(e,t){return e==="v"?ll(t):dl(t)},ul=function(e,t){return e==="h"&&t==="rtl"?-1:1},fl=function(e,t,n,s,o){var a=ul(e,window.getComputedStyle(t).direction),f=a*s,d=n.target,i=t.contains(d),c=!1,l=f>0,u=0,h=0;do{var p=Is(e,d),g=p[0],x=p[1],v=p[2],w=x-v-a*g;(g||w)&&Ps(e,d)&&(u+=w,h+=g),d instanceof ShadowRoot?d=d.host:d=d.parentNode}while(!i&&d!==document.body||i&&(t.contains(d)||t===d));return(l&&Math.abs(u)<1||!l&&Math.abs(h)<1)&&(c=!0),c},ht=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},hr=function(e){return[e.deltaX,e.deltaY]},mr=function(e){return e&&"current"in e?e.current:e},hl=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ml=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},pl=0,_e=[];function gl(e){var t=m.useRef([]),n=m.useRef([0,0]),s=m.useRef(),o=m.useState(pl++)[0],a=m.useState(As)[0],f=m.useRef(e);m.useEffect(function(){f.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var x=Dc([e.lockRef.current],(e.shards||[]).map(mr),!0).filter(Boolean);return x.forEach(function(v){return v.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),x.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var d=m.useCallback(function(x,v){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!f.current.allowPinchZoom;var w=ht(x),y=n.current,b="deltaX"in x?x.deltaX:y[0]-w[0],C="deltaY"in x?x.deltaY:y[1]-w[1],j,N=x.target,E=Math.abs(b)>Math.abs(C)?"h":"v";if("touches"in x&&E==="h"&&N.type==="range")return!1;var R=fr(E,N);if(!R)return!0;if(R?j=E:(j=E==="v"?"h":"v",R=fr(E,N)),!R)return!1;if(!s.current&&"changedTouches"in x&&(b||C)&&(s.current=j),!j)return!0;var D=s.current||j;return fl(D,v,x,D==="h"?b:C)},[]),i=m.useCallback(function(x){var v=x;if(!(!_e.length||_e[_e.length-1]!==a)){var w="deltaY"in v?hr(v):ht(v),y=t.current.filter(function(j){return j.name===v.type&&(j.target===v.target||v.target===j.shadowParent)&&hl(j.delta,w)})[0];if(y&&y.should){v.cancelable&&v.preventDefault();return}if(!y){var b=(f.current.shards||[]).map(mr).filter(Boolean).filter(function(j){return j.contains(v.target)}),C=b.length>0?d(v,b[0]):!f.current.noIsolation;C&&v.cancelable&&v.preventDefault()}}},[]),c=m.useCallback(function(x,v,w,y){var b={name:x,delta:v,target:w,should:y,shadowParent:xl(w)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(C){return C!==b})},1)},[]),l=m.useCallback(function(x){n.current=ht(x),s.current=void 0},[]),u=m.useCallback(function(x){c(x.type,hr(x),x.target,d(x,e.lockRef.current))},[]),h=m.useCallback(function(x){c(x.type,ht(x),x.target,d(x,e.lockRef.current))},[]);m.useEffect(function(){return _e.push(a),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:h}),document.addEventListener("wheel",i,Oe),document.addEventListener("touchmove",i,Oe),document.addEventListener("touchstart",l,Oe),function(){_e=_e.filter(function(x){return x!==a}),document.removeEventListener("wheel",i,Oe),document.removeEventListener("touchmove",i,Oe),document.removeEventListener("touchstart",l,Oe)}},[]);var p=e.removeScrollBar,g=e.inert;return m.createElement(m.Fragment,null,g?m.createElement(a,{styles:ml(o)}):null,p?m.createElement(ol,{gapMode:e.gapMode}):null)}function xl(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const vl=Kc(Rs,gl);var Ls=m.forwardRef(function(e,t){return m.createElement(Ot,de({},e,{ref:t,sideCar:vl}))});Ls.classNames=Ot.classNames;var cn=["Enter"," "],wl=["ArrowDown","PageUp","Home"],Ts=["ArrowUp","PageDown","End"],yl=[...wl,...Ts],bl={ltr:[...cn,"ArrowRight"],rtl:[...cn,"ArrowLeft"]},Cl={ltr:["ArrowLeft"],rtl:["ArrowRight"]},st="Menu",[Je,jl,Nl]=Hr(st),[Ie,Os]=We(st,[Nl,ls,ys]),_t=ls(),_s=ys(),[El,Le]=Ie(st),[Ml,ot]=Ie(st),Ds=e=>{const{__scopeMenu:t,open:n=!1,children:s,dir:o,onOpenChange:a,modal:f=!0}=e,d=_t(t),[i,c]=m.useState(null),l=m.useRef(!1),u=oe(a),h=Vr(o);return m.useEffect(()=>{const p=()=>{l.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>l.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),r.jsx(hc,{...d,children:r.jsx(El,{scope:t,open:n,onOpenChange:u,content:i,onContentChange:c,children:r.jsx(Ml,{scope:t,onClose:m.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:l,dir:h,modal:f,children:s})})})};Ds.displayName=st;var Sl="MenuAnchor",bn=m.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,o=_t(n);return r.jsx(mc,{...o,...s,ref:t})});bn.displayName=Sl;var Cn="MenuPortal",[Rl,Fs]=Ie(Cn,{forceMount:void 0}),Bs=e=>{const{__scopeMenu:t,forceMount:n,children:s,container:o}=e,a=Le(Cn,t);return r.jsx(Rl,{scope:t,forceMount:n,children:r.jsx(rt,{present:n||a.open,children:r.jsx(vs,{asChild:!0,container:o,children:s})})})};Bs.displayName=Cn;var se="MenuContent",[Al,jn]=Ie(se),zs=m.forwardRef((e,t)=>{const n=Fs(se,e.__scopeMenu),{forceMount:s=n.forceMount,...o}=e,a=Le(se,e.__scopeMenu),f=ot(se,e.__scopeMenu);return r.jsx(Je.Provider,{scope:e.__scopeMenu,children:r.jsx(rt,{present:s||a.open,children:r.jsx(Je.Slot,{scope:e.__scopeMenu,children:f.modal?r.jsx(kl,{...o,ref:t}):r.jsx(Pl,{...o,ref:t})})})})}),kl=m.forwardRef((e,t)=>{const n=Le(se,e.__scopeMenu),s=m.useRef(null),o=Q(t,s);return m.useEffect(()=>{const a=s.current;if(a)return _c(a)},[]),r.jsx(Nn,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:_(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Pl=m.forwardRef((e,t)=>{const n=Le(se,e.__scopeMenu);return r.jsx(Nn,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Nn=m.forwardRef((e,t)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:f,disableOutsidePointerEvents:d,onEntryFocus:i,onEscapeKeyDown:c,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:h,onDismiss:p,disableOutsideScroll:g,...x}=e,v=Le(se,n),w=ot(se,n),y=_t(n),b=_s(n),C=jl(n),[j,N]=m.useState(null),E=m.useRef(null),R=Q(t,E,v.onContentChange),D=m.useRef(0),T=m.useRef(""),O=m.useRef(0),U=m.useRef(null),M=m.useRef("right"),A=m.useRef(0),k=g?Ls:m.Fragment,I=g?{as:Zt,allowPinchZoom:!0}:void 0,F=S=>{var ve,Ke;const z=T.current+S,G=C().filter(ne=>!ne.disabled),te=document.activeElement,Se=(ve=G.find(ne=>ne.ref.current===te))==null?void 0:ve.textValue,Re=G.map(ne=>ne.textValue),at=$l(Re,z,Se),Ae=(Ke=G.find(ne=>ne.textValue===at))==null?void 0:Ke.ref.current;(function ne(Ge){T.current=Ge,window.clearTimeout(D.current),Ge!==""&&(D.current=window.setTimeout(()=>ne(""),1e3))})(z),Ae&&setTimeout(()=>Ae.focus())};m.useEffect(()=>()=>window.clearTimeout(D.current),[]),Za();const P=m.useCallback(S=>{var G,te;return M.current===((G=U.current)==null?void 0:G.side)&&Vl(S,(te=U.current)==null?void 0:te.area)},[]);return r.jsx(Al,{scope:n,searchRef:T,onItemEnter:m.useCallback(S=>{P(S)&&S.preventDefault()},[P]),onItemLeave:m.useCallback(S=>{var z;P(S)||((z=E.current)==null||z.focus(),N(null))},[P]),onTriggerLeave:m.useCallback(S=>{P(S)&&S.preventDefault()},[P]),pointerGraceTimerRef:O,onPointerGraceIntentChange:m.useCallback(S=>{U.current=S},[]),children:r.jsx(k,{...I,children:r.jsx(Xr,{asChild:!0,trapped:o,onMountAutoFocus:_(a,S=>{var z;S.preventDefault(),(z=E.current)==null||z.focus({preventScroll:!0})}),onUnmountAutoFocus:f,children:r.jsx(Gr,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:c,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:h,onDismiss:p,children:r.jsx(Pc,{asChild:!0,...b,dir:w.dir,orientation:"vertical",loop:s,currentTabStopId:j,onCurrentTabStopIdChange:N,onEntryFocus:_(i,S=>{w.isUsingKeyboardRef.current||S.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(pc,{role:"menu","aria-orientation":"vertical","data-state":no(v.open),"data-radix-menu-content":"",dir:w.dir,...y,...x,ref:R,style:{outline:"none",...x.style},onKeyDown:_(x.onKeyDown,S=>{const G=S.target.closest("[data-radix-menu-content]")===S.currentTarget,te=S.ctrlKey||S.altKey||S.metaKey,Se=S.key.length===1;G&&(S.key==="Tab"&&S.preventDefault(),!te&&Se&&F(S.key));const Re=E.current;if(S.target!==Re||!yl.includes(S.key))return;S.preventDefault();const Ae=C().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);Ts.includes(S.key)&&Ae.reverse(),Wl(Ae)}),onBlur:_(e.onBlur,S=>{S.currentTarget.contains(S.target)||(window.clearTimeout(D.current),T.current="")}),onPointerMove:_(e.onPointerMove,et(S=>{const z=S.target,G=A.current!==S.clientX;if(S.currentTarget.contains(z)&&G){const te=S.clientX>A.current?"right":"left";M.current=te,A.current=S.clientX}}))})})})})})})});zs.displayName=se;var Il="MenuGroup",En=m.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(K.div,{role:"group",...s,ref:t})});En.displayName=Il;var Ll="MenuLabel",Ws=m.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(K.div,{...s,ref:t})});Ws.displayName=Ll;var Et="MenuItem",pr="menu.itemSelect",Dt=m.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:s,...o}=e,a=m.useRef(null),f=ot(Et,e.__scopeMenu),d=jn(Et,e.__scopeMenu),i=Q(t,a),c=m.useRef(!1),l=()=>{const u=a.current;if(!n&&u){const h=new CustomEvent(pr,{bubbles:!0,cancelable:!0});u.addEventListener(pr,p=>s==null?void 0:s(p),{once:!0}),yr(u,h),h.defaultPrevented?c.current=!1:f.onClose()}};return r.jsx(Us,{...o,ref:i,disabled:n,onClick:_(e.onClick,l),onPointerDown:u=>{var h;(h=e.onPointerDown)==null||h.call(e,u),c.current=!0},onPointerUp:_(e.onPointerUp,u=>{var h;c.current||(h=u.currentTarget)==null||h.click()}),onKeyDown:_(e.onKeyDown,u=>{const h=d.searchRef.current!=="";n||h&&u.key===" "||cn.includes(u.key)&&(u.currentTarget.click(),u.preventDefault())})})});Dt.displayName=Et;var Us=m.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:s=!1,textValue:o,...a}=e,f=jn(Et,n),d=_s(n),i=m.useRef(null),c=Q(t,i),[l,u]=m.useState(!1),[h,p]=m.useState("");return m.useEffect(()=>{const g=i.current;g&&p((g.textContent??"").trim())},[a.children]),r.jsx(Je.ItemSlot,{scope:n,disabled:s,textValue:o??h,children:r.jsx(Ic,{asChild:!0,...d,focusable:!s,children:r.jsx(K.div,{role:"menuitem","data-highlighted":l?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...a,ref:c,onPointerMove:_(e.onPointerMove,et(g=>{s?f.onItemLeave(g):(f.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:_(e.onPointerLeave,et(g=>f.onItemLeave(g))),onFocus:_(e.onFocus,()=>u(!0)),onBlur:_(e.onBlur,()=>u(!1))})})})}),Tl="MenuCheckboxItem",$s=m.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:s,...o}=e;return r.jsx(Ys,{scope:e.__scopeMenu,checked:n,children:r.jsx(Dt,{role:"menuitemcheckbox","aria-checked":Mt(n)?"mixed":n,...o,ref:t,"data-state":Sn(n),onSelect:_(o.onSelect,()=>s==null?void 0:s(Mt(n)?!0:!n),{checkForDefaultPrevented:!1})})})});$s.displayName=Tl;var Hs="MenuRadioGroup",[Ol,_l]=Ie(Hs,{value:void 0,onValueChange:()=>{}}),Vs=m.forwardRef((e,t)=>{const{value:n,onValueChange:s,...o}=e,a=oe(s);return r.jsx(Ol,{scope:e.__scopeMenu,value:n,onValueChange:a,children:r.jsx(En,{...o,ref:t})})});Vs.displayName=Hs;var Ks="MenuRadioItem",Gs=m.forwardRef((e,t)=>{const{value:n,...s}=e,o=_l(Ks,e.__scopeMenu),a=n===o.value;return r.jsx(Ys,{scope:e.__scopeMenu,checked:a,children:r.jsx(Dt,{role:"menuitemradio","aria-checked":a,...s,ref:t,"data-state":Sn(a),onSelect:_(s.onSelect,()=>{var f;return(f=o.onValueChange)==null?void 0:f.call(o,n)},{checkForDefaultPrevented:!1})})})});Gs.displayName=Ks;var Mn="MenuItemIndicator",[Ys,Dl]=Ie(Mn,{checked:!1}),Xs=m.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:s,...o}=e,a=Dl(Mn,n);return r.jsx(rt,{present:s||Mt(a.checked)||a.checked===!0,children:r.jsx(K.span,{...o,ref:t,"data-state":Sn(a.checked)})})});Xs.displayName=Mn;var Fl="MenuSeparator",Qs=m.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(K.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});Qs.displayName=Fl;var Bl="MenuArrow",Zs=m.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,o=_t(n);return r.jsx(gc,{...o,...s,ref:t})});Zs.displayName=Bl;var zl="MenuSub",[lu,qs]=Ie(zl),Xe="MenuSubTrigger",Js=m.forwardRef((e,t)=>{const n=Le(Xe,e.__scopeMenu),s=ot(Xe,e.__scopeMenu),o=qs(Xe,e.__scopeMenu),a=jn(Xe,e.__scopeMenu),f=m.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:i}=a,c={__scopeMenu:e.__scopeMenu},l=m.useCallback(()=>{f.current&&window.clearTimeout(f.current),f.current=null},[]);return m.useEffect(()=>l,[l]),m.useEffect(()=>{const u=d.current;return()=>{window.clearTimeout(u),i(null)}},[d,i]),r.jsx(bn,{asChild:!0,...c,children:r.jsx(Us,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":no(n.open),...e,ref:wr(t,o.onTriggerChange),onClick:u=>{var h;(h=e.onClick)==null||h.call(e,u),!(e.disabled||u.defaultPrevented)&&(u.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:_(e.onPointerMove,et(u=>{a.onItemEnter(u),!u.defaultPrevented&&!e.disabled&&!n.open&&!f.current&&(a.onPointerGraceIntentChange(null),f.current=window.setTimeout(()=>{n.onOpenChange(!0),l()},100))})),onPointerLeave:_(e.onPointerLeave,et(u=>{var p,g;l();const h=(p=n.content)==null?void 0:p.getBoundingClientRect();if(h){const x=(g=n.content)==null?void 0:g.dataset.side,v=x==="right",w=v?-5:5,y=h[v?"left":"right"],b=h[v?"right":"left"];a.onPointerGraceIntentChange({area:[{x:u.clientX+w,y:u.clientY},{x:y,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x:y,y:h.bottom}],side:x}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(u),u.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:_(e.onKeyDown,u=>{var p;const h=a.searchRef.current!=="";e.disabled||h&&u.key===" "||bl[s.dir].includes(u.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),u.preventDefault())})})})});Js.displayName=Xe;var eo="MenuSubContent",to=m.forwardRef((e,t)=>{const n=Fs(se,e.__scopeMenu),{forceMount:s=n.forceMount,...o}=e,a=Le(se,e.__scopeMenu),f=ot(se,e.__scopeMenu),d=qs(eo,e.__scopeMenu),i=m.useRef(null),c=Q(t,i);return r.jsx(Je.Provider,{scope:e.__scopeMenu,children:r.jsx(rt,{present:s||a.open,children:r.jsx(Je.Slot,{scope:e.__scopeMenu,children:r.jsx(Nn,{id:d.contentId,"aria-labelledby":d.triggerId,...o,ref:c,align:"start",side:f.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:l=>{var u;f.isUsingKeyboardRef.current&&((u=i.current)==null||u.focus()),l.preventDefault()},onCloseAutoFocus:l=>l.preventDefault(),onFocusOutside:_(e.onFocusOutside,l=>{l.target!==d.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:_(e.onEscapeKeyDown,l=>{f.onClose(),l.preventDefault()}),onKeyDown:_(e.onKeyDown,l=>{var p;const u=l.currentTarget.contains(l.target),h=Cl[f.dir].includes(l.key);u&&h&&(a.onOpenChange(!1),(p=d.trigger)==null||p.focus(),l.preventDefault())})})})})})});to.displayName=eo;function no(e){return e?"open":"closed"}function Mt(e){return e==="indeterminate"}function Sn(e){return Mt(e)?"indeterminate":e?"checked":"unchecked"}function Wl(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Ul(e,t){return e.map((n,s)=>e[(t+s)%e.length])}function $l(e,t,n){const o=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let f=Ul(e,Math.max(a,0));o.length===1&&(f=f.filter(c=>c!==n));const i=f.find(c=>c.toLowerCase().startsWith(o.toLowerCase()));return i!==n?i:void 0}function Hl(e,t){const{x:n,y:s}=e;let o=!1;for(let a=0,f=t.length-1;a<t.length;f=a++){const d=t[a].x,i=t[a].y,c=t[f].x,l=t[f].y;i>s!=l>s&&n<(c-d)*(s-i)/(l-i)+d&&(o=!o)}return o}function Vl(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return Hl(n,t)}function et(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Kl=Ds,Gl=bn,Yl=Bs,Xl=zs,Ql=En,Zl=Ws,ql=Dt,Jl=$s,ed=Vs,td=Gs,nd=Xs,rd=Qs,sd=Zs,od=Js,ad=to,Rn="DropdownMenu",[id,du]=We(Rn,[Os]),X=Os(),[cd,ro]=id(Rn),so=e=>{const{__scopeDropdownMenu:t,children:n,dir:s,open:o,defaultOpen:a,onOpenChange:f,modal:d=!0}=e,i=X(t),c=m.useRef(null),[l=!1,u]=$r({prop:o,defaultProp:a,onChange:f});return r.jsx(cd,{scope:t,triggerId:tn(),triggerRef:c,contentId:tn(),open:l,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(h=>!h),[u]),modal:d,children:r.jsx(Kl,{...i,open:l,onOpenChange:u,dir:s,modal:d,children:n})})};so.displayName=Rn;var oo="DropdownMenuTrigger",ao=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...o}=e,a=ro(oo,n),f=X(n);return r.jsx(Gl,{asChild:!0,...f,children:r.jsx(K.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...o,ref:wr(t,a.triggerRef),onPointerDown:_(e.onPointerDown,d=>{!s&&d.button===0&&d.ctrlKey===!1&&(a.onOpenToggle(),a.open||d.preventDefault())}),onKeyDown:_(e.onKeyDown,d=>{s||(["Enter"," "].includes(d.key)&&a.onOpenToggle(),d.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});ao.displayName=oo;var ld="DropdownMenuPortal",io=e=>{const{__scopeDropdownMenu:t,...n}=e,s=X(t);return r.jsx(Yl,{...s,...n})};io.displayName=ld;var co="DropdownMenuContent",lo=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=ro(co,n),a=X(n),f=m.useRef(!1);return r.jsx(Xl,{id:o.contentId,"aria-labelledby":o.triggerId,...a,...s,ref:t,onCloseAutoFocus:_(e.onCloseAutoFocus,d=>{var i;f.current||(i=o.triggerRef.current)==null||i.focus(),f.current=!1,d.preventDefault()}),onInteractOutside:_(e.onInteractOutside,d=>{const i=d.detail.originalEvent,c=i.button===0&&i.ctrlKey===!0,l=i.button===2||c;(!o.modal||l)&&(f.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});lo.displayName=co;var dd="DropdownMenuGroup",ud=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=X(n);return r.jsx(Ql,{...o,...s,ref:t})});ud.displayName=dd;var fd="DropdownMenuLabel",hd=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=X(n);return r.jsx(Zl,{...o,...s,ref:t})});hd.displayName=fd;var md="DropdownMenuItem",uo=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=X(n);return r.jsx(ql,{...o,...s,ref:t})});uo.displayName=md;var pd="DropdownMenuCheckboxItem",gd=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=X(n);return r.jsx(Jl,{...o,...s,ref:t})});gd.displayName=pd;var xd="DropdownMenuRadioGroup",vd=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=X(n);return r.jsx(ed,{...o,...s,ref:t})});vd.displayName=xd;var wd="DropdownMenuRadioItem",yd=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=X(n);return r.jsx(td,{...o,...s,ref:t})});yd.displayName=wd;var bd="DropdownMenuItemIndicator",Cd=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=X(n);return r.jsx(nd,{...o,...s,ref:t})});Cd.displayName=bd;var jd="DropdownMenuSeparator",fo=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=X(n);return r.jsx(rd,{...o,...s,ref:t})});fo.displayName=jd;var Nd="DropdownMenuArrow",Ed=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=X(n);return r.jsx(sd,{...o,...s,ref:t})});Ed.displayName=Nd;var Md="DropdownMenuSubTrigger",Sd=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=X(n);return r.jsx(od,{...o,...s,ref:t})});Sd.displayName=Md;var Rd="DropdownMenuSubContent",Ad=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,o=X(n);return r.jsx(ad,{...o,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Ad.displayName=Rd;var kd=so,Pd=ao,Id=io,Ld=lo,Td=uo,Od=fo;function An({...e}){return r.jsx(kd,{"data-slot":"dropdown-menu",...e})}function kn({...e}){return r.jsx(Pd,{"data-slot":"dropdown-menu-trigger",...e})}function Pn({className:e,sideOffset:t=4,...n}){return r.jsx(Id,{children:r.jsx(Ld,{"data-slot":"dropdown-menu-content",sideOffset:t,className:ee("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...n})})}function wt({className:e,inset:t,variant:n="default",...s}){return r.jsx(Td,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:ee("focus:bg-accent focus:text-accent-foreground data-[variant=primary]:bg-foreground data-[variant=primary]:hover:bg-foreground/90 data-[variant=primary]:text-background data-[variant=destructive]:text-destructive data-[variant=primary]:focus:bg-foreground/90 data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...s})}function gr({className:e,...t}){return r.jsx(Od,{"data-slot":"dropdown-menu-separator",className:ee("bg-border -mx-1 my-1 h-px",e),...t})}function _d(e){return $({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 7h-9"},child:[]},{tag:"path",attr:{d:"M14 17H5"},child:[]},{tag:"circle",attr:{cx:"17",cy:"17",r:"3"},child:[]},{tag:"circle",attr:{cx:"7",cy:"7",r:"3"},child:[]}]})(e)}const Dd=({config:e,handleChange:t})=>{const n=[{label:"Title",disableCondition:e.displayMode!=="card"||e.heading!=="title",key:"heading",value:"title"},{label:"Short URL",disableCondition:e.displayMode!=="card"||e.heading!=="shortUrl",key:"heading",value:"shortUrl"},{label:"Description",disableCondition:e.displayMode!=="card"||e.value!=="description",key:"value",value:"description"},{label:"Destination URL",disableCondition:e.displayMode!=="card"||e.value!=="destinationUrl",key:"value",value:"destinationUrl"},{label:"Creator",disableCondition:e.displayMode!=="card"||!e.showCreatorAvatar,key:"showCreatorAvatar",value:e.showCreatorAvatar},{label:"Created At",disableCondition:e.displayMode!=="card"||!e.showCreatedAt,key:"showCreatedAt",value:e.showCreatedAt},{label:"Tags",disableCondition:e.displayMode!=="card"||!e.showTags,key:"showTags",value:e.showTags}],s="w-full flex gap-1 items-center justify-center border border-border cursor-pointer px-2 py-1 rounded-md",o=Uo(),a=()=>{localStorage.removeItem("linkDisplayConfig"),Qe.success("Display config reset"),o(0)},f=()=>{localStorage.setItem("linkDisplayConfig",JSON.stringify(e)),Qe.success("Display config saved")},d=i=>{t(i.key,typeof i.value=="boolean"?!i.value:i.value)};return r.jsxs(An,{children:[r.jsx(kn,{asChild:!0,children:r.jsxs(B,{variant:"outline",children:[r.jsx(_d,{className:"size-4"}),r.jsx("span",{children:"Display"})]})}),r.jsxs(Pn,{align:"start",className:"relative px-2 min-w-56 max-w-56",children:[r.jsxs("div",{className:"flex items-center justify-between gap-2 text-sm my-2",children:[r.jsxs("span",{onClick:()=>t("displayMode","card"),className:`${s} ${e.displayMode==="card"?"bg-muted-foreground/15":""}`,children:[r.jsx($o,{className:"size-5"}),r.jsx("span",{children:"Card"})]}),r.jsxs("span",{onClick:()=>t("displayMode","table"),className:`${s} ${e.displayMode==="table"?"bg-muted-foreground/15":""}`,children:[r.jsx(Ho,{className:"size-5"}),r.jsx("span",{children:"Table"})]})]}),r.jsx(gr,{}),r.jsx("div",{className:"flex flex-wrap gap-2 items-center text-xs my-2",children:n.map((i,c)=>r.jsx("span",{onClick:()=>d(i),className:`border border-border cursor-pointer px-1 py-0 rounded ${e[i.key]===i.value?"bg-muted-foreground/15":""} ${i.disableCondition?"opacity-50":""}`,children:i.label},c))}),r.jsx(gr,{}),r.jsxs("div",{className:"flex items-center justify-between gap-2 w-full my-2",children:[r.jsxs("span",{onClick:a,className:`${s} hover:bg-destructive/15 bg-destructive/10 text-destructive`,children:[r.jsx(_a,{className:"size-4"}),r.jsx("span",{children:"Reset"})]}),r.jsxs("span",{onClick:f,className:`${s} hover:bg-foreground/10 bg-foreground/5`,children:[r.jsx(Ta,{className:"size-5"}),r.jsx("span",{children:"Save"})]})]})]})]})};function Fd(e){return $({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M1.5 1.5A.5.5 0 0 0 1 2v4.8a2.5 2.5 0 0 0 2.5 2.5h9.793l-3.347 3.346a.5.5 0 0 0 .708.708l4.2-4.2a.5.5 0 0 0 0-.708l-4-4a.5.5 0 0 0-.708.708L13.293 8.3H3.5A1.5 1.5 0 0 1 2 6.8V2a.5.5 0 0 0-.5-.5"},child:[]}]})(e)}function Bd(e){return $({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M15.964.686a.5.5 0 0 0-.65-.65L.767 5.855a.75.75 0 0 0-.124 1.329l4.995 3.178 1.531 2.406a.5.5 0 0 0 .844-.536L6.637 10.07l7.494-7.494-1.895 4.738a.5.5 0 1 0 .928.372zm-2.54 1.183L5.93 9.363 1.591 6.602z"},child:[]},{tag:"path",attr:{d:"M16 12.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0m-3.5-2a.5.5 0 0 0-.5.5v1h-1a.5.5 0 0 0 0 1h1v1a.5.5 0 0 0 1 0v-1h1a.5.5 0 0 0 0-1h-1v-1a.5.5 0 0 0-.5-.5"},child:[]}]})(e)}function ho(e){return $({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M388.8 896.4v-27.198c.6-2.2 1.6-4.2 2-6.4 8.8-57.2 56.4-102.4 112.199-106.2 62.4-4.4 115.2 31.199 132.4 89.199 2.2 7.6 3.8 15.6 5.8 23.4v27.2c-.6 1.8-1.6 3.399-1.8 5.399-8.6 52.8-46.6 93-98.6 104.4-4 .8-8 2-12 3h-27.2c-1.8-.6-3.6-1.6-5.4-1.8-52-8.4-91.599-45.4-103.6-96.8-1.2-5-2.6-9.6-3.8-14.2zm252.4-768.797l-.001 27.202c-.6 2.2-1.6 4.2-1.8 6.4-9 57.6-56.8 102.6-113.2 106.2-62.2 4-114.8-32-131.8-90.2-2.2-7.401-3.8-15-5.6-22.401v-27.2c.6-1.8 1.6-3.4 2-5.2 9.6-52 39.8-86 90.2-102.2 6.6-2.2 13.6-3.4 20.4-5.2h27.2c1.8.6 3.6 1.6 5.4 1.8 52.2 8.6 91.6 45.4 103.6 96.8 1.201 4.8 2.401 9.4 3.601 13.999zm-.001 370.801v27.2c-.6 2.2-1.6 4.2-2 6.4-9 57.4-58.6 103.6-114.6 106-63 2.8-116.4-35.2-131.4-93.8-1.6-6.2-3-12.4-4.4-18.6v-27.2c.6-2.2 1.6-4.2 2-6.4 8.8-57.4 58.6-103.601 114.6-106.2 63-3 116.4 35.2 131.4 93.8 1.6 6.4 3 12.6 4.4 18.8z"},child:[]}]})(e)}const mo=({options:e,link:t})=>r.jsx("div",{className:"rounded-md",children:r.jsxs(An,{children:[r.jsx(kn,{className:"p-1",children:r.jsx(ho,{className:"size-4 opacity-50"})}),r.jsx(Pn,{align:"end",children:e==null?void 0:e.map(n=>r.jsxs(wt,{variant:(n==null?void 0:n.variant)||"default",onClick:()=>n.onClick(t),children:[n.icon,n.label]},n.label))})]})}),zd=({link:e,config:t,options:n})=>{var o,a,f,d,i,c,l,u,h;const s=()=>{navigator.clipboard.writeText(e.shortUrl),Qe.success("Copied to clipboard")};return r.jsx(mt,{className:"py-2 md:py-4",children:r.jsxs(pt,{className:"flex gap-4 items-center justify-between px-2 md:px-4 w-full",children:[r.jsxs("div",{className:"flex gap-2 md:gap-4 items-center text-sm w-full",children:[r.jsx("div",{children:r.jsxs(fe,{children:[r.jsx(he,{src:(o=e==null?void 0:e.metadata)==null?void 0:o.favicon,alt:(a=e==null?void 0:e.metadata)==null?void 0:a.title}),r.jsx(me,{itemType:"link"})]})}),r.jsxs("div",{className:"flex flex-col justify-center w-full",children:[t.heading==="title"?r.jsx("h3",{className:"font-semibold",children:((f=e.metadata)==null?void 0:f.title)||"Untitled"}):r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("a",{href:`${e.shortUrl}`,target:"_blank",className:"font-semibold",children:e.shortUrl.split("//")[1]}),r.jsx("span",{onClick:s,className:"cursor-pointer",children:r.jsx(Da,{className:"size-4"})})]}),r.jsxs("div",{className:"flex flex-col lg:flex-row lg:gap-2 w-full",children:[r.jsx("div",{className:"flex gap-2 items-center text-muted-foreground w-full",children:t.value==="description"?r.jsx("p",{className:"truncate max-w-[210px] sm:max-w-[300px] lg:max-w-[500px]",title:(d=e.metadata)==null?void 0:d.description,children:((i=e.metadata)==null?void 0:i.description)||"No description"}):r.jsxs(r.Fragment,{children:[r.jsx(Fd,{className:"size-3"}),r.jsx("a",{href:e.destinationUrl,target:"_blank",children:e.destinationUrl})]})}),r.jsxs("div",{className:"flex gap-2 items-center text-muted-foreground w-full",children:[t.showCreatorAvatar&&r.jsx(r.Fragment,{children:r.jsxs(fe,{className:"size-8",children:[r.jsx(he,{src:(c=e==null?void 0:e.creator)==null?void 0:c.profilePicture,alt:(l=e==null?void 0:e.creator)==null?void 0:l.name}),r.jsx(me,{itemType:"user",children:(u=e==null?void 0:e.creator)==null?void 0:u.name.charAt(0)})]})}),t.showCreatedAt&&r.jsx(r.Fragment,{children:r.jsx("span",{children:`${new Intl.DateTimeFormat("en-US",{month:"short"}).format(new Date(e.createdAt))} ${new Date(e.createdAt).getDate()}`})}),t.showTags&&r.jsx(r.Fragment,{children:r.jsx("span",{children:(h=e.tags)==null?void 0:h.map(p=>`#${p} `)})})]})]})]})]}),n&&r.jsx(mo,{options:n,link:e})]})})},Wd=({links:e,options:t,config:n})=>r.jsx("div",{className:"flex flex-col gap-4",children:e.map(s=>r.jsx(zd,{config:n,link:s,options:t},s._id))}),Ud=({linkId:e,isOpen:t,onClose:n,onOpenDelete:s,onOpenEdit:o})=>{var l,u,h,p,g,x,v,w;const a="Link Details",d=V(y=>y.links).links.find(y=>y._id===e);if(!d)return r.jsx("div",{children:"Link not found"});const i=[{label:"Short Link",type:"link",value:"/"+d.shortUrlKey},{label:"Destination URL",type:"link",value:d.destinationUrl},{label:"Tags",type:"array",value:d.tags},{label:"Status",type:"text",value:r.jsx("span",{className:`inline-block rounded-full px-3 py-1 text-xs font-semibold text-white ${d.status==="active"?"bg-green-500":"bg-red-500"}`,children:d.status.charAt(0).toUpperCase()+d.status.slice(1)})},{label:"Comment",type:"text",value:d.comment},{label:"Expiration Time",type:"text",value:d.expirationTime&&new Date(d.expirationTime).toLocaleString()},{label:"Password protected",value:r.jsx("span",{className:`inline-block rounded-full px-3 py-1 text-xs font-semibold text-white ${d.hasPassword?"bg-green-500":"bg-blue-500"}`,children:d.hasPassword?"Protected":"Not Protected"})}],c=[{label:"Profile Picture",type:"link",value:r.jsxs(fe,{children:[r.jsx(he,{src:((l=d==null?void 0:d.creator)==null?void 0:l.profilePicture)||"",alt:((u=d==null?void 0:d.creator)==null?void 0:u.name)||""}),r.jsx(me,{children:(p=(h=d==null?void 0:d.creator)==null?void 0:h.name)==null?void 0:p.charAt(0)})]})},{label:"Name",type:"text",value:(g=d==null?void 0:d.creator)==null?void 0:g.name},{label:"Email",type:"text",value:(x=d==null?void 0:d.creator)==null?void 0:x.email},{label:"Last Login",type:"text",value:((v=d==null?void 0:d.creator)==null?void 0:v.lastLogin)&&new Date((w=d==null?void 0:d.creator)==null?void 0:w.lastLogin).toISOString()}];return r.jsx(r.Fragment,{children:r.jsxs(Ue,{variant:"outline",roundness:"light",isOpen:t,onClose:n,children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(tt,{className:"size-6"}),r.jsx(Me,{className:"text-xl",children:a})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 w-full h-fit min-w-80 max-w-3xl",children:[r.jsxs(mt,{className:"h-fit",children:[r.jsx(Ft,{children:r.jsx(Bt,{className:"text-xl",children:"Link"})}),r.jsx(pt,{className:"flex flex-col gap-4",children:i.map((y,b)=>{var C;return r.jsxs("div",{className:"flex flex-col justify-center gap-1",children:[r.jsx(Y,{className:"text-sm text-muted-foreground",children:y.label}),y.type==="link"&&typeof y.value=="string"?r.jsx("a",{href:y.value,target:"_blank",className:"text-blue-400",children:y.value}):y.type==="array"&&Array.isArray(y.value)?r.jsx("p",{className:"flex flex-wrap gap-1",children:(C=y==null?void 0:y.value)==null?void 0:C.map(j=>r.jsx("span",{className:"inline-block bg-muted-foreground/20 text-foreground rounded-full px-3 py-1 text-xs font-semibold",children:j},j))}):r.jsx("p",{children:(y==null?void 0:y.value)||"-"})]},b)})}),r.jsxs(Vo,{className:"grid grid-cols-2 gap-2",children:[r.jsxs(B,{onClick:()=>o(d),variant:"secondary",className:"flex gap-2 items-center justify-center w-full hover:bg-foreground/10 dark:hover:bg-foreground/10",children:[r.jsx(At,{}),r.jsx("span",{children:"Edit"})]}),r.jsxs(B,{className:"flex gap-2 items-center justify-center w-full hover:bg-red-200 dark:hover:bg-red-950",variant:"secondary",onClick:()=>s(d),children:[r.jsx(kt,{className:"text-red-500"}),r.jsx("span",{children:"Delete"})]})]})]}),r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsxs(mt,{className:"min-w-80 h-fit",children:[r.jsx(Ft,{children:r.jsx(Bt,{className:"text-xl",children:"Creator"})}),r.jsx(pt,{className:"flex flex-col gap-4",children:c.map((y,b)=>r.jsxs("div",{className:"flex flex-col justify-center gap-1",children:[r.jsx(Y,{className:"text-sm text-muted-foreground",children:y.label}),y.type==="link"&&typeof y.value=="string"?r.jsx("a",{href:y.value,target:"_blank",className:"text-blue-400",children:y.value}):r.jsx("p",{children:y.value||"-"})]},b))})]}),r.jsxs(mt,{className:"min-w-80 h-full",children:[r.jsx(Ft,{children:r.jsx(Bt,{className:"text-xl",children:"Events"})}),r.jsx(pt,{children:r.jsx("p",{children:"later..."})})]})]})]})]})})};function In({className:e,...t}){return r.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto pb-4",children:r.jsx("table",{"data-slot":"table",className:ee("w-full caption-bottom text-sm",e),...t})})}function Ln({className:e,...t}){return r.jsx("thead",{"data-slot":"table-header",className:ee("[&_tr]:border-b",e),...t})}function Tn({className:e,...t}){return r.jsx("tbody",{"data-slot":"table-body",className:ee("[&_tr:last-child]:border-0",e),...t})}function Ve({className:e,...t}){return r.jsx("tr",{"data-slot":"table-row",className:ee("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function ae({className:e,...t}){return r.jsx("th",{"data-slot":"table-head",className:ee("text-muted-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function ie({className:e,...t}){return r.jsx("td",{"data-slot":"table-cell",className:ee("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}const $d=({link:e,options:t})=>{var n,s,o,a,f,d,i,c,l;return r.jsxs(Ve,{children:[r.jsx(ie,{children:r.jsxs("a",{href:`${e.shortUrl}`,target:"_blank",className:"text-blue-400",children:["/",e.shortUrlKey]})}),r.jsx(ie,{title:(n=e==null?void 0:e.creator)==null?void 0:n.name,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(fe,{children:[r.jsx(he,{src:(s=e==null?void 0:e.creator)==null?void 0:s.profilePicture,alt:(o=e==null?void 0:e.creator)==null?void 0:o.name}),r.jsx(me,{children:(f=(a=e==null?void 0:e.creator)==null?void 0:a.name)==null?void 0:f.charAt(0)})]}),r.jsx("span",{children:(d=e==null?void 0:e.creator)==null?void 0:d.email})]})}),r.jsx(ie,{children:r.jsxs("div",{className:"flex flex-wrap gap-2 min-w-52",children:[(i=e==null?void 0:e.tags)==null?void 0:i.slice(0,3).map(u=>r.jsx("span",{className:"inline-block bg-muted-foreground/20 text-foreground rounded-full px-3 py-1 text-xs font-semibold",children:u},u)),(c=e==null?void 0:e.tags)!=null&&c.length&&((l=e==null?void 0:e.tags)==null?void 0:l.length)>3?r.jsx("span",{children:"..."}):"-"]})}),r.jsx(ie,{children:r.jsx("span",{className:`${(e==null?void 0:e.status)==="active"?"bg-green-500":"bg-red-500"} rounded-full px-3 py-1 text-xs font-semibold mr-2 text-white`,children:(e==null?void 0:e.status.charAt(0).toUpperCase())+(e==null?void 0:e.status.slice(1))})}),r.jsx(ie,{className:"text-right",children:t&&r.jsx(mo,{options:t,link:e})})]})},Hd=({links:e,options:t})=>r.jsxs(In,{children:[r.jsx(Ln,{children:r.jsxs(Ve,{children:[r.jsx(ae,{className:"w-[100px]",children:"Short Url"}),r.jsx(ae,{children:"Creator"}),r.jsx(ae,{children:"Tags"}),r.jsx(ae,{children:"Status"}),r.jsx(ae,{className:"text-right",children:"Actions"})]})}),r.jsx(Tn,{children:e.map(n=>r.jsx($d,{link:n,options:t},n._id))})]}),Vd=()=>{const[e,t]=m.useState(""),[n,s]=m.useState(!1),[o,a]=m.useState(null),[f,d]=m.useState({createLink:!1,detailsLink:!1,deleteLink:!1}),[i,c]=m.useState(localStorage.getItem("linkDisplayConfig")?JSON.parse(localStorage.getItem("linkDisplayConfig")):{displayMode:"card",heading:"shortUrl",value:"destinationUrl"}),l=ge(),u=V(C=>C.links),h=V(C=>C.workspace),p=(C,j)=>{c(N=>({...N,[C]:j}))},g=C=>{const j=C.target.value;t(j),!(j.length<3)&&s(!0)},x=(C,j)=>{d(N=>({...N,[C]:j||!N[C]})),j||a(null)},v=C=>{a(C),x("detailsLink",!0)},w=C=>{a(C),x("createLink",!0)},y=C=>{a(C),x("deleteLink",!0)},b=[{label:"Details",icon:r.jsx(Go,{}),onClick:v},{label:"Edit",icon:r.jsx(At,{}),onClick:w},{label:"Delete",icon:r.jsx(kt,{}),variant:"destructive",onClick:y}];return m.useEffect(()=>{const C=setTimeout(()=>{!h.currentWorkspace||u.links.length>0&&!n||l(Ro({workspaceId:h.currentWorkspace._id,q:e})).then(()=>s(!1))},500);return()=>clearTimeout(C)},[h.currentWorkspace,n,e]),r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex flex-col md:flex-row gap-2 items-start md:items-center justify-between mt-1 mb-4",children:[r.jsx(Dd,{config:i,handleChange:p}),r.jsxs("form",{className:"items-center gap-2 inline-flex max-w-sm w-full",onSubmit:C=>{C.preventDefault(),g({target:{value:e}})},children:[r.jsx(re,{id:"search-link-view",type:"text",placeholder:"Search with tags or creator email or short url, at least 3 characters",className:"w-full",value:e,onChange:g}),r.jsxs(B,{type:"submit",className:"inline-flex items-center",children:[r.jsx(Ko,{className:"size-5"}),r.jsx("span",{children:"Search"})]})]})]}),r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsxs("div",{className:"flex justify-between items-center gap-3",children:[r.jsxs("h3",{className:"text-muted-foreground flex items-center gap-0",children:[r.jsx("span",{children:"Links"}),r.jsx(B,{variant:"ghost",size:"icon",className:"text-foreground",disabled:u.loading||n,onClick:()=>s(!0),children:r.jsx(vr,{className:"cursor-pointer size-5"})})]}),r.jsxs(B,{variant:"default",className:"flex items-center gap-2",onClick:()=>d(C=>({...C,createLink:!0})),children:[r.jsx(oa,{}),r.jsx("span",{children:"Create Link"})]})]}),u.loading?r.jsx(J,{className:"size-5"}):u.links.length>0?r.jsxs(r.Fragment,{children:[i.displayMode==="table"&&r.jsx(Hd,{links:u.links,options:b}),i.displayMode==="card"&&r.jsx(Wd,{config:i,links:u.links,options:b})]}):null]}),r.jsx(Yn,{isOpen:f.createLink,onClose:()=>x("createLink")}),o&&r.jsxs(r.Fragment,{children:[r.jsx(Ud,{isOpen:f.detailsLink,onClose:()=>x("detailsLink"),linkId:o._id,onOpenDelete:y,onOpenEdit:w}),r.jsx(za,{isOpen:f.deleteLink,onClose:()=>x("deleteLink"),link:o}),r.jsx(Yn,{isOpen:f.createLink,onClose:()=>x("createLink"),editMode:!0,formDataForEdit:o})]})]})},Kd=()=>r.jsxs("div",{className:"h-full grid grid-cols-1 grid-rows-[auto_1fr]",children:[r.jsx(un,{heading:"Loading...",subHeading:"Waiting for the workspace to load..."}),r.jsx("div",{className:"py-4 h-full flex flex-col items-center justify-center -translate-y-[10%]",children:r.jsx(J,{className:"size-5"})})]});function Gd(e){return $({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20.347 3.653a3.936 3.936 0 0 0-5.567 0l-1.75 1.75a.75.75 0 0 1-1.06-1.06l1.75-1.75a5.436 5.436 0 0 1 7.688 7.687l-1.564 1.564a.75.75 0 0 1-1.06-1.06l1.563-1.564a3.936 3.936 0 0 0 0-5.567ZM9.786 12.369a.75.75 0 0 1 1.053.125c.096.122.2.24.314.353 1.348 1.348 3.386 1.587 4.89.658l-3.922-2.858a.745.745 0 0 1-.057-.037c-1.419-1.013-3.454-.787-4.784.543L3.653 14.78a3.936 3.936 0 0 0 5.567 5.567l3-3a.75.75 0 1 1 1.06 1.06l-3 3a5.436 5.436 0 1 1-7.688-7.687l3.628-3.628a5.517 5.517 0 0 1 3.014-1.547l-7.05-5.136a.75.75 0 0 1 .883-1.213l20.25 14.75a.75.75 0 0 1-.884 1.213l-5.109-3.722c-2.155 1.709-5.278 1.425-7.232-.53a5.491 5.491 0 0 1-.431-.485.75.75 0 0 1 .125-1.053Z"},child:[]}]})(e)}const Yd=()=>r.jsxs("div",{className:"h-full grid grid-cols-1 grid-rows-[auto_1fr]",children:[r.jsx(un,{heading:"No Workspace",subHeading:"Create a workspace, goto to profile or click on 'Create one' button in the sidebar."}),r.jsx("div",{className:"py-4 h-full flex flex-col items-center justify-center -translate-y-[10%]",children:r.jsx(Gd,{size:100,className:"m-auto text-black/15 dark:text-white/15"})})]}),Xd=e=>{const t=ge(),n=()=>{t(Ao()).then(()=>{window.location.href="/"})};return r.jsxs(B,{variant:"destructive",onClick:n,...e,className:"flex items-center gap-2 "+(e==null?void 0:e.className),children:[r.jsx(Yo,{}),r.jsx("span",{children:"Logout"})]})},On=({editMode:e,workspaceId:t,isOpen:n,onClose:s})=>{const o=e?"Edit workspace":"Create workspace",[a,f]=m.useState(),[d,i]=m.useState(!1),c=V(y=>y.workspace),l=ge(),{register:u,handleSubmit:h,setValue:p,watch:g,formState:{errors:x}}=Rt(),v=h(y=>{const{workspaceName:b,workspaceDescription:C}=y;e?l(ko({name:b,description:C,id:t})).then(()=>s()):l(Po({name:b,description:C})).then(()=>s())}),w=()=>{s(),p("workspaceName",(a==null?void 0:a.name)||""),p("workspaceDescription",(a==null?void 0:a.description)||"")};return m.useEffect(()=>{if(!a&&t&&c.workspaces.length){const y=c.workspaces.find(b=>b._id===t);y&&(f(y),p("workspaceName",y.name),p("workspaceDescription",y.description))}},[c]),m.useEffect(()=>{a&&(a.name!==g("workspaceName")||a.description!==g("workspaceDescription")?i(!0):i(!1))},[g("workspaceName"),g("workspaceDescription")]),r.jsx(r.Fragment,{children:r.jsx(Ue,{roundness:"light",isOpen:n,onClose:w,variant:"outline",children:r.jsxs("div",{className:"flex flex-col gap-8",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(dn,{className:"size-6"}),r.jsx(Me,{className:"text-xl text-start",children:o})]}),r.jsxs("form",{className:"flex flex-col gap-4",onSubmit:v,children:[r.jsxs("div",{className:"flex flex-col gap-1 relative pb-4",children:[r.jsx(Y,{htmlFor:"workspaceName",children:"Workspace Name"}),r.jsx(re,{id:"workspaceName",type:"text",placeholder:"Ex. My Workspace",className:"w-full",maxLength:25,...u("workspaceName",{required:"Workspace name is required",minLength:{value:3,message:"Workspace name must be at least 3 characters"},maxLength:{value:25,message:"Workspace name must not exceed 25 characters"}})}),x.workspaceName&&r.jsx("span",{className:"text-red-500 text-xs absolute bottom-0",children:x.workspaceName.message})]}),r.jsxs("div",{className:"flex flex-col gap-1 relative pb-4",children:[r.jsx(Y,{htmlFor:"workspaceDescription",children:"Workspace Description"}),r.jsx(re,{id:"workspaceDescription",type:"text",placeholder:"Ex. My workspace for marketing",className:"w-full",maxLength:200,...u("workspaceDescription",{maxLength:{value:200,message:"Workspace description must not exceed 200 characters"}})}),x.workspaceName&&r.jsx("span",{className:"text-red-500 text-xs absolute bottom-0",children:x.workspaceName.message})]}),r.jsxs(B,{type:"submit",disabled:c.loading||e&&!d,className:"my-2 flex gap-2 items-center justify-center",children:[c.loading&&r.jsx(J,{className:"size-5"}),o]})]})]})})})},po=({workspaceId:e,isOpen:t,onClose:n})=>{const s="Delete Workspace",o=V(c=>c.workspace),a=ge(),[f,d]=m.useState(),i=()=>{f&&a(Io(f._id)).then(()=>n())};return m.useEffect(()=>{if(!e||f)return;const c=o.workspaces.find(l=>l._id===e);c&&d(c)},[e,o.workspaces]),r.jsx(r.Fragment,{children:r.jsxs(Ue,{variant:"outline",roundness:"light",isOpen:t,onClose:n,children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(dn,{className:"size-6"}),r.jsx(Me,{className:"text-xl",children:s})]}),r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[r.jsx("pre",{className:"text-sm text-center text-muted-foreground",children:`Are you sure you want to delete this workspace and all associated data (links, people, etc.)?
This action cannot be undone.`}),r.jsxs(B,{className:"flex gap-2 items-center w-fit",variant:"destructive",onClick:i,children:[o.loading&&r.jsx(J,{className:"size-5"}),r.jsx("span",{children:s})]})]})]})})},Qd=e=>{var c,l,u,h,p,g,x;const t=V(v=>v.user),[n,s]=St(),[o,a]=m.useState(!1),[f,d]=m.useState(!1),i=()=>{s(v=>(v.set("workspaceId",e.data._id),v))};return r.jsxs(Ve,{className:"group",children:[r.jsx(ie,{className:"font-medium",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(fe,{children:[r.jsx(he,{src:"",alt:(c=e.data)==null?void 0:c.name}),r.jsx(me,{itemType:"workspace",children:(u=(l=e.data)==null?void 0:l.name)==null?void 0:u.charAt(0)})]}),r.jsx("span",{children:e.data.name})]})}),r.jsx(ie,{children:e.data.description}),r.jsxs(ie,{className:"text-right",children:[((h=t.user)==null?void 0:h._id)===((p=e.data)==null?void 0:p.createdBy)&&r.jsx("div",{className:"rounded-md w-full h-full",children:r.jsxs(An,{children:[r.jsx(kn,{className:"p-1",children:r.jsx(ho,{className:"size-4 opacity-50"})}),r.jsxs(Pn,{children:[r.jsxs(wt,{onClick:i,variant:"default",className:"flex gap-2 items-center justify-start w-full hover:bg-foreground/10 dark:hover:bg-foreground/10",children:[r.jsx(fa,{}),r.jsx("span",{children:"Select"})]}),r.jsxs(wt,{onClick:()=>a(!0),variant:"default",className:"flex gap-2 items-center justify-start w-full hover:bg-foreground/10 dark:hover:bg-foreground/10",children:[r.jsx(At,{}),r.jsx("span",{children:"Edit"})]}),r.jsxs(wt,{className:"flex gap-2 items-center justify-start w-full hover:bg-red-200 dark:hover:bg-red-950",variant:"destructive",onClick:()=>d(!0),children:[r.jsx(kt,{className:"text-red-500"}),r.jsx("span",{children:"Delete"})]})]})]})}),r.jsx(On,{editMode:!0,workspaceId:(g=e.data)==null?void 0:g._id,isOpen:o,onClose:()=>a(!1)}),r.jsx(po,{workspaceId:(x=e.data)==null?void 0:x._id,isOpen:f,onClose:()=>d(!1)})]})]})},Zd=()=>{var h,p,g,x,v,w,y,b,C,j;const e=V(N=>N.user),t=V(N=>N.workspace),n=ge(),{register:s,handleSubmit:o,watch:a,formState:{errors:f}}=Rt(),[d,i]=m.useState(!1),[c,l]=m.useState(!1),u=o(N=>{n(Lo({name:N.name}))});return m.useEffect(()=>{var N;a("name")!==((N=e.user)==null?void 0:N.name)?i(!0):i(!1)},[a("name")]),m.useEffect(()=>{t.myWorkspaces.length>0||n(To())},[]),e!=null&&e.user?r.jsx(r.Fragment,{children:r.jsx("div",{className:"flex flex-col gap-4 w-full",children:r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"w-full grid grid-cols-[1fr_auto] gap-2 items-center",children:[r.jsxs("div",{className:"grid grid-cols-[1fr_auto] gap-2 w-fit",children:[r.jsxs(fe,{children:[r.jsx(he,{src:((h=e==null?void 0:e.user)==null?void 0:h.profilePicture)||void 0,alt:(p=e==null?void 0:e.user)==null?void 0:p.name}),r.jsx(me,{children:(x=(g=e==null?void 0:e.user)==null?void 0:g.name)==null?void 0:x.charAt(0)})]}),r.jsxs("div",{className:"w-fit",children:[r.jsx("h3",{className:"text-lg font-semibold line-clamp-1",children:(v=e==null?void 0:e.user)==null?void 0:v.name}),r.jsx("h4",{className:"text-sm text-muted-foreground line-clamp-1",children:(w=e==null?void 0:e.user)==null?void 0:w.email}),((y=e==null?void 0:e.user)==null?void 0:y.lastLogin)&&r.jsx("h4",{className:"text-sm text-muted-foreground line-clamp-1",children:new Date((b=e==null?void 0:e.user)==null?void 0:b.lastLogin).toLocaleString()})]})]}),r.jsx(Xd,{className:"w-fit"})]}),r.jsxs("form",{onSubmit:u,className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:[r.jsxs("div",{className:"flex flex-col gap-1 relative pb-4",children:[r.jsx(Y,{htmlFor:"name",children:"Name"}),r.jsx(re,{...s("name",{required:"Name is required",value:(C=e==null?void 0:e.user)==null?void 0:C.name}),id:"name",type:"text",placeholder:"Name",className:"w-full",autoComplete:"name"}),f.name&&r.jsx("span",{className:"text-red-500 text-xs absolute bottom-0",children:f.name.message})]}),r.jsxs("div",{className:"flex flex-col gap-1 relative pb-4",children:[r.jsx(Y,{htmlFor:"email",className:"opacity-50",children:"Email"}),r.jsx(re,{...s("email",{required:"Email is required",value:(j=e==null?void 0:e.user)==null?void 0:j.email}),id:"email",type:"email",placeholder:"Email",className:"w-full",autoComplete:"email",disabled:!0}),r.jsx(Ar,{className:"absolute top-0 right-0"}),f.email&&r.jsx("span",{className:"text-red-500 text-xs absolute bottom-0",children:f.email.message})]}),r.jsx("div",{className:"lg:col-span-2 flex w-full justify-end",children:r.jsxs(B,{disabled:(e==null?void 0:e.loading)||!d,type:"submit",className:"my-4 flex items-center justify-center gap-2 w-24 ",children:[(e==null?void 0:e.loading)&&r.jsx(J,{className:"size-5"}),r.jsx("span",{children:"Save"})]})})]}),r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsxs("div",{className:"flex justify-between items-center gap-3",children:[r.jsx("h3",{className:"text-muted-foreground",children:"My Workspaces"}),r.jsxs(B,{onClick:()=>l(!0),variant:"default",className:"flex gap-2 items-center justify-start",children:[r.jsx(ua,{}),r.jsx("span",{children:"Create Workspace"})]})]}),t.loading?r.jsx(J,{className:"size-5"}):t.myWorkspaces.length>0?r.jsxs(In,{children:[r.jsx(Ln,{children:r.jsxs(Ve,{children:[r.jsx(ae,{className:"w-[100px]",children:"Name"}),r.jsx(ae,{children:"Description"}),r.jsx(ae,{className:"text-right",children:"Actions"})]})}),r.jsx(Tn,{children:t.myWorkspaces.map((N,E)=>r.jsx(Qd,{data:N,avatarSize:"md"},E))})]}):r.jsx("h3",{className:"text-muted-foreground",children:"You have not created any workspace yet!"})]}),r.jsx(On,{isOpen:c,onClose:()=>l(!1)})]})})}):null},qd=()=>{const e="Send Invite",[t,n]=m.useState(!1),{register:s,handleSubmit:o,formState:{errors:a}}=Rt(),f=V(l=>l.workspace),d=ge(),i=()=>{n(!1)},c=o(l=>{var u;d(Oo({email:l.reciverEmail,workspaceId:(u=f==null?void 0:f.currentWorkspace)==null?void 0:u._id})).then(()=>n(!1))});return r.jsxs(r.Fragment,{children:[r.jsxs(B,{onClick:()=>n(!0),variant:"default",className:"flex items-center justify-center gap-2",children:[r.jsx(Bd,{className:"size-5"}),r.jsx("span",{children:"Invite"})]}),r.jsx(Ue,{variant:"outline",roundness:"light",isOpen:t,onClose:i,children:r.jsxs("div",{className:"flex flex-col gap-8",children:[r.jsx(Me,{className:"text-xl",children:e}),r.jsxs("form",{className:"flex flex-col gap-4",onSubmit:c,children:[r.jsxs("div",{className:"flex flex-col gap-1 relative pb-4",children:[r.jsx(Y,{htmlFor:"reciverEmail",children:"Email"}),r.jsx(re,{id:"reciverEmail",type:"email",placeholder:"Ex. jackson@example.com",className:"w-full",maxLength:100,...s("reciverEmail",{required:"Receiver Email is required"})}),a.reciverEmail&&r.jsx("span",{className:"text-red-500 text-xs absolute bottom-0",children:a.reciverEmail.message})]}),r.jsxs(B,{disabled:f==null?void 0:f.loading,type:"submit",className:"my-2 flex gap-2 items-center justify-center",children:[(f==null?void 0:f.loading)&&r.jsx(J,{className:"size-5"}),r.jsx("span",{children:e})]})]})]})})]})};function Jd(e){return $({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Circle_Remove"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M9.525,13.765a.5.5,0,0,0,.71.71c.59-.59,1.175-1.18,1.765-1.76l1.765,1.76a.5.5,0,0,0,.71-.71c-.59-.58-1.18-1.175-1.76-1.765.41-.42.82-.825,1.23-1.235.18-.18.35-.36.53-.53a.5.5,0,0,0-.71-.71L12,11.293,10.235,9.525a.5.5,0,0,0-.71.71L11.293,12Z"},child:[]},{tag:"path",attr:{d:"M12,21.933A9.933,9.933,0,1,1,21.934,12,9.945,9.945,0,0,1,12,21.933ZM12,3.067A8.933,8.933,0,1,0,20.934,12,8.944,8.944,0,0,0,12,3.067Z"},child:[]}]}]}]})(e)}const eu=e=>{var d,i,c;const[t,n]=m.useState(!1),s=V(l=>l.user),o=V(l=>l.workspace),a=ge(),f=()=>{var l;n(!0),a(_o({workspaceId:(l=o==null?void 0:o.currentWorkspace)==null?void 0:l._id,peopleId:e.people._id})).finally(()=>n(!1))};return r.jsxs(Ve,{children:[r.jsx(ie,{className:"font-medium",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(fe,{children:[r.jsx(he,{src:e.people.profilePicture,alt:e.people.name}),r.jsx(me,{children:(d=e.people.name)==null?void 0:d.charAt(0)})]}),r.jsx("span",{children:e.people.name})]})}),r.jsx(ie,{children:e.people.email}),r.jsx(ie,{className:"float-right",children:((i=s.user)==null?void 0:i._id)===((c=o==null?void 0:o.currentWorkspace)==null?void 0:c.createdBy)?r.jsxs(B,{onClick:f,className:"flex gap-2 px-4 items-center justify-center",variant:"destructive",children:[t?r.jsx(J,{className:"size-5"}):r.jsx(Jd,{className:"size-5"}),r.jsx("span",{children:t?"Removing...":"Remove"})]}):r.jsx(r.Fragment,{children:"huh?"})})]})},tu=()=>{var f,d,i,c,l,u,h,p,g,x,v,w,y,b,C;const e=V(j=>j.workspace),t=V(j=>j.user),[n,s]=m.useState(!1),[o,a]=m.useState(!1);return e!=null&&e.currentWorkspace?r.jsx(r.Fragment,{children:r.jsxs("div",{className:"py-4 space-y-8",children:[r.jsxs("div",{className:"flex gap-3",children:[r.jsxs(fe,{children:[r.jsx(he,{src:"",alt:(f=e==null?void 0:e.currentWorkspace)==null?void 0:f.name}),r.jsx(me,{children:((i=(d=e==null?void 0:e.currentWorkspace)==null?void 0:d.name)==null?void 0:i.charAt(0))+"W"})]}),r.jsxs("div",{className:"",children:[r.jsx("h3",{className:"text-xl line-clamp-1",children:(c=e==null?void 0:e.currentWorkspace)==null?void 0:c.name}),r.jsx("div",{className:"text-muted-foreground",children:`Created By: ${(u=(l=e==null?void 0:e.currentWorkspace)==null?void 0:l.createdByDetails)==null?void 0:u.email}`}),r.jsx("div",{className:"text-muted-foreground",children:(h=e==null?void 0:e.currentWorkspace)==null?void 0:h.description})]})]}),((p=t==null?void 0:t.user)==null?void 0:p._id)===((g=e==null?void 0:e.currentWorkspace)==null?void 0:g.createdBy)&&r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsxs(B,{onClick:()=>s(!0),variant:"secondary",className:"flex gap-2 items-center justify-start hover:bg-foreground/10 dark:hover:bg-foreground/10",children:[r.jsx(At,{}),r.jsx("span",{children:"Edit"})]}),r.jsxs(B,{className:"flex gap-2 items-center justify-start text-red-500 hover:text-red-500 hover:bg-red-200 dark:hover:bg-red-950",variant:"secondary",onClick:()=>a(!0),children:[r.jsx(kt,{}),r.jsx("span",{children:"Delete"})]})]}),r.jsx(On,{editMode:!0,workspaceId:(x=e==null?void 0:e.currentWorkspace)==null?void 0:x._id,isOpen:n,onClose:()=>s(!1)}),r.jsx(po,{workspaceId:(v=e==null?void 0:e.currentWorkspace)==null?void 0:v._id,isOpen:o,onClose:()=>a(!1)}),r.jsxs("div",{className:"flex justify-between items-center gap-3",children:[r.jsx("h3",{className:"text-muted-foreground",children:"People"}),((w=t==null?void 0:t.user)==null?void 0:w._id)===((y=e==null?void 0:e.currentWorkspace)==null?void 0:y.createdBy)&&r.jsx(qd,{})]}),e!=null&&e.loading?r.jsx(J,{className:"size-5"}):(b=e==null?void 0:e.currentWorkspace.peopleDetails)!=null&&b.length?r.jsxs(In,{children:[r.jsx(Ln,{children:r.jsxs(Ve,{children:[r.jsx(ae,{className:"w-[100px]",children:"Name"}),r.jsx(ae,{children:"Email"}),r.jsx(ae,{className:"text-right",children:"Actions"})]})}),r.jsx(Tn,{children:(C=e==null?void 0:e.currentWorkspace.peopleDetails)==null?void 0:C.map((j,N)=>r.jsx(eu,{people:j},N))})]}):r.jsx("div",{className:"text-muted-foreground",children:"No people in this workspace"})]})}):null},nu=()=>{const[e,t]=St(),n=V(o=>o.workspace);if(!e.get("workspaceId")&&e.get("tab")!="profile")return n.loading?r.jsx(Kd,{}):r.jsx(Yd,{});let s=null;switch(e.get("tab")){case"profile":s={heading:"Profile",subHeading:"Manage your profile",viewNode:r.jsx(Zd,{})};break;case"events":s={heading:"Events",subHeading:"Manage your events",viewNode:r.jsx(wa,{})};break;case"analytics":s={heading:"Analytics",subHeading:"Manage your analytics",viewNode:r.jsx(va,{})};break;case"settings":s={heading:"Settings",subHeading:"Manage your workspace settings",viewNode:r.jsx(tu,{})};break;case"links":default:s={heading:"Links",subHeading:"Manage your links",viewNode:r.jsx(Vd,{})};break}return r.jsxs(r.Fragment,{children:[r.jsx(un,{heading:s.heading,subHeading:s.subHeading}),s.viewNode]})},uu=()=>r.jsxs(Xo,{children:[r.jsx(Un,{path:"/",element:r.jsx(xa,{children:r.jsx(nu,{})})}),r.jsx(Un,{path:"*",element:r.jsx(Qo,{pageData:Zo.PageNotFound})})]});export{uu as default};
