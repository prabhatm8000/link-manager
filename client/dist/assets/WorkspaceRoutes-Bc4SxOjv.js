import{r as h,j as o,k as H,b as Ve,u as K,m as Mr,n as Ws,c as he,o as zs,q as $s,s as Us,w as Hs,x as Vs,R as z,y as Ks,z as Gs,A as Ys,t as Xs,B as Qs,C as Zs,D as Rr,E as Xn,F as Qn,H as Zn,J as qs,K as Js,M as ea,N as ta,O as na,P as ra,Q as oa,U as sa,V as aa,W as ia,X as ca,Y as la,Z as ua}from"./index-B270FbaC.js";import da from"./PageNotFound-CRIm5mdU.js";import{P as V,I as ne,L as Y,e as Sr,u as St,d as Ut,C as Ht,a as Vt,b as Kt,c as fa}from"./index.esm-BMG1aEPd.js";import{e as J,f as kt,L as ha,T as je,B as F,b as oe,g as X,S as ma,h as on,i as kr,R as pa,d as qn}from"./AppRouter-E6daGDve.js";function ke(e,t=[]){let n=[];function r(a,d){const u=h.createContext(d),i=n.length;n=[...n,d];const c=f=>{var w;const{scope:m,children:p,...g}=f,x=((w=m==null?void 0:m[e])==null?void 0:w[i])||u,v=h.useMemo(()=>g,Object.values(g));return o.jsx(x.Provider,{value:v,children:p})};c.displayName=a+"Provider";function l(f,m){var x;const p=((x=m==null?void 0:m[e])==null?void 0:x[i])||u,g=h.useContext(p);if(g)return g;if(d!==void 0)return d;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[c,l]}const s=()=>{const a=n.map(d=>h.createContext(d));return function(u){const i=(u==null?void 0:u[e])||a;return h.useMemo(()=>({[`__scope${e}`]:{...u,[e]:i}}),[u,i])}};return s.scopeName=e,[r,ga(s,...t)]}function ga(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const d=r.reduce((u,{useScope:i,scopeName:c})=>{const f=i(a)[`__scope${c}`];return{...u,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:d}),[d])}};return n.scopeName=t.scopeName,n}function se(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}var ge=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},xn="Avatar",[xa,Kd]=ke(xn),[va,Ar]=xa(xn),Pr=h.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,a]=h.useState("idle");return o.jsx(va,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:o.jsx(V.span,{...r,ref:t})})});Pr.displayName=xn;var Tr="AvatarImage",Ir=h.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...a}=e,d=Ar(Tr,n),u=wa(r,a.referrerPolicy),i=se(c=>{s(c),d.onImageLoadingStatusChange(c)});return ge(()=>{u!=="idle"&&i(u)},[u,i]),u==="loaded"?o.jsx(V.img,{...a,ref:t,src:r}):null});Ir.displayName=Tr;var Lr="AvatarFallback",Or=h.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,a=Ar(Lr,n),[d,u]=h.useState(r===void 0);return h.useEffect(()=>{if(r!==void 0){const i=window.setTimeout(()=>u(!0),r);return()=>window.clearTimeout(i)}},[r]),d&&a.imageLoadingStatus!=="loaded"?o.jsx(V.span,{...s,ref:t}):null});Or.displayName=Lr;function wa(e,t){const[n,r]=h.useState("idle");return ge(()=>{if(!e){r("error");return}let s=!0;const a=new window.Image,d=u=>()=>{s&&r(u)};return r("loading"),a.onload=d("loaded"),a.onerror=d("error"),a.src=e,t&&(a.referrerPolicy=t),()=>{s=!1}},[e,t]),n}var ya=Pr,ba=Ir,Ca=Or;function Ae({className:e,...t}){return o.jsx(ya,{"data-slot":"avatar",className:J("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function Pe({className:e,...t}){return o.jsx(ba,{"data-slot":"avatar-image",className:J("aspect-square size-full",e),...t})}function Te({className:e,...t}){return o.jsx(Ca,{"data-slot":"avatar-fallback",className:J("bg-foreground text-background cursor-default font-semibold flex size-full items-center justify-center rounded-full",e),...t})}function _r(e){return H({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6.672 1.911a1 1 0 10-1.932.518l.259.966a1 1 0 001.932-.518l-.26-.966zM2.429 4.74a1 1 0 10-.517 1.932l.966.259a1 1 0 00.517-1.932l-.966-.26zm8.814-.569a1 1 0 00-1.415-1.414l-.707.707a1 1 0 101.415 1.415l.707-.708zm-7.071 7.072l.707-.707A1 1 0 003.465 9.12l-.708.707a1 1 0 001.415 1.415zm3.2-5.171a1 1 0 00-1.3 1.3l4 10a1 1 0 001.823.075l1.38-2.759 3.018 3.02a1 1 0 001.414-1.415l-3.019-3.02 2.76-1.379a1 1 0 00-.076-1.822l-10-4z",clipRule:"evenodd"},child:[]}]})(e)}function ja(e){return H({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 112v288m144-144H112"},child:[]}]})(e)}function Na(e){return H({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M456 128a40 40 0 0 0-37.23 54.6l-84.17 84.17a39.86 39.86 0 0 0-29.2 0l-60.17-60.17a40 40 0 1 0-74.46 0L70.6 306.77a40 40 0 1 0 22.63 22.63L193.4 229.23a39.86 39.86 0 0 0 29.2 0l60.17 60.17a40 40 0 1 0 74.46 0l84.17-84.17A40 40 0 1 0 456 128z"},child:[]}]})(e)}function Dr(e){return H({attr:{viewBox:"0 0 512 512"},child:[{tag:"rect",attr:{width:"416",height:"384",x:"48",y:"80",fill:"none",strokeLinejoin:"round",strokeWidth:"32",rx:"48"},child:[]},{tag:"circle",attr:{cx:"296",cy:"232",r:"24"},child:[]},{tag:"circle",attr:{cx:"376",cy:"232",r:"24"},child:[]},{tag:"circle",attr:{cx:"296",cy:"312",r:"24"},child:[]},{tag:"circle",attr:{cx:"376",cy:"312",r:"24"},child:[]},{tag:"circle",attr:{cx:"136",cy:"312",r:"24"},child:[]},{tag:"circle",attr:{cx:"216",cy:"312",r:"24"},child:[]},{tag:"circle",attr:{cx:"136",cy:"392",r:"24"},child:[]},{tag:"circle",attr:{cx:"216",cy:"392",r:"24"},child:[]},{tag:"circle",attr:{cx:"296",cy:"392",r:"24"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M128 48v32m256-32v32"},child:[]},{tag:"path",attr:{fill:"none",strokeLinejoin:"round",strokeWidth:"32",d:"M464 160H48"},child:[]}]})(e)}function Ea(e){return H({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(e)}function Ma(e){return H({attr:{viewBox:"0 0 512 512"},child:[{tag:"rect",attr:{width:"336",height:"336",x:"128",y:"128",fill:"none",strokeLinejoin:"round",strokeWidth:"32",rx:"57",ry:"57"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m383.5 128 .5-24a56.16 56.16 0 0 0-56-56H112a64.19 64.19 0 0 0-64 64v216a56.16 56.16 0 0 0 56 56h24"},child:[]}]})(e)}function Ra(e){return H({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"36",d:"M208 352h-64a96 96 0 0 1 0-192h64m96 0h64a96 96 0 0 1 0 192h-64m-140.71-96h187.42"},child:[]}]})(e)}function Sa(e){return H({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M344 144c-3.92 52.87-44 96-88 96s-84.15-43.12-88-96c-4-55 35-96 88-96s92 42 88 96z"},child:[]},{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M256 304c-87 0-175.3 48-191.64 138.6C62.39 453.52 68.57 464 80 464h352c11.44 0 17.62-10.48 15.65-21.4C431.3 352 343 304 256 304z"},child:[]}]})(e)}function At(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1"},child:[]},{tag:"path",attr:{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z"},child:[]},{tag:"path",attr:{d:"M16 5l3 3"},child:[]}]})(e)}function ka(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 9l4 -4l4 4"},child:[]},{tag:"path",attr:{d:"M16 15l-4 4l-4 -4"},child:[]}]})(e)}function Aa(e){return H({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"},child:[]}]})(e)}function vn(e){return H({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 15c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0-2c-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4zm6-8c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0-2C9.8 3 8 4.8 8 7s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4zm6 12c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0-2c-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4z"},child:[]}]})(e)}function Pa(e){return H({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 15c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0-2c-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4zm6-8c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0-2C9.8 3 8 4.8 8 7s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4zm6 12c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0-2c-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4z"},child:[]}]})(e)}const Jn=e=>e<1e3?e.toString():e<1e6?(e/1e3).toFixed(1)+"k":e<1e9?(e/1e6).toFixed(1)+"m":(e/1e9).toFixed(1)+"b",wn=({className:e,text:t})=>o.jsx("span",{className:`px-1 text-xs text-yellow-600 dark:text-yellow-400 ${e}`,children:t||"*Coming soon"}),Ta=({data:e})=>o.jsxs("div",{className:"w-full py-4",children:[o.jsx(wn,{}),o.jsx("h5",{className:"text-muted-foreground py-2",children:"Usage"}),o.jsx("div",{className:"flex flex-col gap-4 text-sm",children:e.map((t,n)=>o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[t.label==="Events"&&o.jsx(_r,{}),t.label==="Links"&&o.jsx(Ve,{}),t.label==="Workspaces"&&o.jsx(vn,{}),o.jsx("span",{className:"",children:t.label})]}),o.jsxs("span",{className:"",children:[Jn(t.count)," of"," ",Jn(t.total)]})]},n),o.jsx("div",{className:"w-full h-1 bg-black/20 dark:bg-white/20 rounded-full",children:o.jsx("div",{className:"h-full bg-black dark:bg-white rounded-full",style:{width:`${t.count/t.total*100}%`}})})]},n))})]}),er=e=>{var t,n,r,s,a;return o.jsxs("div",{className:`flex items-center gap-2 ${e.className}`,onClick:()=>{var d;return(d=e==null?void 0:e.setActiveWorkspace)==null?void 0:d.call(e,e.data)},title:(t=e.data)==null?void 0:t.name,children:[o.jsxs(Ae,{children:[o.jsx(Pe,{src:"",alt:(n=e.data)==null?void 0:n.name}),o.jsx(Te,{children:((s=(r=e.data)==null?void 0:r.name)==null?void 0:s.charAt(0))+"W"})]}),o.jsx("span",{children:(a=e.data)==null?void 0:a.name})]})},Ia=({setShowSideBar:e,className:t})=>o.jsxs("div",{className:`w-64 h-full backdrop-blur-lg bg-background p-2 flex flex-col justify-between ${t}`,children:[o.jsxs("div",{className:"flex flex-col gap-6",children:[o.jsx(Fr,{}),o.jsx(Oa,{setShowSideBar:e})]}),o.jsx(Ta,{data:[{label:"Events",count:3243,total:1e4},{label:"Links",count:10,total:25},{label:"Workspaces",count:1,total:10}]})]}),Fr=({show:e,handleShow:t})=>{var d,u,i,c;const n=K(l=>l.user),[r,s]=kt(),a=l=>{s(f=>(f.set("tab",l),f))};return o.jsxs("div",{className:"flex items-end justify-between gap-2",children:[o.jsx(ha,{to:"/",children:o.jsxs(je,{className:"text-xl flex gap-2 justify-start items-center",children:[o.jsx(Ve,{}),o.jsx("span",{children:"Ref.com"})]})}),t?o.jsx(F,{variant:e?"destructive":"outline",className:"md:hidden transition-all duration-300 ease-out z-50",onClick:t,size:"icon",children:o.jsx("div",{className:`transform ${e?"rotate-0":"rotate-180"} transition-all duration-300 ease-out`,children:e?o.jsx(Mr,{className:"size-5"}):o.jsx(Ws,{className:"size-5"})})}):o.jsxs(Ae,{onClick:()=>a("profile"),children:[o.jsx(Pe,{src:((d=n==null?void 0:n.user)==null?void 0:d.profilePicture)||"",alt:((u=n==null?void 0:n.user)==null?void 0:u.name)||""}),o.jsx(Te,{children:(c=(i=n==null?void 0:n.user)==null?void 0:i.name)==null?void 0:c.charAt(0)})]})]})},La=[{title:"Links",value:"links",icon:o.jsx(Ve,{})},{title:"Events",value:"events",icon:o.jsx(_r,{})},{title:"Analytics",value:"analytics",icon:o.jsx(Na,{})},{title:"Profile",value:"profile",icon:o.jsx(Sa,{})},{title:"Settings",value:"settings",icon:o.jsx(Hs,{})}],Oa=({setShowSideBar:e})=>{const t=K(p=>p.workspace),n=he(),[r,s]=h.useState(!1),[a,d]=kt(),[u,i]=h.useState(a.get("workspaceId")||""),[c,l]=h.useState(a.get("tab")||"links"),f=p=>{p._id!==u&&(d(g=>(g.set("workspaceId",p._id),g)),window.location.reload())},m=p=>{d(g=>(g.set("tab",p),g)),e()};return h.useEffect(()=>{var x;let p=a.get("workspaceId")||"",g=a.get("tab")||"links";!p&&t.workspaces.length&&(p=((x=t.workspaces[0])==null?void 0:x._id)||""),i(p),l(g)},[a,t.workspaces]),h.useEffect(()=>{t.loading||n(zs())},[]),h.useEffect(()=>{u&&n($s(u)).then(()=>{d(p=>(p.set("workspaceId",u),p))})},[u]),o.jsxs("div",{className:"flex flex-col gap-6",children:[t.currentWorkspace?o.jsxs(F,{onClick:()=>s(p=>!p),className:"flex items-center justify-between w-full",variant:r?"outline":"ghost",children:[o.jsx(er,{data:t.currentWorkspace,avatarSize:"md"}),o.jsx(ka,{className:"opacity-50"})]}):o.jsx(F,{variant:"ghost",onClick:()=>m("profile"),className:"flex gap-2 items-center justify-center w-full",children:t.loading?o.jsx(oe,{className:"size-5"}):"No workspace. Create one!"}),r?o.jsxs("div",{children:[o.jsx("h4",{className:"text-muted-foreground",children:"Workspaces"}),o.jsxs("div",{className:"flex flex-col gap-2 max-h-80 h-80 overflow-y-auto",children:[t.workspaces.map((p,g)=>o.jsx(er,{data:p,className:"p-2 cursor-pointer",avatarSize:"md",setActiveWorkspace:f},g)),c!=="profile"&&o.jsxs(F,{variant:"ghost",onClick:()=>m("profile"),className:"flex gap-2 items-center justify-center w-full",children:[o.jsx(Us,{className:"size-5"}),o.jsx("span",{children:"Create workspace"})]})]})]}):o.jsx("div",{className:"flex flex-col text-muted-foreground font-semibold text-sm",children:La.map((p,g)=>o.jsxs(F,{onClick:()=>m(p.value),variant:"ghost",className:`relative flex items-center justify-start gap-1 ${c===p.value?"bg-muted-foreground/25 text-foreground":""}`,children:[c===p.value&&o.jsx("span",{className:"bg-muted-foreground h-4 w-1 rounded-full absolute left-0 top-1/2 transform -translate-y-1/2"}),p.icon,o.jsx("span",{children:p.title})]},g))})]})},_a=({children:e})=>{const[t,n]=h.useState(!1);return h.useEffect(()=>{const r=document.getElementById("workspace");r&&r.scrollIntoView({behavior:"smooth"})},[]),o.jsxs("div",{className:"relative h-screen md:grid grid-cols-[auto_1fr] gap-0",children:[o.jsx("div",{onClick:()=>n(!1),className:`${t?"fixed md:hidden":"hidden"} z-40 top-0 left-0 w-full h-full bg-black/50 backdrop-blur-[1px]`}),o.jsx(Ia,{className:`fixed md:static z-50 top-0 left-0 transition-transform duration-500 ease-out ${t?"translate-x-0":"-translate-x-[100%] md:translate-x-0"}`,setShowSideBar:()=>n(r=>!r)}),o.jsxs("div",{className:"grid grid-cols-1 grid-rows-[auto_1fr] md:flex md:justify-center h-full w-full bg-foreground/[3%]",children:[o.jsx("div",{className:"block md:hidden p-4",children:o.jsx(Fr,{show:t,handleShow:()=>n(r=>!r)})}),o.jsx("div",{id:"workspace",className:"h-full w-full p-4 min-w-sm 2xl:max-w-7xl",children:e})]})]})},Ie=({heading:e,subHeading:t})=>o.jsxs("div",{className:"flex flex-col gap-4 py-4 px-2",children:[o.jsx(je,{className:"text-4xl font-bold",children:e}),o.jsx("h4",{className:"text-sm text-muted-foreground",children:t})]}),Da=()=>o.jsxs(o.Fragment,{children:[o.jsx(Ie,{heading:"Analytics",subHeading:"Manage your analytics"}),o.jsx("div",{className:"py-4"})]}),Fa=()=>o.jsxs(o.Fragment,{children:[o.jsx(Ie,{heading:"Events",subHeading:"Manage your events"}),o.jsx("div",{className:"py-4"})]});function Pt(e){return H({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"},child:[]}]})(e)}const Gt=new Map,Ba=({inputProps:e,arrayValues:t,setArrayValues:n,getSuggestions:r})=>{const[s,a]=h.useState(""),[d,u]=h.useState(!1),[i,c]=h.useState([]),l=h.useRef(null),f=v=>{n(w=>{const y=new Set([...w,v]);return Array.from(y)}),a("")},m=v=>n(w=>w.filter(y=>v!==y)),p=v=>{v.key==="Escape"&&u(!1),v.key==="Enter"&&(v.preventDefault(),f(s))},g=async v=>{if(Gt.has(v))c(Gt.get(v)||[]);else{const w=await r(v);Gt.set(v,w),c(w)}},x=v=>{l!=null&&l.current&&l.current.contains(v.relatedTarget)||u(!1)};return h.useEffect(()=>{if(s.length<2){c([]);return}const v=setTimeout(()=>{g(s)},500);return()=>{clearTimeout(v)}},[s]),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[t==null?void 0:t.map((v,w)=>o.jsxs("span",{className:"flex items-center bg-ring/40 rounded-md",children:[o.jsx("span",{className:"pl-2",children:v}),o.jsx(Mr,{className:"size-8",onClick:()=>m(v)})]},w)),o.jsxs("div",{className:"flex justify-between items-center w-full",children:[o.jsxs("div",{className:"relative w-full",children:[o.jsx(ne,{type:e.type,onKeyDown:p,value:s,onChange:v=>a(v.target.value.trim()),...e,onFocus:v=>u(!0),onBlur:x,autoComplete:"off"}),d&&i.length>0&&o.jsx("div",{ref:l,className:"absolute z-50 top-full w-full my-2 p-1 rounded-md bg-background border border-ring ring-[3px] ring-ring/50 flex flex-col gap-1",children:i.map((v,w)=>o.jsx("span",{className:"px-2 py-1 text-sm bg-ring/30 hover:bg-ring/50 rounded-sm cursor-pointer",onMouseDown:y=>y.preventDefault(),onClick:()=>f(v),children:v},w))})]}),o.jsx(F,{variant:"ghost",size:"sm",type:"button",title:"Clear all",onClick:v=>n([]),children:o.jsx(Vs,{className:"size-8 p-0"})})]})]})};var Wa=Object.defineProperty,yt=Object.getOwnPropertySymbols,Br=Object.prototype.hasOwnProperty,Wr=Object.prototype.propertyIsEnumerable,tr=(e,t,n)=>t in e?Wa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sn=(e,t)=>{for(var n in t||(t={}))Br.call(t,n)&&tr(e,n,t[n]);if(yt)for(var n of yt(t))Wr.call(t,n)&&tr(e,n,t[n]);return e},an=(e,t)=>{var n={};for(var r in e)Br.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&yt)for(var r of yt(e))t.indexOf(r)<0&&Wr.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Re;(e=>{const t=class L{constructor(i,c,l,f){if(this.version=i,this.errorCorrectionLevel=c,this.modules=[],this.isFunction=[],i<L.MIN_VERSION||i>L.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=i*4+17;let m=[];for(let g=0;g<this.size;g++)m.push(!1);for(let g=0;g<this.size;g++)this.modules.push(m.slice()),this.isFunction.push(m.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(l);if(this.drawCodewords(p),f==-1){let g=1e9;for(let x=0;x<8;x++){this.applyMask(x),this.drawFormatBits(x);const v=this.getPenaltyScore();v<g&&(f=x,g=v),this.applyMask(x)}}s(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(i,c){const l=e.QrSegment.makeSegments(i);return L.encodeSegments(l,c)}static encodeBinary(i,c){const l=e.QrSegment.makeBytes(i);return L.encodeSegments([l],c)}static encodeSegments(i,c,l=1,f=40,m=-1,p=!0){if(!(L.MIN_VERSION<=l&&l<=f&&f<=L.MAX_VERSION)||m<-1||m>7)throw new RangeError("Invalid value");let g,x;for(g=l;;g++){const b=L.getNumDataCodewords(g,c)*8,C=d.getTotalBits(i,g);if(C<=b){x=C;break}if(g>=f)throw new RangeError("Data too long")}for(const b of[L.Ecc.MEDIUM,L.Ecc.QUARTILE,L.Ecc.HIGH])p&&x<=L.getNumDataCodewords(g,b)*8&&(c=b);let v=[];for(const b of i){n(b.mode.modeBits,4,v),n(b.numChars,b.mode.numCharCountBits(g),v);for(const C of b.getData())v.push(C)}s(v.length==x);const w=L.getNumDataCodewords(g,c)*8;s(v.length<=w),n(0,Math.min(4,w-v.length),v),n(0,(8-v.length%8)%8,v),s(v.length%8==0);for(let b=236;v.length<w;b^=253)n(b,8,v);let y=[];for(;y.length*8<v.length;)y.push(0);return v.forEach((b,C)=>y[C>>>3]|=b<<7-(C&7)),new L(g,c,y,m)}getModule(i,c){return 0<=i&&i<this.size&&0<=c&&c<this.size&&this.modules[c][i]}getModules(){return this.modules}drawFunctionPatterns(){for(let l=0;l<this.size;l++)this.setFunctionModule(6,l,l%2==0),this.setFunctionModule(l,6,l%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const i=this.getAlignmentPatternPositions(),c=i.length;for(let l=0;l<c;l++)for(let f=0;f<c;f++)l==0&&f==0||l==0&&f==c-1||l==c-1&&f==0||this.drawAlignmentPattern(i[l],i[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(i){const c=this.errorCorrectionLevel.formatBits<<3|i;let l=c;for(let m=0;m<10;m++)l=l<<1^(l>>>9)*1335;const f=(c<<10|l)^21522;s(f>>>15==0);for(let m=0;m<=5;m++)this.setFunctionModule(8,m,r(f,m));this.setFunctionModule(8,7,r(f,6)),this.setFunctionModule(8,8,r(f,7)),this.setFunctionModule(7,8,r(f,8));for(let m=9;m<15;m++)this.setFunctionModule(14-m,8,r(f,m));for(let m=0;m<8;m++)this.setFunctionModule(this.size-1-m,8,r(f,m));for(let m=8;m<15;m++)this.setFunctionModule(8,this.size-15+m,r(f,m));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let i=this.version;for(let l=0;l<12;l++)i=i<<1^(i>>>11)*7973;const c=this.version<<12|i;s(c>>>18==0);for(let l=0;l<18;l++){const f=r(c,l),m=this.size-11+l%3,p=Math.floor(l/3);this.setFunctionModule(m,p,f),this.setFunctionModule(p,m,f)}}drawFinderPattern(i,c){for(let l=-4;l<=4;l++)for(let f=-4;f<=4;f++){const m=Math.max(Math.abs(f),Math.abs(l)),p=i+f,g=c+l;0<=p&&p<this.size&&0<=g&&g<this.size&&this.setFunctionModule(p,g,m!=2&&m!=4)}}drawAlignmentPattern(i,c){for(let l=-2;l<=2;l++)for(let f=-2;f<=2;f++)this.setFunctionModule(i+f,c+l,Math.max(Math.abs(f),Math.abs(l))!=1)}setFunctionModule(i,c,l){this.modules[c][i]=l,this.isFunction[c][i]=!0}addEccAndInterleave(i){const c=this.version,l=this.errorCorrectionLevel;if(i.length!=L.getNumDataCodewords(c,l))throw new RangeError("Invalid argument");const f=L.NUM_ERROR_CORRECTION_BLOCKS[l.ordinal][c],m=L.ECC_CODEWORDS_PER_BLOCK[l.ordinal][c],p=Math.floor(L.getNumRawDataModules(c)/8),g=f-p%f,x=Math.floor(p/f);let v=[];const w=L.reedSolomonComputeDivisor(m);for(let b=0,C=0;b<f;b++){let j=i.slice(C,C+x-m+(b<g?0:1));C+=j.length;const E=L.reedSolomonComputeRemainder(j,w);b<g&&j.push(0),v.push(j.concat(E))}let y=[];for(let b=0;b<v[0].length;b++)v.forEach((C,j)=>{(b!=x-m||j>=g)&&y.push(C[b])});return s(y.length==p),y}drawCodewords(i){if(i.length!=Math.floor(L.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let c=0;for(let l=this.size-1;l>=1;l-=2){l==6&&(l=5);for(let f=0;f<this.size;f++)for(let m=0;m<2;m++){const p=l-m,x=(l+1&2)==0?this.size-1-f:f;!this.isFunction[x][p]&&c<i.length*8&&(this.modules[x][p]=r(i[c>>>3],7-(c&7)),c++)}}s(c==i.length*8)}applyMask(i){if(i<0||i>7)throw new RangeError("Mask value out of range");for(let c=0;c<this.size;c++)for(let l=0;l<this.size;l++){let f;switch(i){case 0:f=(l+c)%2==0;break;case 1:f=c%2==0;break;case 2:f=l%3==0;break;case 3:f=(l+c)%3==0;break;case 4:f=(Math.floor(l/3)+Math.floor(c/2))%2==0;break;case 5:f=l*c%2+l*c%3==0;break;case 6:f=(l*c%2+l*c%3)%2==0;break;case 7:f=((l+c)%2+l*c%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[c][l]&&f&&(this.modules[c][l]=!this.modules[c][l])}}getPenaltyScore(){let i=0;for(let m=0;m<this.size;m++){let p=!1,g=0,x=[0,0,0,0,0,0,0];for(let v=0;v<this.size;v++)this.modules[m][v]==p?(g++,g==5?i+=L.PENALTY_N1:g>5&&i++):(this.finderPenaltyAddHistory(g,x),p||(i+=this.finderPenaltyCountPatterns(x)*L.PENALTY_N3),p=this.modules[m][v],g=1);i+=this.finderPenaltyTerminateAndCount(p,g,x)*L.PENALTY_N3}for(let m=0;m<this.size;m++){let p=!1,g=0,x=[0,0,0,0,0,0,0];for(let v=0;v<this.size;v++)this.modules[v][m]==p?(g++,g==5?i+=L.PENALTY_N1:g>5&&i++):(this.finderPenaltyAddHistory(g,x),p||(i+=this.finderPenaltyCountPatterns(x)*L.PENALTY_N3),p=this.modules[v][m],g=1);i+=this.finderPenaltyTerminateAndCount(p,g,x)*L.PENALTY_N3}for(let m=0;m<this.size-1;m++)for(let p=0;p<this.size-1;p++){const g=this.modules[m][p];g==this.modules[m][p+1]&&g==this.modules[m+1][p]&&g==this.modules[m+1][p+1]&&(i+=L.PENALTY_N2)}let c=0;for(const m of this.modules)c=m.reduce((p,g)=>p+(g?1:0),c);const l=this.size*this.size,f=Math.ceil(Math.abs(c*20-l*10)/l)-1;return s(0<=f&&f<=9),i+=f*L.PENALTY_N4,s(0<=i&&i<=2568888),i}getAlignmentPatternPositions(){if(this.version==1)return[];{const i=Math.floor(this.version/7)+2,c=this.version==32?26:Math.ceil((this.version*4+4)/(i*2-2))*2;let l=[6];for(let f=this.size-7;l.length<i;f-=c)l.splice(1,0,f);return l}}static getNumRawDataModules(i){if(i<L.MIN_VERSION||i>L.MAX_VERSION)throw new RangeError("Version number out of range");let c=(16*i+128)*i+64;if(i>=2){const l=Math.floor(i/7)+2;c-=(25*l-10)*l-55,i>=7&&(c-=36)}return s(208<=c&&c<=29648),c}static getNumDataCodewords(i,c){return Math.floor(L.getNumRawDataModules(i)/8)-L.ECC_CODEWORDS_PER_BLOCK[c.ordinal][i]*L.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][i]}static reedSolomonComputeDivisor(i){if(i<1||i>255)throw new RangeError("Degree out of range");let c=[];for(let f=0;f<i-1;f++)c.push(0);c.push(1);let l=1;for(let f=0;f<i;f++){for(let m=0;m<c.length;m++)c[m]=L.reedSolomonMultiply(c[m],l),m+1<c.length&&(c[m]^=c[m+1]);l=L.reedSolomonMultiply(l,2)}return c}static reedSolomonComputeRemainder(i,c){let l=c.map(f=>0);for(const f of i){const m=f^l.shift();l.push(0),c.forEach((p,g)=>l[g]^=L.reedSolomonMultiply(p,m))}return l}static reedSolomonMultiply(i,c){if(i>>>8||c>>>8)throw new RangeError("Byte out of range");let l=0;for(let f=7;f>=0;f--)l=l<<1^(l>>>7)*285,l^=(c>>>f&1)*i;return s(l>>>8==0),l}finderPenaltyCountPatterns(i){const c=i[1];s(c<=this.size*3);const l=c>0&&i[2]==c&&i[3]==c*3&&i[4]==c&&i[5]==c;return(l&&i[0]>=c*4&&i[6]>=c?1:0)+(l&&i[6]>=c*4&&i[0]>=c?1:0)}finderPenaltyTerminateAndCount(i,c,l){return i&&(this.finderPenaltyAddHistory(c,l),c=0),c+=this.size,this.finderPenaltyAddHistory(c,l),this.finderPenaltyCountPatterns(l)}finderPenaltyAddHistory(i,c){c[0]==0&&(i+=this.size),c.pop(),c.unshift(i)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(u,i,c){if(i<0||i>31||u>>>i)throw new RangeError("Value out of range");for(let l=i-1;l>=0;l--)c.push(u>>>l&1)}function r(u,i){return(u>>>i&1)!=0}function s(u){if(!u)throw new Error("Assertion error")}const a=class U{constructor(i,c,l){if(this.mode=i,this.numChars=c,this.bitData=l,c<0)throw new RangeError("Invalid argument");this.bitData=l.slice()}static makeBytes(i){let c=[];for(const l of i)n(l,8,c);return new U(U.Mode.BYTE,i.length,c)}static makeNumeric(i){if(!U.isNumeric(i))throw new RangeError("String contains non-numeric characters");let c=[];for(let l=0;l<i.length;){const f=Math.min(i.length-l,3);n(parseInt(i.substring(l,l+f),10),f*3+1,c),l+=f}return new U(U.Mode.NUMERIC,i.length,c)}static makeAlphanumeric(i){if(!U.isAlphanumeric(i))throw new RangeError("String contains unencodable characters in alphanumeric mode");let c=[],l;for(l=0;l+2<=i.length;l+=2){let f=U.ALPHANUMERIC_CHARSET.indexOf(i.charAt(l))*45;f+=U.ALPHANUMERIC_CHARSET.indexOf(i.charAt(l+1)),n(f,11,c)}return l<i.length&&n(U.ALPHANUMERIC_CHARSET.indexOf(i.charAt(l)),6,c),new U(U.Mode.ALPHANUMERIC,i.length,c)}static makeSegments(i){return i==""?[]:U.isNumeric(i)?[U.makeNumeric(i)]:U.isAlphanumeric(i)?[U.makeAlphanumeric(i)]:[U.makeBytes(U.toUtf8ByteArray(i))]}static makeEci(i){let c=[];if(i<0)throw new RangeError("ECI assignment value out of range");if(i<128)n(i,8,c);else if(i<16384)n(2,2,c),n(i,14,c);else if(i<1e6)n(6,3,c),n(i,21,c);else throw new RangeError("ECI assignment value out of range");return new U(U.Mode.ECI,0,c)}static isNumeric(i){return U.NUMERIC_REGEX.test(i)}static isAlphanumeric(i){return U.ALPHANUMERIC_REGEX.test(i)}getData(){return this.bitData.slice()}static getTotalBits(i,c){let l=0;for(const f of i){const m=f.mode.numCharCountBits(c);if(f.numChars>=1<<m)return 1/0;l+=4+m+f.bitData.length}return l}static toUtf8ByteArray(i){i=encodeURI(i);let c=[];for(let l=0;l<i.length;l++)i.charAt(l)!="%"?c.push(i.charCodeAt(l)):(c.push(parseInt(i.substring(l+1,l+3),16)),l+=2);return c}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let d=a;e.QrSegment=a})(Re||(Re={}));(e=>{(t=>{const n=class{constructor(s,a){this.ordinal=s,this.formatBits=a}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(Re||(Re={}));(e=>{(t=>{const n=class{constructor(s,a){this.modeBits=s,this.numBitsCharCount=a}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(Re||(Re={}));var We=Re;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var za={L:We.QrCode.Ecc.LOW,M:We.QrCode.Ecc.MEDIUM,Q:We.QrCode.Ecc.QUARTILE,H:We.QrCode.Ecc.HIGH},zr=128,$r="L",Ur="#FFFFFF",Hr="#000000",Vr=!1,Kr=1,$a=4,Ua=0,Ha=.1;function Gr(e,t=0){const n=[];return e.forEach(function(r,s){let a=null;r.forEach(function(d,u){if(!d&&a!==null){n.push(`M${a+t} ${s+t}h${u-a}v1H${a+t}z`),a=null;return}if(u===r.length-1){if(!d)return;a===null?n.push(`M${u+t},${s+t} h1v1H${u+t}z`):n.push(`M${a+t},${s+t} h${u+1-a}v1H${a+t}z`);return}d&&a===null&&(a=u)})}),n.join("")}function Yr(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((s,a)=>a<t.x||a>=t.x+t.w?s:!1))}function Va(e,t,n,r){if(r==null)return null;const s=e.length+n*2,a=Math.floor(t*Ha),d=s/t,u=(r.width||a)*d,i=(r.height||a)*d,c=r.x==null?e.length/2-u/2:r.x*d,l=r.y==null?e.length/2-i/2:r.y*d,f=r.opacity==null?1:r.opacity;let m=null;if(r.excavate){let g=Math.floor(c),x=Math.floor(l),v=Math.ceil(u+c-g),w=Math.ceil(i+l-x);m={x:g,y:x,w:v,h:w}}const p=r.crossOrigin;return{x:c,y:l,h:i,w:u,excavation:m,opacity:f,crossOrigin:p}}function Ka(e,t){return t!=null?Math.max(Math.floor(t),0):e?$a:Ua}function Xr({value:e,level:t,minVersion:n,includeMargin:r,marginSize:s,imageSettings:a,size:d,boostLevel:u}){let i=z.useMemo(()=>{const g=(Array.isArray(e)?e:[e]).reduce((x,v)=>(x.push(...We.QrSegment.makeSegments(v)),x),[]);return We.QrCode.encodeSegments(g,za[t],n,void 0,void 0,u)},[e,t,n,u]);const{cells:c,margin:l,numCells:f,calculatedImageSettings:m}=z.useMemo(()=>{let p=i.getModules();const g=Ka(r,s),x=p.length+g*2,v=Va(p,d,g,a);return{cells:p,margin:g,numCells:x,calculatedImageSettings:v}},[i,d,a,r,s]);return{qrcode:i,margin:l,cells:c,numCells:f,calculatedImageSettings:m}}var Ga=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),Ya=z.forwardRef(function(t,n){const r=t,{value:s,size:a=zr,level:d=$r,bgColor:u=Ur,fgColor:i=Hr,includeMargin:c=Vr,minVersion:l=Kr,boostLevel:f,marginSize:m,imageSettings:p}=r,x=an(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:v}=x,w=an(x,["style"]),y=p==null?void 0:p.src,b=z.useRef(null),C=z.useRef(null),j=z.useCallback(S=>{b.current=S,typeof n=="function"?n(S):n&&(n.current=S)},[n]),[E,N]=z.useState(!1),{margin:k,cells:D,numCells:O,calculatedImageSettings:_}=Xr({value:s,level:d,minVersion:l,boostLevel:f,includeMargin:c,marginSize:m,imageSettings:p,size:a});z.useEffect(()=>{if(b.current!=null){const S=b.current,A=S.getContext("2d");if(!A)return;let I=D;const B=C.current,P=_!=null&&B!==null&&B.complete&&B.naturalHeight!==0&&B.naturalWidth!==0;P&&_.excavation!=null&&(I=Yr(D,_.excavation));const R=window.devicePixelRatio||1;S.height=S.width=a*R;const W=a/O*R;A.scale(W,W),A.fillStyle=u,A.fillRect(0,0,O,O),A.fillStyle=i,Ga?A.fill(new Path2D(Gr(I,k))):D.forEach(function(G,ee){G.forEach(function(Ne,Ee){Ne&&A.fillRect(Ee+k,ee+k,1,1)})}),_&&(A.globalAlpha=_.opacity),P&&A.drawImage(B,_.x+k,_.y+k,_.w,_.h)}}),z.useEffect(()=>{N(!1)},[y]);const $=sn({height:a,width:a},v);let M=null;return y!=null&&(M=z.createElement("img",{src:y,key:y,style:{display:"none"},onLoad:()=>{N(!0)},ref:C,crossOrigin:_==null?void 0:_.crossOrigin})),z.createElement(z.Fragment,null,z.createElement("canvas",sn({style:$,height:a,width:a,ref:j,role:"img"},w)),M)});Ya.displayName="QRCodeCanvas";var Qr=z.forwardRef(function(t,n){const r=t,{value:s,size:a=zr,level:d=$r,bgColor:u=Ur,fgColor:i=Hr,includeMargin:c=Vr,minVersion:l=Kr,boostLevel:f,title:m,marginSize:p,imageSettings:g}=r,x=an(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:v,cells:w,numCells:y,calculatedImageSettings:b}=Xr({value:s,level:d,minVersion:l,boostLevel:f,includeMargin:c,marginSize:p,imageSettings:g,size:a});let C=w,j=null;g!=null&&b!=null&&(b.excavation!=null&&(C=Yr(w,b.excavation)),j=z.createElement("image",{href:g.src,height:b.h,width:b.w,x:b.x+v,y:b.y+v,preserveAspectRatio:"none",opacity:b.opacity,crossOrigin:b.crossOrigin}));const E=Gr(C,v);return z.createElement("svg",sn({height:a,width:a,viewBox:`0 0 ${y} ${y}`,ref:n,role:"img"},x),!!m&&z.createElement("title",null,m),z.createElement("path",{fill:u,d:`M0,0 h${y}v${y}H0z`,shapeRendering:"crispEdges"}),z.createElement("path",{fill:i,d:E,shapeRendering:"crispEdges"}),j)});Qr.displayName="QRCodeSVG";const Xa=({url:e})=>o.jsxs("div",{children:[o.jsx(Y,{children:"QR Code"}),o.jsx("div",{className:"mt-2 flex justify-center items-center w-full h-28 p-2 bg-inherit rounded-md border border-ring/50",children:o.jsx(Qr,{value:e,height:75,width:75,bgColor:"var(--background)",fgColor:"var(--accent-foreground)",imageSettings:{src:"/logo.svg",height:32,width:32,excavate:!0}})})]}),Qa=e=>{switch(e){case"outline":return"bg-white border border-black/35 dark:border-white/35 dark:text-white dark:bg-black";case"danger":return"bg-red-500 text-white dark:bg-red-900 dark:text-white";case"danger-outline":return"bg-white border border-red-500 text-red-500 dark:border-red-400 dark:text-red-400 dark:bg-black";case"highlight":return"bg-blue-400 text-white dark:bg-blue-400 dark:text-black";case"highlight-outline":return"bg-white border border-blue-400 text-blue-400 dark:border-blue-400 dark:text-blue-400 dark:bg-black";case"none":return"hover:bg-stone-200 dark:hover:bg-stone-800";case"secondary":return"bg-black/10 text-black dark:bg-white/10 dark:text-white";default:return"hover:opacity-70 bg-black text-white dark:bg-white dark:text-black"}},Za=e=>{switch(e){case"full":return"rounded-full";case"light":return"rounded-lg";default:return"rounded-none"}},Ke=({isOpen:e,...t})=>(h.useEffect(()=>{const n=r=>{r.code==="Escape"&&t.onClose()};return window.addEventListener("keydown",n),()=>{window.removeEventListener("keydown",n)}},[t.onClose]),o.jsx("div",{className:`fixed top-0 left-0 w-full h-full backdrop-blur-[2px] bg-black/50 z-50 flex justify-center items-center transition-all duration-300 ease-out ${e?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:t.onClose,children:o.jsxs("div",{onClick:n=>n.stopPropagation(),className:`relative min-w-96 bg-white p-4 rounded-lg max-h-[calc(100vh-4rem)] overflow-auto ${Qa(t.variant)} ${Za(t.roundness)} ${t.className}`,children:[o.jsx(F,{onClick:t.onClose,variant:"destructive",size:"icon",className:"absolute top-0 right-0 m-2",children:o.jsx(Ea,{className:"size-5"})}),t.children]})}));function nr({className:e,...t}){return o.jsx("textarea",{"data-slot":"textarea",className:J("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}function T(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function qa(e,t=globalThis==null?void 0:globalThis.document){const n=se(e);h.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Ja="DismissableLayer",cn="dismissableLayer.update",ei="dismissableLayer.pointerDownOutside",ti="dismissableLayer.focusOutside",rr,Zr=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),yn=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:d,onDismiss:u,...i}=e,c=h.useContext(Zr),[l,f]=h.useState(null),m=(l==null?void 0:l.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=h.useState({}),g=X(t,N=>f(N)),x=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=x.indexOf(v),y=l?x.indexOf(l):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,C=y>=w,j=oi(N=>{const k=N.target,D=[...c.branches].some(O=>O.contains(k));!C||D||(s==null||s(N),d==null||d(N),N.defaultPrevented||u==null||u())},m),E=si(N=>{const k=N.target;[...c.branches].some(O=>O.contains(k))||(a==null||a(N),d==null||d(N),N.defaultPrevented||u==null||u())},m);return qa(N=>{y===c.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&u&&(N.preventDefault(),u()))},m),h.useEffect(()=>{if(l)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(rr=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(l)),c.layers.add(l),or(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=rr)}},[l,m,n,c]),h.useEffect(()=>()=>{l&&(c.layers.delete(l),c.layersWithOutsidePointerEventsDisabled.delete(l),or())},[l,c]),h.useEffect(()=>{const N=()=>p({});return document.addEventListener(cn,N),()=>document.removeEventListener(cn,N)},[]),o.jsx(V.div,{...i,ref:g,style:{pointerEvents:b?C?"auto":"none":void 0,...e.style},onFocusCapture:T(e.onFocusCapture,E.onFocusCapture),onBlurCapture:T(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:T(e.onPointerDownCapture,j.onPointerDownCapture)})});yn.displayName=Ja;var ni="DismissableLayerBranch",ri=h.forwardRef((e,t)=>{const n=h.useContext(Zr),r=h.useRef(null),s=X(t,r);return h.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),o.jsx(V.div,{...e,ref:s})});ri.displayName=ni;function oi(e,t=globalThis==null?void 0:globalThis.document){const n=se(e),r=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const a=u=>{if(u.target&&!r.current){let i=function(){qr(ei,n,c,{discrete:!0})};const c={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=i,t.addEventListener("click",s.current,{once:!0})):i()}else t.removeEventListener("click",s.current);r.current=!1},d=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(d),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function si(e,t=globalThis==null?void 0:globalThis.document){const n=se(e),r=h.useRef(!1);return h.useEffect(()=>{const s=a=>{a.target&&!r.current&&qr(ti,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function or(){const e=new CustomEvent(cn);document.dispatchEvent(e)}function qr(e,t,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Sr(s,a):s.dispatchEvent(a)}var ai=Ks.useId||(()=>{}),ii=0;function bt(e){const[t,n]=h.useState(ai());return ge(()=>{n(r=>r??String(ii++))},[e]),t?`radix-${t}`:""}const ci=["top","right","bottom","left"],ye=Math.min,Z=Math.max,Ct=Math.round,ut=Math.floor,de=e=>({x:e,y:e}),li={left:"right",right:"left",bottom:"top",top:"bottom"},ui={start:"end",end:"start"};function ln(e,t,n){return Z(e,ye(t,n))}function xe(e,t){return typeof e=="function"?e(t):e}function ve(e){return e.split("-")[0]}function Ge(e){return e.split("-")[1]}function bn(e){return e==="x"?"y":"x"}function Cn(e){return e==="y"?"height":"width"}function be(e){return["top","bottom"].includes(ve(e))?"y":"x"}function jn(e){return bn(be(e))}function di(e,t,n){n===void 0&&(n=!1);const r=Ge(e),s=jn(e),a=Cn(s);let d=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(d=jt(d)),[d,jt(d)]}function fi(e){const t=jt(e);return[un(e),t,un(t)]}function un(e){return e.replace(/start|end/g,t=>ui[t])}function hi(e,t,n){const r=["left","right"],s=["right","left"],a=["top","bottom"],d=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?a:d;default:return[]}}function mi(e,t,n,r){const s=Ge(e);let a=hi(ve(e),n==="start",r);return s&&(a=a.map(d=>d+"-"+s),t&&(a=a.concat(a.map(un)))),a}function jt(e){return e.replace(/left|right|bottom|top/g,t=>li[t])}function pi(e){return{top:0,right:0,bottom:0,left:0,...e}}function Jr(e){return typeof e!="number"?pi(e):{top:e,right:e,bottom:e,left:e}}function Nt(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function sr(e,t,n){let{reference:r,floating:s}=e;const a=be(t),d=jn(t),u=Cn(d),i=ve(t),c=a==="y",l=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[u]/2-s[u]/2;let p;switch(i){case"top":p={x:l,y:r.y-s.height};break;case"bottom":p={x:l,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-s.width,y:f};break;default:p={x:r.x,y:r.y}}switch(Ge(t)){case"start":p[d]-=m*(n&&c?-1:1);break;case"end":p[d]+=m*(n&&c?-1:1);break}return p}const gi=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:d}=n,u=a.filter(Boolean),i=await(d.isRTL==null?void 0:d.isRTL(t));let c=await d.getElementRects({reference:e,floating:t,strategy:s}),{x:l,y:f}=sr(c,r,i),m=r,p={},g=0;for(let x=0;x<u.length;x++){const{name:v,fn:w}=u[x],{x:y,y:b,data:C,reset:j}=await w({x:l,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:p,rects:c,platform:d,elements:{reference:e,floating:t}});l=y??l,f=b??f,p={...p,[v]:{...p[v],...C}},j&&g<=50&&(g++,typeof j=="object"&&(j.placement&&(m=j.placement),j.rects&&(c=j.rects===!0?await d.getElementRects({reference:e,floating:t,strategy:s}):j.rects),{x:l,y:f}=sr(c,m,i)),x=-1)}return{x:l,y:f,placement:m,strategy:s,middlewareData:p}};async function et(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:a,rects:d,elements:u,strategy:i}=e,{boundary:c="clippingAncestors",rootBoundary:l="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=xe(t,e),g=Jr(p),v=u[m?f==="floating"?"reference":"floating":f],w=Nt(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(v)))==null||n?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:c,rootBoundary:l,strategy:i})),y=f==="floating"?{x:r,y:s,width:d.floating.width,height:d.floating.height}:d.reference,b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),C=await(a.isElement==null?void 0:a.isElement(b))?await(a.getScale==null?void 0:a.getScale(b))||{x:1,y:1}:{x:1,y:1},j=Nt(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:y,offsetParent:b,strategy:i}):y);return{top:(w.top-j.top+g.top)/C.y,bottom:(j.bottom-w.bottom+g.bottom)/C.y,left:(w.left-j.left+g.left)/C.x,right:(j.right-w.right+g.right)/C.x}}const xi=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:a,platform:d,elements:u,middlewareData:i}=t,{element:c,padding:l=0}=xe(e,t)||{};if(c==null)return{};const f=Jr(l),m={x:n,y:r},p=jn(s),g=Cn(p),x=await d.getDimensions(c),v=p==="y",w=v?"top":"left",y=v?"bottom":"right",b=v?"clientHeight":"clientWidth",C=a.reference[g]+a.reference[p]-m[p]-a.floating[g],j=m[p]-a.reference[p],E=await(d.getOffsetParent==null?void 0:d.getOffsetParent(c));let N=E?E[b]:0;(!N||!await(d.isElement==null?void 0:d.isElement(E)))&&(N=u.floating[b]||a.floating[g]);const k=C/2-j/2,D=N/2-x[g]/2-1,O=ye(f[w],D),_=ye(f[y],D),$=O,M=N-x[g]-_,S=N/2-x[g]/2+k,A=ln($,S,M),I=!i.arrow&&Ge(s)!=null&&S!==A&&a.reference[g]/2-(S<$?O:_)-x[g]/2<0,B=I?S<$?S-$:S-M:0;return{[p]:m[p]+B,data:{[p]:A,centerOffset:S-A-B,...I&&{alignmentOffset:B}},reset:I}}}),vi=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:a,rects:d,initialPlacement:u,platform:i,elements:c}=t,{mainAxis:l=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:x=!0,...v}=xe(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const w=ve(s),y=be(u),b=ve(u)===u,C=await(i.isRTL==null?void 0:i.isRTL(c.floating)),j=m||(b||!x?[jt(u)]:fi(u)),E=g!=="none";!m&&E&&j.push(...mi(u,x,g,C));const N=[u,...j],k=await et(t,v),D=[];let O=((r=a.flip)==null?void 0:r.overflows)||[];if(l&&D.push(k[w]),f){const S=di(s,d,C);D.push(k[S[0]],k[S[1]])}if(O=[...O,{placement:s,overflows:D}],!D.every(S=>S<=0)){var _,$;const S=(((_=a.flip)==null?void 0:_.index)||0)+1,A=N[S];if(A)return{data:{index:S,overflows:O},reset:{placement:A}};let I=($=O.filter(B=>B.overflows[0]<=0).sort((B,P)=>B.overflows[1]-P.overflows[1])[0])==null?void 0:$.placement;if(!I)switch(p){case"bestFit":{var M;const B=(M=O.filter(P=>{if(E){const R=be(P.placement);return R===y||R==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(R=>R>0).reduce((R,W)=>R+W,0)]).sort((P,R)=>P[1]-R[1])[0])==null?void 0:M[0];B&&(I=B);break}case"initialPlacement":I=u;break}if(s!==I)return{reset:{placement:I}}}return{}}}};function ar(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ir(e){return ci.some(t=>e[t]>=0)}const wi=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=xe(e,t);switch(r){case"referenceHidden":{const a=await et(t,{...s,elementContext:"reference"}),d=ar(a,n.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:ir(d)}}}case"escaped":{const a=await et(t,{...s,altBoundary:!0}),d=ar(a,n.floating);return{data:{escapedOffsets:d,escaped:ir(d)}}}default:return{}}}}};async function yi(e,t){const{placement:n,platform:r,elements:s}=e,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),d=ve(n),u=Ge(n),i=be(n)==="y",c=["left","top"].includes(d)?-1:1,l=a&&i?-1:1,f=xe(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return u&&typeof g=="number"&&(p=u==="end"?g*-1:g),i?{x:p*l,y:m*c}:{x:m*c,y:p*l}}const bi=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:a,placement:d,middlewareData:u}=t,i=await yi(t,e);return d===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:s+i.x,y:a+i.y,data:{...i,placement:d}}}}},Ci=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:a=!0,crossAxis:d=!1,limiter:u={fn:v=>{let{x:w,y}=v;return{x:w,y}}},...i}=xe(e,t),c={x:n,y:r},l=await et(t,i),f=be(ve(s)),m=bn(f);let p=c[m],g=c[f];if(a){const v=m==="y"?"top":"left",w=m==="y"?"bottom":"right",y=p+l[v],b=p-l[w];p=ln(y,p,b)}if(d){const v=f==="y"?"top":"left",w=f==="y"?"bottom":"right",y=g+l[v],b=g-l[w];g=ln(y,g,b)}const x=u.fn({...t,[m]:p,[f]:g});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[m]:a,[f]:d}}}}}},ji=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:a,middlewareData:d}=t,{offset:u=0,mainAxis:i=!0,crossAxis:c=!0}=xe(e,t),l={x:n,y:r},f=be(s),m=bn(f);let p=l[m],g=l[f];const x=xe(u,t),v=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(i){const b=m==="y"?"height":"width",C=a.reference[m]-a.floating[b]+v.mainAxis,j=a.reference[m]+a.reference[b]-v.mainAxis;p<C?p=C:p>j&&(p=j)}if(c){var w,y;const b=m==="y"?"width":"height",C=["top","left"].includes(ve(s)),j=a.reference[f]-a.floating[b]+(C&&((w=d.offset)==null?void 0:w[f])||0)+(C?0:v.crossAxis),E=a.reference[f]+a.reference[b]+(C?0:((y=d.offset)==null?void 0:y[f])||0)-(C?v.crossAxis:0);g<j?g=j:g>E&&(g=E)}return{[m]:p,[f]:g}}}},Ni=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:a,platform:d,elements:u}=t,{apply:i=()=>{},...c}=xe(e,t),l=await et(t,c),f=ve(s),m=Ge(s),p=be(s)==="y",{width:g,height:x}=a.floating;let v,w;f==="top"||f==="bottom"?(v=f,w=m===(await(d.isRTL==null?void 0:d.isRTL(u.floating))?"start":"end")?"left":"right"):(w=f,v=m==="end"?"top":"bottom");const y=x-l.top-l.bottom,b=g-l.left-l.right,C=ye(x-l[v],y),j=ye(g-l[w],b),E=!t.middlewareData.shift;let N=C,k=j;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(k=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(N=y),E&&!m){const O=Z(l.left,0),_=Z(l.right,0),$=Z(l.top,0),M=Z(l.bottom,0);p?k=g-2*(O!==0||_!==0?O+_:Z(l.left,l.right)):N=x-2*($!==0||M!==0?$+M:Z(l.top,l.bottom))}await i({...t,availableWidth:k,availableHeight:N});const D=await d.getDimensions(u.floating);return g!==D.width||x!==D.height?{reset:{rects:!0}}:{}}}};function Tt(){return typeof window<"u"}function Ye(e){return eo(e)?(e.nodeName||"").toLowerCase():"#document"}function q(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function me(e){var t;return(t=(eo(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function eo(e){return Tt()?e instanceof Node||e instanceof q(e).Node:!1}function ce(e){return Tt()?e instanceof Element||e instanceof q(e).Element:!1}function fe(e){return Tt()?e instanceof HTMLElement||e instanceof q(e).HTMLElement:!1}function cr(e){return!Tt()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof q(e).ShadowRoot}function ot(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=le(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function Ei(e){return["table","td","th"].includes(Ye(e))}function It(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Nn(e){const t=En(),n=ce(e)?le(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Mi(e){let t=Ce(e);for(;fe(t)&&!Ue(t);){if(Nn(t))return t;if(It(t))return null;t=Ce(t)}return null}function En(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ue(e){return["html","body","#document"].includes(Ye(e))}function le(e){return q(e).getComputedStyle(e)}function Lt(e){return ce(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ce(e){if(Ye(e)==="html")return e;const t=e.assignedSlot||e.parentNode||cr(e)&&e.host||me(e);return cr(t)?t.host:t}function to(e){const t=Ce(e);return Ue(t)?e.ownerDocument?e.ownerDocument.body:e.body:fe(t)&&ot(t)?t:to(t)}function tt(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=to(e),a=s===((r=e.ownerDocument)==null?void 0:r.body),d=q(s);if(a){const u=dn(d);return t.concat(d,d.visualViewport||[],ot(s)?s:[],u&&n?tt(u):[])}return t.concat(s,tt(s,[],n))}function dn(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function no(e){const t=le(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=fe(e),a=s?e.offsetWidth:n,d=s?e.offsetHeight:r,u=Ct(n)!==a||Ct(r)!==d;return u&&(n=a,r=d),{width:n,height:r,$:u}}function Mn(e){return ce(e)?e:e.contextElement}function ze(e){const t=Mn(e);if(!fe(t))return de(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:a}=no(t);let d=(a?Ct(n.width):n.width)/r,u=(a?Ct(n.height):n.height)/s;return(!d||!Number.isFinite(d))&&(d=1),(!u||!Number.isFinite(u))&&(u=1),{x:d,y:u}}const Ri=de(0);function ro(e){const t=q(e);return!En()||!t.visualViewport?Ri:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Si(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==q(e)?!1:t}function Se(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=Mn(e);let d=de(1);t&&(r?ce(r)&&(d=ze(r)):d=ze(e));const u=Si(a,n,r)?ro(a):de(0);let i=(s.left+u.x)/d.x,c=(s.top+u.y)/d.y,l=s.width/d.x,f=s.height/d.y;if(a){const m=q(a),p=r&&ce(r)?q(r):r;let g=m,x=dn(g);for(;x&&r&&p!==g;){const v=ze(x),w=x.getBoundingClientRect(),y=le(x),b=w.left+(x.clientLeft+parseFloat(y.paddingLeft))*v.x,C=w.top+(x.clientTop+parseFloat(y.paddingTop))*v.y;i*=v.x,c*=v.y,l*=v.x,f*=v.y,i+=b,c+=C,g=q(x),x=dn(g)}}return Nt({width:l,height:f,x:i,y:c})}function Rn(e,t){const n=Lt(e).scrollLeft;return t?t.left+n:Se(me(e)).left+n}function oo(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:Rn(e,r)),a=r.top+t.scrollTop;return{x:s,y:a}}function ki(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const a=s==="fixed",d=me(r),u=t?It(t.floating):!1;if(r===d||u&&a)return n;let i={scrollLeft:0,scrollTop:0},c=de(1);const l=de(0),f=fe(r);if((f||!f&&!a)&&((Ye(r)!=="body"||ot(d))&&(i=Lt(r)),fe(r))){const p=Se(r);c=ze(r),l.x=p.x+r.clientLeft,l.y=p.y+r.clientTop}const m=d&&!f&&!a?oo(d,i,!0):de(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-i.scrollLeft*c.x+l.x+m.x,y:n.y*c.y-i.scrollTop*c.y+l.y+m.y}}function Ai(e){return Array.from(e.getClientRects())}function Pi(e){const t=me(e),n=Lt(e),r=e.ownerDocument.body,s=Z(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Z(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let d=-n.scrollLeft+Rn(e);const u=-n.scrollTop;return le(r).direction==="rtl"&&(d+=Z(t.clientWidth,r.clientWidth)-s),{width:s,height:a,x:d,y:u}}function Ti(e,t){const n=q(e),r=me(e),s=n.visualViewport;let a=r.clientWidth,d=r.clientHeight,u=0,i=0;if(s){a=s.width,d=s.height;const c=En();(!c||c&&t==="fixed")&&(u=s.offsetLeft,i=s.offsetTop)}return{width:a,height:d,x:u,y:i}}function Ii(e,t){const n=Se(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,a=fe(e)?ze(e):de(1),d=e.clientWidth*a.x,u=e.clientHeight*a.y,i=s*a.x,c=r*a.y;return{width:d,height:u,x:i,y:c}}function lr(e,t,n){let r;if(t==="viewport")r=Ti(e,n);else if(t==="document")r=Pi(me(e));else if(ce(t))r=Ii(t,n);else{const s=ro(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Nt(r)}function so(e,t){const n=Ce(e);return n===t||!ce(n)||Ue(n)?!1:le(n).position==="fixed"||so(n,t)}function Li(e,t){const n=t.get(e);if(n)return n;let r=tt(e,[],!1).filter(u=>ce(u)&&Ye(u)!=="body"),s=null;const a=le(e).position==="fixed";let d=a?Ce(e):e;for(;ce(d)&&!Ue(d);){const u=le(d),i=Nn(d);!i&&u.position==="fixed"&&(s=null),(a?!i&&!s:!i&&u.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||ot(d)&&!i&&so(e,d))?r=r.filter(l=>l!==d):s=u,d=Ce(d)}return t.set(e,r),r}function Oi(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const d=[...n==="clippingAncestors"?It(t)?[]:Li(t,this._c):[].concat(n),r],u=d[0],i=d.reduce((c,l)=>{const f=lr(t,l,s);return c.top=Z(f.top,c.top),c.right=ye(f.right,c.right),c.bottom=ye(f.bottom,c.bottom),c.left=Z(f.left,c.left),c},lr(t,u,s));return{width:i.right-i.left,height:i.bottom-i.top,x:i.left,y:i.top}}function _i(e){const{width:t,height:n}=no(e);return{width:t,height:n}}function Di(e,t,n){const r=fe(t),s=me(t),a=n==="fixed",d=Se(e,!0,a,t);let u={scrollLeft:0,scrollTop:0};const i=de(0);if(r||!r&&!a)if((Ye(t)!=="body"||ot(s))&&(u=Lt(t)),r){const m=Se(t,!0,a,t);i.x=m.x+t.clientLeft,i.y=m.y+t.clientTop}else s&&(i.x=Rn(s));const c=s&&!r&&!a?oo(s,u):de(0),l=d.left+u.scrollLeft-i.x-c.x,f=d.top+u.scrollTop-i.y-c.y;return{x:l,y:f,width:d.width,height:d.height}}function Yt(e){return le(e).position==="static"}function ur(e,t){if(!fe(e)||le(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return me(e)===n&&(n=n.ownerDocument.body),n}function ao(e,t){const n=q(e);if(It(e))return n;if(!fe(e)){let s=Ce(e);for(;s&&!Ue(s);){if(ce(s)&&!Yt(s))return s;s=Ce(s)}return n}let r=ur(e,t);for(;r&&Ei(r)&&Yt(r);)r=ur(r,t);return r&&Ue(r)&&Yt(r)&&!Nn(r)?n:r||Mi(e)||n}const Fi=async function(e){const t=this.getOffsetParent||ao,n=this.getDimensions,r=await n(e.floating);return{reference:Di(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Bi(e){return le(e).direction==="rtl"}const Wi={convertOffsetParentRelativeRectToViewportRelativeRect:ki,getDocumentElement:me,getClippingRect:Oi,getOffsetParent:ao,getElementRects:Fi,getClientRects:Ai,getDimensions:_i,getScale:ze,isElement:ce,isRTL:Bi};function io(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function zi(e,t){let n=null,r;const s=me(e);function a(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function d(u,i){u===void 0&&(u=!1),i===void 0&&(i=1),a();const c=e.getBoundingClientRect(),{left:l,top:f,width:m,height:p}=c;if(u||t(),!m||!p)return;const g=ut(f),x=ut(s.clientWidth-(l+m)),v=ut(s.clientHeight-(f+p)),w=ut(l),b={rootMargin:-g+"px "+-x+"px "+-v+"px "+-w+"px",threshold:Z(0,ye(1,i))||1};let C=!0;function j(E){const N=E[0].intersectionRatio;if(N!==i){if(!C)return d();N?d(!1,N):r=setTimeout(()=>{d(!1,1e-7)},1e3)}N===1&&!io(c,e.getBoundingClientRect())&&d(),C=!1}try{n=new IntersectionObserver(j,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(j,b)}n.observe(e)}return d(!0),a}function $i(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:i=!1}=r,c=Mn(e),l=s||a?[...c?tt(c):[],...tt(t)]:[];l.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),a&&w.addEventListener("resize",n)});const f=c&&u?zi(c,n):null;let m=-1,p=null;d&&(p=new ResizeObserver(w=>{let[y]=w;y&&y.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),n()}),c&&!i&&p.observe(c),p.observe(t));let g,x=i?Se(e):null;i&&v();function v(){const w=Se(e);x&&!io(x,w)&&n(),x=w,g=requestAnimationFrame(v)}return n(),()=>{var w;l.forEach(y=>{s&&y.removeEventListener("scroll",n),a&&y.removeEventListener("resize",n)}),f==null||f(),(w=p)==null||w.disconnect(),p=null,i&&cancelAnimationFrame(g)}}const Ui=bi,Hi=Ci,Vi=vi,Ki=Ni,Gi=wi,dr=xi,Yi=ji,Xi=(e,t,n)=>{const r=new Map,s={platform:Wi,...n},a={...s.platform,_c:r};return gi(e,t,{...s,platform:a})};var gt=typeof document<"u"?h.useLayoutEffect:h.useEffect;function Et(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Et(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(!(a==="_owner"&&e.$$typeof)&&!Et(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function co(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function fr(e,t){const n=co(e);return Math.round(t*n)/n}function Xt(e){const t=h.useRef(e);return gt(()=>{t.current=e}),t}function Qi(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:d}={},transform:u=!0,whileElementsMounted:i,open:c}=e,[l,f]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=h.useState(r);Et(m,r)||p(r);const[g,x]=h.useState(null),[v,w]=h.useState(null),y=h.useCallback(P=>{P!==E.current&&(E.current=P,x(P))},[]),b=h.useCallback(P=>{P!==N.current&&(N.current=P,w(P))},[]),C=a||g,j=d||v,E=h.useRef(null),N=h.useRef(null),k=h.useRef(l),D=i!=null,O=Xt(i),_=Xt(s),$=Xt(c),M=h.useCallback(()=>{if(!E.current||!N.current)return;const P={placement:t,strategy:n,middleware:m};_.current&&(P.platform=_.current),Xi(E.current,N.current,P).then(R=>{const W={...R,isPositioned:$.current!==!1};S.current&&!Et(k.current,W)&&(k.current=W,Gs.flushSync(()=>{f(W)}))})},[m,t,n,_,$]);gt(()=>{c===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(P=>({...P,isPositioned:!1})))},[c]);const S=h.useRef(!1);gt(()=>(S.current=!0,()=>{S.current=!1}),[]),gt(()=>{if(C&&(E.current=C),j&&(N.current=j),C&&j){if(O.current)return O.current(C,j,M);M()}},[C,j,M,O,D]);const A=h.useMemo(()=>({reference:E,floating:N,setReference:y,setFloating:b}),[y,b]),I=h.useMemo(()=>({reference:C,floating:j}),[C,j]),B=h.useMemo(()=>{const P={position:n,left:0,top:0};if(!I.floating)return P;const R=fr(I.floating,l.x),W=fr(I.floating,l.y);return u?{...P,transform:"translate("+R+"px, "+W+"px)",...co(I.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:R,top:W}},[n,u,I.floating,l.x,l.y]);return h.useMemo(()=>({...l,update:M,refs:A,elements:I,floatingStyles:B}),[l,M,A,I,B])}const Zi=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?dr({element:r.current,padding:s}).fn(n):{}:r?dr({element:r,padding:s}).fn(n):{}}}},qi=(e,t)=>({...Ui(e),options:[e,t]}),Ji=(e,t)=>({...Hi(e),options:[e,t]}),ec=(e,t)=>({...Yi(e),options:[e,t]}),tc=(e,t)=>({...Vi(e),options:[e,t]}),nc=(e,t)=>({...Ki(e),options:[e,t]}),rc=(e,t)=>({...Gi(e),options:[e,t]}),oc=(e,t)=>({...Zi(e),options:[e,t]});var sc="Arrow",lo=h.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...a}=e;return o.jsx(V.svg,{...a,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});lo.displayName=sc;var ac=lo;function ic(e){const[t,n]=h.useState(void 0);return ge(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let d,u;if("borderBoxSize"in a){const i=a.borderBoxSize,c=Array.isArray(i)?i[0]:i;d=c.inlineSize,u=c.blockSize}else d=e.offsetWidth,u=e.offsetHeight;n({width:d,height:u})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Sn="Popper",[uo,Ot]=ke(Sn),[cc,fo]=uo(Sn),ho=e=>{const{__scopePopper:t,children:n}=e,[r,s]=h.useState(null);return o.jsx(cc,{scope:t,anchor:r,onAnchorChange:s,children:n})};ho.displayName=Sn;var mo="PopperAnchor",po=h.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,a=fo(mo,n),d=h.useRef(null),u=X(t,d);return h.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||d.current)}),r?null:o.jsx(V.div,{...s,ref:u})});po.displayName=mo;var kn="PopperContent",[lc,uc]=uo(kn),go=h.forwardRef((e,t)=>{var pe,Qe,te,Ze,Kn,Gn;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:d=0,arrowPadding:u=0,avoidCollisions:i=!0,collisionBoundary:c=[],collisionPadding:l=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:g,...x}=e,v=fo(kn,n),[w,y]=h.useState(null),b=X(t,qe=>y(qe)),[C,j]=h.useState(null),E=ic(C),N=(E==null?void 0:E.width)??0,k=(E==null?void 0:E.height)??0,D=r+(a!=="center"?"-"+a:""),O=typeof l=="number"?l:{top:0,right:0,bottom:0,left:0,...l},_=Array.isArray(c)?c:[c],$=_.length>0,M={padding:O,boundary:_.filter(fc),altBoundary:$},{refs:S,floatingStyles:A,placement:I,isPositioned:B,middlewareData:P}=Qi({strategy:"fixed",placement:D,whileElementsMounted:(...qe)=>$i(...qe,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[qi({mainAxis:s+k,alignmentAxis:d}),i&&Ji({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?ec():void 0,...M}),i&&tc({...M}),nc({...M,apply:({elements:qe,rects:Yn,availableWidth:_s,availableHeight:Ds})=>{const{width:Fs,height:Bs}=Yn.reference,lt=qe.floating.style;lt.setProperty("--radix-popper-available-width",`${_s}px`),lt.setProperty("--radix-popper-available-height",`${Ds}px`),lt.setProperty("--radix-popper-anchor-width",`${Fs}px`),lt.setProperty("--radix-popper-anchor-height",`${Bs}px`)}}),C&&oc({element:C,padding:u}),hc({arrowWidth:N,arrowHeight:k}),m&&rc({strategy:"referenceHidden",...M})]}),[R,W]=wo(I),G=se(g);ge(()=>{B&&(G==null||G())},[B,G]);const ee=(pe=P.arrow)==null?void 0:pe.x,Ne=(Qe=P.arrow)==null?void 0:Qe.y,Ee=((te=P.arrow)==null?void 0:te.centerOffset)!==0,[ct,Me]=h.useState();return ge(()=>{w&&Me(window.getComputedStyle(w).zIndex)},[w]),o.jsx("div",{ref:S.setFloating,"data-radix-popper-content-wrapper":"",style:{...A,transform:B?A.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ct,"--radix-popper-transform-origin":[(Ze=P.transformOrigin)==null?void 0:Ze.x,(Kn=P.transformOrigin)==null?void 0:Kn.y].join(" "),...((Gn=P.hide)==null?void 0:Gn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(lc,{scope:n,placedSide:R,onArrowChange:j,arrowX:ee,arrowY:Ne,shouldHideArrow:Ee,children:o.jsx(V.div,{"data-side":R,"data-align":W,...x,ref:b,style:{...x.style,animation:B?void 0:"none"}})})})});go.displayName=kn;var xo="PopperArrow",dc={top:"bottom",right:"left",bottom:"top",left:"right"},vo=h.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,a=uc(xo,r),d=dc[a.placedSide];return o.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[d]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:o.jsx(ac,{...s,ref:n,style:{...s.style,display:"block"}})})});vo.displayName=xo;function fc(e){return e!==null}var hc=e=>({name:"transformOrigin",options:e,fn(t){var v,w,y;const{placement:n,rects:r,middlewareData:s}=t,d=((v=s.arrow)==null?void 0:v.centerOffset)!==0,u=d?0:e.arrowWidth,i=d?0:e.arrowHeight,[c,l]=wo(n),f={start:"0%",center:"50%",end:"100%"}[l],m=(((w=s.arrow)==null?void 0:w.x)??0)+u/2,p=(((y=s.arrow)==null?void 0:y.y)??0)+i/2;let g="",x="";return c==="bottom"?(g=d?f:`${m}px`,x=`${-i}px`):c==="top"?(g=d?f:`${m}px`,x=`${r.floating.height+i}px`):c==="right"?(g=`${-i}px`,x=d?f:`${p}px`):c==="left"&&(g=`${r.floating.width+i}px`,x=d?f:`${p}px`),{data:{x:g,y:x}}}});function wo(e){const[t,n="center"]=e.split("-");return[t,n]}var yo=ho,bo=po,Co=go,jo=vo,mc="Portal",An=h.forwardRef((e,t)=>{var u;const{container:n,...r}=e,[s,a]=h.useState(!1);ge(()=>a(!0),[]);const d=n||s&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return d?Ys.createPortal(o.jsx(V.div,{...r,ref:t}),d):null});An.displayName=mc;function pc(e,t){return h.useReducer((n,r)=>t[n][r]??n,e)}var Le=e=>{const{present:t,children:n}=e,r=gc(t),s=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),a=X(r.ref,xc(s));return typeof n=="function"||r.isPresent?h.cloneElement(s,{ref:a}):null};Le.displayName="Presence";function gc(e){const[t,n]=h.useState(),r=h.useRef({}),s=h.useRef(e),a=h.useRef("none"),d=e?"mounted":"unmounted",[u,i]=pc(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const c=dt(r.current);a.current=u==="mounted"?c:"none"},[u]),ge(()=>{const c=r.current,l=s.current;if(l!==e){const m=a.current,p=dt(c);e?i("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?i("UNMOUNT"):i(l&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,i]),ge(()=>{if(t){let c;const l=t.ownerDocument.defaultView??window,f=p=>{const x=dt(r.current).includes(p.animationName);if(p.target===t&&x&&(i("ANIMATION_END"),!s.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",c=l.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},m=p=>{p.target===t&&(a.current=dt(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{l.clearTimeout(c),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else i("ANIMATION_END")},[t,i]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:h.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function dt(e){return(e==null?void 0:e.animationName)||"none"}function xc(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Pn({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=vc({defaultProp:t,onChange:n}),a=e!==void 0,d=a?e:r,u=se(n),i=h.useCallback(c=>{if(a){const f=typeof c=="function"?c(e):c;f!==e&&u(f)}else s(c)},[a,e,s,u]);return[d,i]}function vc({defaultProp:e,onChange:t}){const n=h.useState(e),[r]=n,s=h.useRef(r),a=se(t);return h.useEffect(()=>{s.current!==r&&(a(r),s.current=r)},[r,s,a]),n}var wc="VisuallyHidden",No=h.forwardRef((e,t)=>o.jsx(V.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));No.displayName=wc;var yc=No,[_t,Xd]=ke("Tooltip",[Ot]),Dt=Ot(),Eo="TooltipProvider",bc=700,fn="tooltip.open",[Cc,Tn]=_t(Eo),Mo=e=>{const{__scopeTooltip:t,delayDuration:n=bc,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:a}=e,[d,u]=h.useState(!0),i=h.useRef(!1),c=h.useRef(0);return h.useEffect(()=>{const l=c.current;return()=>window.clearTimeout(l)},[]),o.jsx(Cc,{scope:t,isOpenDelayed:d,delayDuration:n,onOpen:h.useCallback(()=>{window.clearTimeout(c.current),u(!1)},[]),onClose:h.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>u(!0),r)},[r]),isPointerInTransitRef:i,onPointerInTransitChange:h.useCallback(l=>{i.current=l},[]),disableHoverableContent:s,children:a})};Mo.displayName=Eo;var Ft="Tooltip",[jc,st]=_t(Ft),Ro=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s=!1,onOpenChange:a,disableHoverableContent:d,delayDuration:u}=e,i=Tn(Ft,e.__scopeTooltip),c=Dt(t),[l,f]=h.useState(null),m=bt(),p=h.useRef(0),g=d??i.disableHoverableContent,x=u??i.delayDuration,v=h.useRef(!1),[w=!1,y]=Pn({prop:r,defaultProp:s,onChange:N=>{N?(i.onOpen(),document.dispatchEvent(new CustomEvent(fn))):i.onClose(),a==null||a(N)}}),b=h.useMemo(()=>w?v.current?"delayed-open":"instant-open":"closed",[w]),C=h.useCallback(()=>{window.clearTimeout(p.current),p.current=0,v.current=!1,y(!0)},[y]),j=h.useCallback(()=>{window.clearTimeout(p.current),p.current=0,y(!1)},[y]),E=h.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{v.current=!0,y(!0),p.current=0},x)},[x,y]);return h.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),o.jsx(yo,{...c,children:o.jsx(jc,{scope:t,contentId:m,open:w,stateAttribute:b,trigger:l,onTriggerChange:f,onTriggerEnter:h.useCallback(()=>{i.isOpenDelayed?E():C()},[i.isOpenDelayed,E,C]),onTriggerLeave:h.useCallback(()=>{g?j():(window.clearTimeout(p.current),p.current=0)},[j,g]),onOpen:C,onClose:j,disableHoverableContent:g,children:n})})};Ro.displayName=Ft;var hn="TooltipTrigger",So=h.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=st(hn,n),a=Tn(hn,n),d=Dt(n),u=h.useRef(null),i=X(t,u,s.onTriggerChange),c=h.useRef(!1),l=h.useRef(!1),f=h.useCallback(()=>c.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx(bo,{asChild:!0,...d,children:o.jsx(V.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:i,onPointerMove:T(e.onPointerMove,m=>{m.pointerType!=="touch"&&!l.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),l.current=!0)}),onPointerLeave:T(e.onPointerLeave,()=>{s.onTriggerLeave(),l.current=!1}),onPointerDown:T(e.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:T(e.onFocus,()=>{c.current||s.onOpen()}),onBlur:T(e.onBlur,s.onClose),onClick:T(e.onClick,s.onClose)})})});So.displayName=hn;var In="TooltipPortal",[Nc,Ec]=_t(In,{forceMount:void 0}),ko=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:s}=e,a=st(In,t);return o.jsx(Nc,{scope:t,forceMount:n,children:o.jsx(Le,{present:n||a.open,children:o.jsx(An,{asChild:!0,container:s,children:r})})})};ko.displayName=In;var He="TooltipContent",Ao=h.forwardRef((e,t)=>{const n=Ec(He,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...a}=e,d=st(He,e.__scopeTooltip);return o.jsx(Le,{present:r||d.open,children:d.disableHoverableContent?o.jsx(Po,{side:s,...a,ref:t}):o.jsx(Mc,{side:s,...a,ref:t})})}),Mc=h.forwardRef((e,t)=>{const n=st(He,e.__scopeTooltip),r=Tn(He,e.__scopeTooltip),s=h.useRef(null),a=X(t,s),[d,u]=h.useState(null),{trigger:i,onClose:c}=n,l=s.current,{onPointerInTransitChange:f}=r,m=h.useCallback(()=>{u(null),f(!1)},[f]),p=h.useCallback((g,x)=>{const v=g.currentTarget,w={x:g.clientX,y:g.clientY},y=kc(w,v.getBoundingClientRect()),b=Ac(w,y),C=Pc(x.getBoundingClientRect()),j=Ic([...b,...C]);u(j),f(!0)},[f]);return h.useEffect(()=>()=>m(),[m]),h.useEffect(()=>{if(i&&l){const g=v=>p(v,l),x=v=>p(v,i);return i.addEventListener("pointerleave",g),l.addEventListener("pointerleave",x),()=>{i.removeEventListener("pointerleave",g),l.removeEventListener("pointerleave",x)}}},[i,l,p,m]),h.useEffect(()=>{if(d){const g=x=>{const v=x.target,w={x:x.clientX,y:x.clientY},y=(i==null?void 0:i.contains(v))||(l==null?void 0:l.contains(v)),b=!Tc(w,d);y?m():b&&(m(),c())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[i,l,d,c,m]),o.jsx(Po,{...e,ref:a})}),[Rc,Sc]=_t(Ft,{isInside:!1}),Po=h.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:d,...u}=e,i=st(He,n),c=Dt(n),{onClose:l}=i;return h.useEffect(()=>(document.addEventListener(fn,l),()=>document.removeEventListener(fn,l)),[l]),h.useEffect(()=>{if(i.trigger){const f=m=>{const p=m.target;p!=null&&p.contains(i.trigger)&&l()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[i.trigger,l]),o.jsx(yn,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:d,onFocusOutside:f=>f.preventDefault(),onDismiss:l,children:o.jsxs(Co,{"data-state":i.stateAttribute,...c,...u,ref:t,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(ma,{children:r}),o.jsx(Rc,{scope:n,isInside:!0,children:o.jsx(yc,{id:i.contentId,role:"tooltip",children:s||r})})]})})});Ao.displayName=He;var To="TooltipArrow",Io=h.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Dt(n);return Sc(To,n).isInside?null:o.jsx(jo,{...s,...r,ref:t})});Io.displayName=To;function kc(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,s,a)){case a:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Ac(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function Pc(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function Tc(e,t){const{x:n,y:r}=e;let s=!1;for(let a=0,d=t.length-1;a<t.length;d=a++){const u=t[a].x,i=t[a].y,c=t[d].x,l=t[d].y;i>r!=l>r&&n<(c-u)*(r-i)/(l-i)+u&&(s=!s)}return s}function Ic(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Lc(t)}function Lc(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const a=t[t.length-1],d=t[t.length-2];if((a.x-d.x)*(s.y-d.y)>=(a.y-d.y)*(s.x-d.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const a=n[n.length-1],d=n[n.length-2];if((a.x-d.x)*(s.y-d.y)>=(a.y-d.y)*(s.x-d.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Oc=Mo,_c=Ro,Dc=So,Fc=ko,Bc=Ao,Wc=Io;function zc({delayDuration:e=0,...t}){return o.jsx(Oc,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function $c({...e}){return o.jsx(zc,{children:o.jsx(_c,{"data-slot":"tooltip",...e})})}function Uc({...e}){return o.jsx(Dc,{"data-slot":"tooltip-trigger",...e})}function Hc({className:e,sideOffset:t=0,children:n,...r}){return o.jsx(Fc,{children:o.jsxs(Bc,{"data-slot":"tooltip-content",sideOffset:t,className:J("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...r,children:[n,o.jsx(Wc,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const Vc={NoCurrentWorkspace:"Bruh! Where is your workspace?"};/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Lo=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Gc={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:d,...u},i)=>h.createElement("svg",{ref:i,...Gc,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Lo("lucide",s),...u},[...d.map(([c,l])=>h.createElement(c,l)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=(e,t)=>{const n=h.forwardRef(({className:r,...s},a)=>h.createElement(Yc,{ref:a,iconNode:t,className:Lo(`lucide-${Kc(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Zc=Xc("Info",Qc);function qc(e){return H({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"},child:[]}]})(e)}function Jc(e){return H({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M18 8H20C20.5523 8 21 8.44772 21 9V21C21 21.5523 20.5523 22 20 22H4C3.44772 22 3 21.5523 3 21V9C3 8.44772 3.44772 8 4 8H6V7C6 3.68629 8.68629 1 12 1C15.3137 1 18 3.68629 18 7V8ZM5 10V20H19V10H5ZM11 14H13V16H11V14ZM7 14H9V16H7V14ZM15 14H17V16H15V14ZM16 8V7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7V8H16Z"},child:[]}]})(e)}function el(e){return H({attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5.5V7.484C12 7.61661 11.9473 7.74379 11.8535 7.83755C11.7598 7.93132 11.6326 7.984 11.5 7.984H4.618L6.251 6.351L5.544 5.644L3.423 7.765L3 8.188V8.756L5.544 11.3L6.251 10.593L4.641 8.984H11.5C11.8978 8.984 12.2793 8.82597 12.5607 8.54466C12.842 8.26336 13 7.88182 13 7.484V5.5H12Z"},child:[]}]})(e)}const tl=[{label:"Expiration Time",icon:o.jsx(Dr,{className:"size-4"}),key:"expirationTime",show:!1},{label:"Password",icon:o.jsx(Jc,{className:"size-4"}),key:"password",show:!1}],hr=({isOpen:e,onClose:t,editMode:n=!1,formDataForEdit:r})=>{const[s,a]=h.useState(tl),[d,u]=h.useState(!1),[i,c]=h.useState(!1),[l,f]=h.useState(!1),m=he(),p=K(M=>M.workspace),{register:g,handleSubmit:x,setValue:v,formState:{errors:w},reset:y,getValues:b,watch:C}=St(),[j,E]=h.useState(b("tags")||[]),N=M=>{a(S=>S.map(I=>I.key===M.key?{...I,show:!I.show}:I))},k=x(M=>{var A;const S=(A=p==null?void 0:p.currentWorkspace)==null?void 0:A._id;return S?(u(!0),Promise.resolve().then(async()=>{n?await m(Qs({...M,tags:j,workspaceId:S,linkId:r==null?void 0:r._id})):await m(Zs({...M,tags:j,workspaceId:S}))}).then(()=>{u(!1),y(),t()})):Xs.error(Vc.NoCurrentWorkspace)}),D=()=>{n&&y(),t()},O=async()=>{c(!0);const M=await m(Xn({size:10}));Xn.fulfilled.match(M)&&v("shortUrlKey",M.payload.data),c(!1)},_=async M=>{f(!0);const S=await m(Qn(M));Qn.fulfilled.match(S)&&v("metadata",S.payload.data),f(!1)},$=async M=>{var A;const S=await m(Zn({workspaceId:((A=p.currentWorkspace)==null?void 0:A._id)||"",q:M}));return Zn.fulfilled.match(S)?S.payload.data:[]};return h.useEffect(()=>{n||O()},[]),h.useEffect(()=>{const M=C("destinationUrl");if(!M)return;const S=setTimeout(()=>{_(M)},1e3);return()=>clearTimeout(S)},[C("destinationUrl")]),h.useEffect(()=>{n&&r&&(v("destinationUrl",r.destinationUrl),v("shortUrlKey",r.shortUrlKey),v("comment",r.comment),v("tags",r.tags),v("expirationTime",r.expirationTime),v("metadata",r.metadata),E(r.tags||[]),r.expirationTime&&a(M=>M.map(A=>A.key==="expirationTime"?{...A,show:!0}:A)),r.password&&(v("password",r.password),a(M=>M.map(A=>A.key==="password"?{...A,show:!0}:A))))},[n,r]),o.jsx(o.Fragment,{children:o.jsxs(Ke,{variant:"outline",roundness:"light",isOpen:e,onClose:D,className:"w-[calc(100%-40px)] max-w-4xl space-y-8 overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"size-[32px] border border-ring/70 rounded-full p-1",children:C("metadata.favicon")?o.jsx("img",{src:C("metadata.favicon"),alt:C("metadata.title"),className:"w-full h-full object-cover",onError:M=>{M.currentTarget.src=`${C("destinationUrl")}/${C("metadata.favicon")}`}}):o.jsx(Ra,{className:"size-full"})}),o.jsx(je,{className:"text-xl",children:n?"Edit Link":"New Link"})]}),o.jsxs("form",{onSubmit:k,className:"flex flex-col gap-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[2fr_1fr] gap-8",children:[o.jsxs("section",{className:"flex flex-col gap-4",children:[o.jsxs("div",{className:"flex flex-col gap-2 relative pb-4",children:[o.jsx(Y,{htmlFor:"link-destinationUrl",children:"*Destination URL"}),o.jsx(ne,{id:"link-destinationUrl",type:"text",placeholder:"Ex. https://example.com",className:"w-full",...g("destinationUrl",{required:"Destination URL is required"})}),w.destinationUrl&&o.jsx("span",{className:"text-red-500 text-sm absolute bottom-0",children:w.destinationUrl.message})]}),o.jsxs("div",{className:"flex flex-col gap-2 relative pb-4",children:[o.jsx(Y,{htmlFor:"link-shortUrlKey",children:"*Short Link"}),o.jsxs("div",{className:"flex gap-1 items-center w-full",children:[o.jsx("span",{className:"text-muted-foreground",children:""}),o.jsx(ne,{disabled:n,id:"link-shortUrlKey",type:"text",placeholder:"Short Link",className:"w-full",maxLength:10,...g("shortUrlKey",{required:"Short URL is required"})}),o.jsx(F,{disabled:n||i,type:"button",variant:"outline",size:"icon",title:"Generate Short Link",onClick:()=>O(),children:i?o.jsx(oe,{className:"size-4"}):o.jsx(Rr,{className:"size-5"})})]}),w.shortUrlKey&&o.jsx("span",{className:"text-red-500 text-sm absolute bottom-0",children:w.shortUrlKey.message})]}),o.jsxs("div",{className:"flex flex-col gap-2 relative pb-4",children:[o.jsx(Y,{htmlFor:"link-tags",children:"Tags"}),o.jsx(Ba,{inputProps:{id:"link-tags",type:"text",placeholder:"Ex. marketing, sales, etc.",className:"w-full"},arrayValues:j,setArrayValues:E,getSuggestions:$}),w.tags&&o.jsx("span",{className:"text-red-500 text-sm absolute bottom-0",children:w.tags.message})]}),o.jsxs("div",{className:"flex flex-col gap-2 relative pb-4",children:[o.jsx(Y,{htmlFor:"link-comment",children:"Comment"}),o.jsx(nr,{id:"link-comment",placeholder:"Comment",className:"w-full h-24",style:{resize:"none"},...g("comment",{maxLength:{value:250,message:"Comment must not exceed 250 characters"}})}),w.comment&&o.jsx("span",{className:"text-red-500 text-sm absolute bottom-0",children:w.comment.message})]}),s.find(M=>M.key==="expirationTime"&&M.show)&&o.jsxs("div",{className:"flex flex-col gap-2 relative pb-4",children:[o.jsx(Y,{children:o.jsx("span",{children:"Expiration Time"})}),o.jsxs("div",{className:"flex gap-1 items-center w-full",children:[o.jsx(ne,{type:"text",value:C("expirationTime")?new Date(C("expirationTime")||"").toLocaleString():"",placeholder:"Ex. 4/15/2025, 5:19:00 PM",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary/50"}),o.jsx(F,{type:"button",variant:"outline",size:"icon",children:o.jsxs(Y,{htmlFor:"link-expiration-time",children:[o.jsx(Dr,{className:"size-5"}),o.jsx("input",{id:"link-expiration-time",type:"datetime-local",className:"absolute opacity-0",onFocus:M=>{M.target.showPicker()},...g("expirationTime",{required:"Expiration Time is required"})})]})})]}),w.expirationTime&&o.jsx("span",{className:"text-red-500 text-sm absolute bottom-0",children:w.expirationTime.message})]}),s.find(M=>M.key==="password"&&M.show)&&o.jsxs("div",{className:"flex flex-col gap-2 relative pb-4",children:[o.jsx(wn,{text:"*not super secure [as of now]"}),o.jsxs(Y,{htmlFor:"link-password",children:[o.jsx("span",{children:"Password"}),o.jsxs($c,{children:[o.jsx(Uc,{type:"button",className:"w-fit",children:o.jsx(Zc,{className:"w-4 h-4"})}),o.jsx(Hc,{children:o.jsxs("p",{className:"text-center",children:["Not super secure [as of now] why? you ask. ",o.jsx("br",{}),"there is no hashing, it's just like an access key"]})})]})]}),o.jsx(ne,{id:"link-password",type:"password",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary/50",...g("password",{required:"Password is required"})}),w.password&&o.jsx("span",{className:"text-red-500 text-sm absolute bottom-0",children:w.password.message})]})]}),o.jsxs("section",{className:"flex flex-col gap-2 relative",children:[o.jsx("div",{children:o.jsx(Xa,{url:"https://example.com"})}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx(Y,{children:"Share"}),o.jsxs("div",{className:"flex gap-2 justify-around",children:[o.jsx(Ma,{className:"size-8 border border-input p-2 rounded-md"}),o.jsx(qc,{className:"size-8 border border-input p-2 rounded-md"})]})]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx(Y,{children:"Link Preview"}),o.jsx("div",{className:"border border-ring/50 rounded-md",children:o.jsx("img",{src:C("metadata.previewImg"),className:"w-full h-40 object-cover",alt:""})}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx(ne,{style:{fontSize:"12px",fontWeight:"bold"},className:"p-0 h-5 border-0 rounded-none focus-visible:ring-0 focus-visible:border-0",placeholder:"Add a title",...g("metadata.title")}),o.jsx(nr,{style:{fontSize:"12px"},className:"p-0 text-xs h-5 border-0 rounded-none focus-visible:ring-0 focus-visible:border-0",placeholder:"Add a description",...g("metadata.description")})]})]})]})]}),o.jsxs("div",{className:"flex gap-4 relative pb-4 justify-between",children:[o.jsx("div",{className:"flex gap-4",children:s.map(M=>o.jsx("div",{className:"flex gap-1 items-center",children:o.jsxs(F,{type:"button",variant:M.show?"default":"outline",className:"flex items-center gap-2",onClick:S=>{S.preventDefault(),N(M)},children:[M.icon,o.jsx("span",{children:M.label})]})},M.key))}),o.jsxs(F,{disabled:d,className:"flex items-center gap-2",type:"submit",children:[o.jsx("span",{children:n?"Update Link":"Create Link"}),d?o.jsx(oe,{className:"size-5"}):o.jsx(el,{className:"size-5"})]})]})]})]})})},nl=({link:e,isOpen:t,onClose:n})=>{const r="Delete Link",s=K(u=>u.workspace),a=he(),d=()=>{e&&a(qs(e._id)).then(()=>n())};return o.jsx(o.Fragment,{children:o.jsxs(Ke,{variant:"outline",roundness:"light",isOpen:t,onClose:n,children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Ve,{className:"size-6"}),o.jsx(je,{className:"text-xl",children:r})]}),o.jsxs("div",{className:"flex flex-col items-center gap-4",children:[o.jsx("pre",{className:"text-sm text-center text-muted-foreground",children:`Are you sure you want to delete this link and all the data associated with it?
This action cannot be undone.`}),o.jsxs(F,{className:"flex gap-2 items-center w-fit",variant:"destructive",onClick:d,children:[s.deleteLoading&&o.jsx(oe,{className:"size-5"}),o.jsx("span",{children:r})]})]})]})})},rl=({linkId:e,isOpen:t,onClose:n,onOpenDelete:r,onOpenEdit:s})=>{var l,f,m,p,g;const a="Link Details",u=K(x=>x.links).links.find(x=>x._id===e);if(!u)return o.jsx("div",{children:"Link not found"});const i=[{label:"Short Link",type:"link",value:"/"+u.shortUrlKey},{label:"Destination URL",type:"link",value:u.destinationUrl},{label:"Tags",type:"array",value:u.tags},{label:"Status",type:"text",value:u.status==="active"?o.jsxs("span",{className:"inline-block bg-green-500 text-foreground rounded-full px-3 py-1 text-xs font-semibold",children:[" ","Active"]}):o.jsx("span",{className:"inline-block bg-red-500 text-foreground rounded-full px-3 py-1 text-xs font-semibold",children:u.status.charAt(0).toUpperCase()+u.status.slice(1)})},{label:"Comment",type:"text",value:u.comment},{label:"Expiration Time",type:"text",value:u.expirationTime},{label:"Password protected",value:u==null?void 0:u.password}],c=[{label:"Profile Picture",type:"link",value:(l=u==null?void 0:u.creator)==null?void 0:l.profilePicture},{label:"Name",type:"text",value:(f=u==null?void 0:u.creator)==null?void 0:f.name},{label:"Email",type:"text",value:(m=u==null?void 0:u.creator)==null?void 0:m.email},{label:"Last Login",type:"text",value:((p=u==null?void 0:u.creator)==null?void 0:p.lastLogin)&&new Date((g=u==null?void 0:u.creator)==null?void 0:g.lastLogin).toISOString()}];return o.jsx(o.Fragment,{children:o.jsxs(Ke,{variant:"outline",roundness:"light",isOpen:t,onClose:n,children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Ve,{className:"size-6"}),o.jsx(je,{className:"text-xl",children:a})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 w-full h-fit min-w-80 max-w-3xl",children:[o.jsxs(Ut,{className:"h-fit",children:[o.jsx(Ht,{children:o.jsx(Vt,{className:"text-xl",children:"Link"})}),o.jsx(Kt,{className:"flex flex-col gap-3",children:i.map((x,v)=>{var w;return o.jsxs("div",{className:"flex flex-col justify-center gap-1",children:[o.jsx(Y,{className:"text-sm text-muted-foreground",children:x.label}),x.type==="link"&&typeof x.value=="string"?o.jsx("a",{href:x.value,target:"_blank",className:"text-blue-400",children:x.value}):x.type==="array"&&Array.isArray(x.value)?o.jsx("p",{className:"flex flex-wrap gap-1",children:(w=x==null?void 0:x.value)==null?void 0:w.map(y=>o.jsx("span",{className:"inline-block bg-muted-foreground/20 text-foreground rounded-full px-3 py-1 text-xs font-semibold",children:y},y))}):o.jsx("p",{children:typeof x.value=="string"&&x.value?x.value:new String(x.value)})]},v)})}),o.jsxs(fa,{className:"grid grid-cols-2 gap-2",children:[o.jsxs(F,{onClick:()=>s(u),variant:"secondary",className:"flex gap-2 items-center justify-center w-full hover:bg-foreground/10 dark:hover:bg-foreground/10",children:[o.jsx(At,{}),o.jsx("span",{children:"Edit"})]}),o.jsxs(F,{className:"flex gap-2 items-center justify-center w-full hover:bg-red-200 dark:hover:bg-red-950",variant:"secondary",onClick:()=>r(u),children:[o.jsx(Pt,{className:"text-red-500"}),o.jsx("span",{children:"Delete"})]})]})]}),o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsxs(Ut,{className:"min-w-80 h-fit",children:[o.jsx(Ht,{children:o.jsx(Vt,{className:"text-xl",children:"Creator"})}),o.jsx(Kt,{children:c.map((x,v)=>o.jsxs("div",{className:"flex flex-col justify-center gap-1",children:[o.jsx(Y,{className:"text-sm text-muted-foreground",children:x.label}),x.type==="link"&&typeof x.value=="string"?o.jsx("a",{href:x.value,target:"_blank",className:"text-blue-400",children:x.value}):o.jsx("p",{children:x.value||"-"})]},v))})]}),o.jsxs(Ut,{className:"min-w-80 h-full",children:[o.jsx(Ht,{children:o.jsx(Vt,{className:"text-xl",children:"Events"})}),o.jsx(Kt,{children:o.jsx("p",{children:"later..."})})]})]})]})]})})};function Ln({className:e,...t}){return o.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto pb-4",children:o.jsx("table",{"data-slot":"table",className:J("w-full caption-bottom text-sm",e),...t})})}function On({className:e,...t}){return o.jsx("thead",{"data-slot":"table-header",className:J("[&_tr]:border-b",e),...t})}function _n({className:e,...t}){return o.jsx("tbody",{"data-slot":"table-body",className:J("[&_tr:last-child]:border-0",e),...t})}function Xe({className:e,...t}){return o.jsx("tr",{"data-slot":"table-row",className:J("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function ae({className:e,...t}){return o.jsx("th",{"data-slot":"table-head",className:J("text-muted-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function ie({className:e,...t}){return o.jsx("td",{"data-slot":"table-cell",className:J("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function Oo(e){const t=e+"CollectionProvider",[n,r]=ke(t),[s,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),d=p=>{const{scope:g,children:x}=p,v=z.useRef(null),w=z.useRef(new Map).current;return o.jsx(s,{scope:g,itemMap:w,collectionRef:v,children:x})};d.displayName=t;const u=e+"CollectionSlot",i=z.forwardRef((p,g)=>{const{scope:x,children:v}=p,w=a(u,x),y=X(g,w.collectionRef);return o.jsx(on,{ref:y,children:v})});i.displayName=u;const c=e+"CollectionItemSlot",l="data-radix-collection-item",f=z.forwardRef((p,g)=>{const{scope:x,children:v,...w}=p,y=z.useRef(null),b=X(g,y),C=a(c,x);return z.useEffect(()=>(C.itemMap.set(y,{ref:y,...w}),()=>void C.itemMap.delete(y))),o.jsx(on,{[l]:"",ref:b,children:v})});f.displayName=c;function m(p){const g=a(e+"CollectionConsumer",p);return z.useCallback(()=>{const v=g.collectionRef.current;if(!v)return[];const w=Array.from(v.querySelectorAll(`[${l}]`));return Array.from(g.itemMap.values()).sort((C,j)=>w.indexOf(C.ref.current)-w.indexOf(j.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:d,Slot:i,ItemSlot:f},m,r]}var ol=h.createContext(void 0);function _o(e){const t=h.useContext(ol);return e||t||"ltr"}var Qt=0;function sl(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??mr()),document.body.insertAdjacentElement("beforeend",e[1]??mr()),Qt++,()=>{Qt===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Qt--}},[])}function mr(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Zt="focusScope.autoFocusOnMount",qt="focusScope.autoFocusOnUnmount",pr={bubbles:!1,cancelable:!0},al="FocusScope",Do=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...d}=e,[u,i]=h.useState(null),c=se(s),l=se(a),f=h.useRef(null),m=X(t,x=>i(x)),p=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let x=function(b){if(p.paused||!u)return;const C=b.target;u.contains(C)?f.current=C:we(f.current,{select:!0})},v=function(b){if(p.paused||!u)return;const C=b.relatedTarget;C!==null&&(u.contains(C)||we(f.current,{select:!0}))},w=function(b){if(document.activeElement===document.body)for(const j of b)j.removedNodes.length>0&&we(u)};document.addEventListener("focusin",x),document.addEventListener("focusout",v);const y=new MutationObserver(w);return u&&y.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",v),y.disconnect()}}},[r,u,p.paused]),h.useEffect(()=>{if(u){xr.add(p);const x=document.activeElement;if(!u.contains(x)){const w=new CustomEvent(Zt,pr);u.addEventListener(Zt,c),u.dispatchEvent(w),w.defaultPrevented||(il(fl(Fo(u)),{select:!0}),document.activeElement===x&&we(u))}return()=>{u.removeEventListener(Zt,c),setTimeout(()=>{const w=new CustomEvent(qt,pr);u.addEventListener(qt,l),u.dispatchEvent(w),w.defaultPrevented||we(x??document.body,{select:!0}),u.removeEventListener(qt,l),xr.remove(p)},0)}}},[u,c,l,p]);const g=h.useCallback(x=>{if(!n&&!r||p.paused)return;const v=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,w=document.activeElement;if(v&&w){const y=x.currentTarget,[b,C]=cl(y);b&&C?!x.shiftKey&&w===C?(x.preventDefault(),n&&we(b,{select:!0})):x.shiftKey&&w===b&&(x.preventDefault(),n&&we(C,{select:!0})):w===y&&x.preventDefault()}},[n,r,p.paused]);return o.jsx(V.div,{tabIndex:-1,...d,ref:m,onKeyDown:g})});Do.displayName=al;function il(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(we(r,{select:t}),document.activeElement!==n)return}function cl(e){const t=Fo(e),n=gr(t,e),r=gr(t.reverse(),e);return[n,r]}function Fo(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function gr(e,t){for(const n of e)if(!ll(n,{upTo:t}))return n}function ll(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ul(e){return e instanceof HTMLInputElement&&"select"in e}function we(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&ul(e)&&t&&e.select()}}var xr=dl();function dl(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=vr(e,t),e.unshift(t)},remove(t){var n;e=vr(e,t),(n=e[0])==null||n.resume()}}}function vr(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function fl(e){return e.filter(t=>t.tagName!=="A")}var Jt="rovingFocusGroup.onEntryFocus",hl={bubbles:!1,cancelable:!0},Bt="RovingFocusGroup",[mn,Bo,ml]=Oo(Bt),[pl,Wo]=ke(Bt,[ml]),[gl,xl]=pl(Bt),zo=h.forwardRef((e,t)=>o.jsx(mn.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(mn.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(vl,{...e,ref:t})})}));zo.displayName=Bt;var vl=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:a,currentTabStopId:d,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:i,onEntryFocus:c,preventScrollOnEntryFocus:l=!1,...f}=e,m=h.useRef(null),p=X(t,m),g=_o(a),[x=null,v]=Pn({prop:d,defaultProp:u,onChange:i}),[w,y]=h.useState(!1),b=se(c),C=Bo(n),j=h.useRef(!1),[E,N]=h.useState(0);return h.useEffect(()=>{const k=m.current;if(k)return k.addEventListener(Jt,b),()=>k.removeEventListener(Jt,b)},[b]),o.jsx(gl,{scope:n,orientation:r,dir:g,loop:s,currentTabStopId:x,onItemFocus:h.useCallback(k=>v(k),[v]),onItemShiftTab:h.useCallback(()=>y(!0),[]),onFocusableItemAdd:h.useCallback(()=>N(k=>k+1),[]),onFocusableItemRemove:h.useCallback(()=>N(k=>k-1),[]),children:o.jsx(V.div,{tabIndex:w||E===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:T(e.onMouseDown,()=>{j.current=!0}),onFocus:T(e.onFocus,k=>{const D=!j.current;if(k.target===k.currentTarget&&D&&!w){const O=new CustomEvent(Jt,hl);if(k.currentTarget.dispatchEvent(O),!O.defaultPrevented){const _=C().filter(I=>I.focusable),$=_.find(I=>I.active),M=_.find(I=>I.id===x),A=[$,M,..._].filter(Boolean).map(I=>I.ref.current);Ho(A,l)}}j.current=!1}),onBlur:T(e.onBlur,()=>y(!1))})})}),$o="RovingFocusGroupItem",Uo=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:a,...d}=e,u=bt(),i=a||u,c=xl($o,n),l=c.currentTabStopId===i,f=Bo(n),{onFocusableItemAdd:m,onFocusableItemRemove:p}=c;return h.useEffect(()=>{if(r)return m(),()=>p()},[r,m,p]),o.jsx(mn.ItemSlot,{scope:n,id:i,focusable:r,active:s,children:o.jsx(V.span,{tabIndex:l?0:-1,"data-orientation":c.orientation,...d,ref:t,onMouseDown:T(e.onMouseDown,g=>{r?c.onItemFocus(i):g.preventDefault()}),onFocus:T(e.onFocus,()=>c.onItemFocus(i)),onKeyDown:T(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){c.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const x=bl(g,c.orientation,c.dir);if(x!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let w=f().filter(y=>y.focusable).map(y=>y.ref.current);if(x==="last")w.reverse();else if(x==="prev"||x==="next"){x==="prev"&&w.reverse();const y=w.indexOf(g.currentTarget);w=c.loop?Cl(w,y+1):w.slice(y+1)}setTimeout(()=>Ho(w))}})})})});Uo.displayName=$o;var wl={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function yl(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function bl(e,t,n){const r=yl(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return wl[r]}function Ho(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function Cl(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var jl=zo,Nl=Uo,El=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},De=new WeakMap,ft=new WeakMap,ht={},en=0,Vo=function(e){return e&&(e.host||Vo(e.parentNode))},Ml=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Vo(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Rl=function(e,t,n,r){var s=Ml(t,Array.isArray(e)?e:[e]);ht[n]||(ht[n]=new WeakMap);var a=ht[n],d=[],u=new Set,i=new Set(s),c=function(f){!f||u.has(f)||(u.add(f),c(f.parentNode))};s.forEach(c);var l=function(f){!f||i.has(f)||Array.prototype.forEach.call(f.children,function(m){if(u.has(m))l(m);else try{var p=m.getAttribute(r),g=p!==null&&p!=="false",x=(De.get(m)||0)+1,v=(a.get(m)||0)+1;De.set(m,x),a.set(m,v),d.push(m),x===1&&g&&ft.set(m,!0),v===1&&m.setAttribute(n,"true"),g||m.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",m,w)}})};return l(t),u.clear(),en++,function(){d.forEach(function(f){var m=De.get(f)-1,p=a.get(f)-1;De.set(f,m),a.set(f,p),m||(ft.has(f)||f.removeAttribute(r),ft.delete(f)),p||f.removeAttribute(n)}),en--,en||(De=new WeakMap,De=new WeakMap,ft=new WeakMap,ht={})}},Sl=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=El(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),Rl(r,s,n,"aria-hidden")):function(){return null}},ue=function(){return ue=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},ue.apply(this,arguments)};function Ko(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function kl(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var xt="right-scroll-bar-position",vt="width-before-scroll-bar",Al="with-scroll-bars-hidden",Pl="--removed-body-scroll-bar-size";function tn(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Tl(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var Il=typeof window<"u"?h.useLayoutEffect:h.useEffect,wr=new WeakMap;function Ll(e,t){var n=Tl(null,function(r){return e.forEach(function(s){return tn(s,r)})});return Il(function(){var r=wr.get(n);if(r){var s=new Set(r),a=new Set(e),d=n.current;s.forEach(function(u){a.has(u)||tn(u,null)}),a.forEach(function(u){s.has(u)||tn(u,d)})}wr.set(n,e)},[e]),n}function Ol(e){return e}function _l(e,t){t===void 0&&(t=Ol);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var d=t(a,r);return n.push(d),function(){n=n.filter(function(u){return u!==d})}},assignSyncMedium:function(a){for(r=!0;n.length;){var d=n;n=[],d.forEach(a)}n={push:function(u){return a(u)},filter:function(){return n}}},assignMedium:function(a){r=!0;var d=[];if(n.length){var u=n;n=[],u.forEach(a),d=n}var i=function(){var l=d;d=[],l.forEach(a)},c=function(){return Promise.resolve().then(i)};c(),n={push:function(l){d.push(l),c()},filter:function(l){return d=d.filter(l),n}}}};return s}function Dl(e){e===void 0&&(e={});var t=_l(null);return t.options=ue({async:!0,ssr:!1},e),t}var Go=function(e){var t=e.sideCar,n=Ko(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return h.createElement(r,ue({},n))};Go.isSideCarExport=!0;function Fl(e,t){return e.useMedium(t),Go}var Yo=Dl(),nn=function(){},Wt=h.forwardRef(function(e,t){var n=h.useRef(null),r=h.useState({onScrollCapture:nn,onWheelCapture:nn,onTouchMoveCapture:nn}),s=r[0],a=r[1],d=e.forwardProps,u=e.children,i=e.className,c=e.removeScrollBar,l=e.enabled,f=e.shards,m=e.sideCar,p=e.noIsolation,g=e.inert,x=e.allowPinchZoom,v=e.as,w=v===void 0?"div":v,y=e.gapMode,b=Ko(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=m,j=Ll([n,t]),E=ue(ue({},b),s);return h.createElement(h.Fragment,null,l&&h.createElement(C,{sideCar:Yo,removeScrollBar:c,shards:f,noIsolation:p,inert:g,setCallbacks:a,allowPinchZoom:!!x,lockRef:n,gapMode:y}),d?h.cloneElement(h.Children.only(u),ue(ue({},E),{ref:j})):h.createElement(w,ue({},E,{className:i,ref:j}),u))});Wt.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Wt.classNames={fullWidth:vt,zeroRight:xt};var Bl=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Wl(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Bl();return t&&e.setAttribute("nonce",t),e}function zl(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function $l(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Ul=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Wl())&&(zl(t,n),$l(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Hl=function(){var e=Ul();return function(t,n){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Xo=function(){var e=Hl(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},Vl={left:0,top:0,right:0,gap:0},rn=function(e){return parseInt(e||"",10)||0},Kl=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[rn(n),rn(r),rn(s)]},Gl=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Vl;var t=Kl(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Yl=Xo(),$e="data-scroll-locked",Xl=function(e,t,n,r){var s=e.left,a=e.top,d=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Al,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat($e,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(xt,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(vt,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(xt," .").concat(xt,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(vt," .").concat(vt,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat($e,`] {
    `).concat(Pl,": ").concat(u,`px;
  }
`)},yr=function(){var e=parseInt(document.body.getAttribute($e)||"0",10);return isFinite(e)?e:0},Ql=function(){h.useEffect(function(){return document.body.setAttribute($e,(yr()+1).toString()),function(){var e=yr()-1;e<=0?document.body.removeAttribute($e):document.body.setAttribute($e,e.toString())}},[])},Zl=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;Ql();var a=h.useMemo(function(){return Gl(s)},[s]);return h.createElement(Yl,{styles:Xl(a,!t,s,n?"":"!important")})},pn=!1;if(typeof window<"u")try{var mt=Object.defineProperty({},"passive",{get:function(){return pn=!0,!0}});window.addEventListener("test",mt,mt),window.removeEventListener("test",mt,mt)}catch{pn=!1}var Fe=pn?{passive:!1}:!1,ql=function(e){return e.tagName==="TEXTAREA"},Qo=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!ql(e)&&n[t]==="visible")},Jl=function(e){return Qo(e,"overflowY")},eu=function(e){return Qo(e,"overflowX")},br=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Zo(e,r);if(s){var a=qo(e,r),d=a[1],u=a[2];if(d>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},tu=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},nu=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Zo=function(e,t){return e==="v"?Jl(t):eu(t)},qo=function(e,t){return e==="v"?tu(t):nu(t)},ru=function(e,t){return e==="h"&&t==="rtl"?-1:1},ou=function(e,t,n,r,s){var a=ru(e,window.getComputedStyle(t).direction),d=a*r,u=n.target,i=t.contains(u),c=!1,l=d>0,f=0,m=0;do{var p=qo(e,u),g=p[0],x=p[1],v=p[2],w=x-v-a*g;(g||w)&&Zo(e,u)&&(f+=w,m+=g),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!i&&u!==document.body||i&&(t.contains(u)||t===u));return(l&&Math.abs(f)<1||!l&&Math.abs(m)<1)&&(c=!0),c},pt=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Cr=function(e){return[e.deltaX,e.deltaY]},jr=function(e){return e&&"current"in e?e.current:e},su=function(e,t){return e[0]===t[0]&&e[1]===t[1]},au=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},iu=0,Be=[];function cu(e){var t=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),s=h.useState(iu++)[0],a=h.useState(Xo)[0],d=h.useRef(e);h.useEffect(function(){d.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var x=kl([e.lockRef.current],(e.shards||[]).map(jr),!0).filter(Boolean);return x.forEach(function(v){return v.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var u=h.useCallback(function(x,v){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!d.current.allowPinchZoom;var w=pt(x),y=n.current,b="deltaX"in x?x.deltaX:y[0]-w[0],C="deltaY"in x?x.deltaY:y[1]-w[1],j,E=x.target,N=Math.abs(b)>Math.abs(C)?"h":"v";if("touches"in x&&N==="h"&&E.type==="range")return!1;var k=br(N,E);if(!k)return!0;if(k?j=N:(j=N==="v"?"h":"v",k=br(N,E)),!k)return!1;if(!r.current&&"changedTouches"in x&&(b||C)&&(r.current=j),!j)return!0;var D=r.current||j;return ou(D,v,x,D==="h"?b:C)},[]),i=h.useCallback(function(x){var v=x;if(!(!Be.length||Be[Be.length-1]!==a)){var w="deltaY"in v?Cr(v):pt(v),y=t.current.filter(function(j){return j.name===v.type&&(j.target===v.target||v.target===j.shadowParent)&&su(j.delta,w)})[0];if(y&&y.should){v.cancelable&&v.preventDefault();return}if(!y){var b=(d.current.shards||[]).map(jr).filter(Boolean).filter(function(j){return j.contains(v.target)}),C=b.length>0?u(v,b[0]):!d.current.noIsolation;C&&v.cancelable&&v.preventDefault()}}},[]),c=h.useCallback(function(x,v,w,y){var b={name:x,delta:v,target:w,should:y,shadowParent:lu(w)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(C){return C!==b})},1)},[]),l=h.useCallback(function(x){n.current=pt(x),r.current=void 0},[]),f=h.useCallback(function(x){c(x.type,Cr(x),x.target,u(x,e.lockRef.current))},[]),m=h.useCallback(function(x){c(x.type,pt(x),x.target,u(x,e.lockRef.current))},[]);h.useEffect(function(){return Be.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",i,Fe),document.addEventListener("touchmove",i,Fe),document.addEventListener("touchstart",l,Fe),function(){Be=Be.filter(function(x){return x!==a}),document.removeEventListener("wheel",i,Fe),document.removeEventListener("touchmove",i,Fe),document.removeEventListener("touchstart",l,Fe)}},[]);var p=e.removeScrollBar,g=e.inert;return h.createElement(h.Fragment,null,g?h.createElement(a,{styles:au(s)}):null,p?h.createElement(Zl,{gapMode:e.gapMode}):null)}function lu(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const uu=Fl(Yo,cu);var Jo=h.forwardRef(function(e,t){return h.createElement(Wt,ue({},e,{ref:t,sideCar:uu}))});Jo.classNames=Wt.classNames;var gn=["Enter"," "],du=["ArrowDown","PageUp","Home"],es=["ArrowUp","PageDown","End"],fu=[...du,...es],hu={ltr:[...gn,"ArrowRight"],rtl:[...gn,"ArrowLeft"]},mu={ltr:["ArrowLeft"],rtl:["ArrowRight"]},at="Menu",[nt,pu,gu]=Oo(at),[Oe,ts]=ke(at,[gu,Ot,Wo]),zt=Ot(),ns=Wo(),[xu,_e]=Oe(at),[vu,it]=Oe(at),rs=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:a,modal:d=!0}=e,u=zt(t),[i,c]=h.useState(null),l=h.useRef(!1),f=se(a),m=_o(s);return h.useEffect(()=>{const p=()=>{l.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>l.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),o.jsx(yo,{...u,children:o.jsx(xu,{scope:t,open:n,onOpenChange:f,content:i,onContentChange:c,children:o.jsx(vu,{scope:t,onClose:h.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:l,dir:m,modal:d,children:r})})})};rs.displayName=at;var wu="MenuAnchor",Dn=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=zt(n);return o.jsx(bo,{...s,...r,ref:t})});Dn.displayName=wu;var Fn="MenuPortal",[yu,os]=Oe(Fn,{forceMount:void 0}),ss=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,a=_e(Fn,t);return o.jsx(yu,{scope:t,forceMount:n,children:o.jsx(Le,{present:n||a.open,children:o.jsx(An,{asChild:!0,container:s,children:r})})})};ss.displayName=Fn;var re="MenuContent",[bu,Bn]=Oe(re),as=h.forwardRef((e,t)=>{const n=os(re,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,a=_e(re,e.__scopeMenu),d=it(re,e.__scopeMenu);return o.jsx(nt.Provider,{scope:e.__scopeMenu,children:o.jsx(Le,{present:r||a.open,children:o.jsx(nt.Slot,{scope:e.__scopeMenu,children:d.modal?o.jsx(Cu,{...s,ref:t}):o.jsx(ju,{...s,ref:t})})})})}),Cu=h.forwardRef((e,t)=>{const n=_e(re,e.__scopeMenu),r=h.useRef(null),s=X(t,r);return h.useEffect(()=>{const a=r.current;if(a)return Sl(a)},[]),o.jsx(Wn,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:T(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),ju=h.forwardRef((e,t)=>{const n=_e(re,e.__scopeMenu);return o.jsx(Wn,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Wn=h.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:d,disableOutsidePointerEvents:u,onEntryFocus:i,onEscapeKeyDown:c,onPointerDownOutside:l,onFocusOutside:f,onInteractOutside:m,onDismiss:p,disableOutsideScroll:g,...x}=e,v=_e(re,n),w=it(re,n),y=zt(n),b=ns(n),C=pu(n),[j,E]=h.useState(null),N=h.useRef(null),k=X(t,N,v.onContentChange),D=h.useRef(0),O=h.useRef(""),_=h.useRef(0),$=h.useRef(null),M=h.useRef("right"),S=h.useRef(0),A=g?Jo:h.Fragment,I=g?{as:on,allowPinchZoom:!0}:void 0,B=R=>{var pe,Qe;const W=O.current+R,G=C().filter(te=>!te.disabled),ee=document.activeElement,Ne=(pe=G.find(te=>te.ref.current===ee))==null?void 0:pe.textValue,Ee=G.map(te=>te.textValue),ct=Ou(Ee,W,Ne),Me=(Qe=G.find(te=>te.textValue===ct))==null?void 0:Qe.ref.current;(function te(Ze){O.current=Ze,window.clearTimeout(D.current),Ze!==""&&(D.current=window.setTimeout(()=>te(""),1e3))})(W),Me&&setTimeout(()=>Me.focus())};h.useEffect(()=>()=>window.clearTimeout(D.current),[]),sl();const P=h.useCallback(R=>{var G,ee;return M.current===((G=$.current)==null?void 0:G.side)&&Du(R,(ee=$.current)==null?void 0:ee.area)},[]);return o.jsx(bu,{scope:n,searchRef:O,onItemEnter:h.useCallback(R=>{P(R)&&R.preventDefault()},[P]),onItemLeave:h.useCallback(R=>{var W;P(R)||((W=N.current)==null||W.focus(),E(null))},[P]),onTriggerLeave:h.useCallback(R=>{P(R)&&R.preventDefault()},[P]),pointerGraceTimerRef:_,onPointerGraceIntentChange:h.useCallback(R=>{$.current=R},[]),children:o.jsx(A,{...I,children:o.jsx(Do,{asChild:!0,trapped:s,onMountAutoFocus:T(a,R=>{var W;R.preventDefault(),(W=N.current)==null||W.focus({preventScroll:!0})}),onUnmountAutoFocus:d,children:o.jsx(yn,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:c,onPointerDownOutside:l,onFocusOutside:f,onInteractOutside:m,onDismiss:p,children:o.jsx(jl,{asChild:!0,...b,dir:w.dir,orientation:"vertical",loop:r,currentTabStopId:j,onCurrentTabStopIdChange:E,onEntryFocus:T(i,R=>{w.isUsingKeyboardRef.current||R.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(Co,{role:"menu","aria-orientation":"vertical","data-state":Cs(v.open),"data-radix-menu-content":"",dir:w.dir,...y,...x,ref:k,style:{outline:"none",...x.style},onKeyDown:T(x.onKeyDown,R=>{const G=R.target.closest("[data-radix-menu-content]")===R.currentTarget,ee=R.ctrlKey||R.altKey||R.metaKey,Ne=R.key.length===1;G&&(R.key==="Tab"&&R.preventDefault(),!ee&&Ne&&B(R.key));const Ee=N.current;if(R.target!==Ee||!fu.includes(R.key))return;R.preventDefault();const Me=C().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);es.includes(R.key)&&Me.reverse(),Iu(Me)}),onBlur:T(e.onBlur,R=>{R.currentTarget.contains(R.target)||(window.clearTimeout(D.current),O.current="")}),onPointerMove:T(e.onPointerMove,rt(R=>{const W=R.target,G=S.current!==R.clientX;if(R.currentTarget.contains(W)&&G){const ee=R.clientX>S.current?"right":"left";M.current=ee,S.current=R.clientX}}))})})})})})})});as.displayName=re;var Nu="MenuGroup",zn=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(V.div,{role:"group",...r,ref:t})});zn.displayName=Nu;var Eu="MenuLabel",is=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(V.div,{...r,ref:t})});is.displayName=Eu;var Mt="MenuItem",Nr="menu.itemSelect",$t=h.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,a=h.useRef(null),d=it(Mt,e.__scopeMenu),u=Bn(Mt,e.__scopeMenu),i=X(t,a),c=h.useRef(!1),l=()=>{const f=a.current;if(!n&&f){const m=new CustomEvent(Nr,{bubbles:!0,cancelable:!0});f.addEventListener(Nr,p=>r==null?void 0:r(p),{once:!0}),Sr(f,m),m.defaultPrevented?c.current=!1:d.onClose()}};return o.jsx(cs,{...s,ref:i,disabled:n,onClick:T(e.onClick,l),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),c.current=!0},onPointerUp:T(e.onPointerUp,f=>{var m;c.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:T(e.onKeyDown,f=>{const m=u.searchRef.current!=="";n||m&&f.key===" "||gn.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});$t.displayName=Mt;var cs=h.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...a}=e,d=Bn(Mt,n),u=ns(n),i=h.useRef(null),c=X(t,i),[l,f]=h.useState(!1),[m,p]=h.useState("");return h.useEffect(()=>{const g=i.current;g&&p((g.textContent??"").trim())},[a.children]),o.jsx(nt.ItemSlot,{scope:n,disabled:r,textValue:s??m,children:o.jsx(Nl,{asChild:!0,...u,focusable:!r,children:o.jsx(V.div,{role:"menuitem","data-highlighted":l?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:c,onPointerMove:T(e.onPointerMove,rt(g=>{r?d.onItemLeave(g):(d.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:T(e.onPointerLeave,rt(g=>d.onItemLeave(g))),onFocus:T(e.onFocus,()=>f(!0)),onBlur:T(e.onBlur,()=>f(!1))})})})}),Mu="MenuCheckboxItem",ls=h.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return o.jsx(ms,{scope:e.__scopeMenu,checked:n,children:o.jsx($t,{role:"menuitemcheckbox","aria-checked":Rt(n)?"mixed":n,...s,ref:t,"data-state":Un(n),onSelect:T(s.onSelect,()=>r==null?void 0:r(Rt(n)?!0:!n),{checkForDefaultPrevented:!1})})})});ls.displayName=Mu;var us="MenuRadioGroup",[Ru,Su]=Oe(us,{value:void 0,onValueChange:()=>{}}),ds=h.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,a=se(r);return o.jsx(Ru,{scope:e.__scopeMenu,value:n,onValueChange:a,children:o.jsx(zn,{...s,ref:t})})});ds.displayName=us;var fs="MenuRadioItem",hs=h.forwardRef((e,t)=>{const{value:n,...r}=e,s=Su(fs,e.__scopeMenu),a=n===s.value;return o.jsx(ms,{scope:e.__scopeMenu,checked:a,children:o.jsx($t,{role:"menuitemradio","aria-checked":a,...r,ref:t,"data-state":Un(a),onSelect:T(r.onSelect,()=>{var d;return(d=s.onValueChange)==null?void 0:d.call(s,n)},{checkForDefaultPrevented:!1})})})});hs.displayName=fs;var $n="MenuItemIndicator",[ms,ku]=Oe($n,{checked:!1}),ps=h.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,a=ku($n,n);return o.jsx(Le,{present:r||Rt(a.checked)||a.checked===!0,children:o.jsx(V.span,{...s,ref:t,"data-state":Un(a.checked)})})});ps.displayName=$n;var Au="MenuSeparator",gs=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(V.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});gs.displayName=Au;var Pu="MenuArrow",xs=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=zt(n);return o.jsx(jo,{...s,...r,ref:t})});xs.displayName=Pu;var Tu="MenuSub",[Qd,vs]=Oe(Tu),Je="MenuSubTrigger",ws=h.forwardRef((e,t)=>{const n=_e(Je,e.__scopeMenu),r=it(Je,e.__scopeMenu),s=vs(Je,e.__scopeMenu),a=Bn(Je,e.__scopeMenu),d=h.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:i}=a,c={__scopeMenu:e.__scopeMenu},l=h.useCallback(()=>{d.current&&window.clearTimeout(d.current),d.current=null},[]);return h.useEffect(()=>l,[l]),h.useEffect(()=>{const f=u.current;return()=>{window.clearTimeout(f),i(null)}},[u,i]),o.jsx(Dn,{asChild:!0,...c,children:o.jsx(cs,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":Cs(n.open),...e,ref:kr(t,s.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:T(e.onPointerMove,rt(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!d.current&&(a.onPointerGraceIntentChange(null),d.current=window.setTimeout(()=>{n.onOpenChange(!0),l()},100))})),onPointerLeave:T(e.onPointerLeave,rt(f=>{var p,g;l();const m=(p=n.content)==null?void 0:p.getBoundingClientRect();if(m){const x=(g=n.content)==null?void 0:g.dataset.side,v=x==="right",w=v?-5:5,y=m[v?"left":"right"],b=m[v?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+w,y:f.clientY},{x:y,y:m.top},{x:b,y:m.top},{x:b,y:m.bottom},{x:y,y:m.bottom}],side:x}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:T(e.onKeyDown,f=>{var p;const m=a.searchRef.current!=="";e.disabled||m&&f.key===" "||hu[r.dir].includes(f.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),f.preventDefault())})})})});ws.displayName=Je;var ys="MenuSubContent",bs=h.forwardRef((e,t)=>{const n=os(re,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,a=_e(re,e.__scopeMenu),d=it(re,e.__scopeMenu),u=vs(ys,e.__scopeMenu),i=h.useRef(null),c=X(t,i);return o.jsx(nt.Provider,{scope:e.__scopeMenu,children:o.jsx(Le,{present:r||a.open,children:o.jsx(nt.Slot,{scope:e.__scopeMenu,children:o.jsx(Wn,{id:u.contentId,"aria-labelledby":u.triggerId,...s,ref:c,align:"start",side:d.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:l=>{var f;d.isUsingKeyboardRef.current&&((f=i.current)==null||f.focus()),l.preventDefault()},onCloseAutoFocus:l=>l.preventDefault(),onFocusOutside:T(e.onFocusOutside,l=>{l.target!==u.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:T(e.onEscapeKeyDown,l=>{d.onClose(),l.preventDefault()}),onKeyDown:T(e.onKeyDown,l=>{var p;const f=l.currentTarget.contains(l.target),m=mu[d.dir].includes(l.key);f&&m&&(a.onOpenChange(!1),(p=u.trigger)==null||p.focus(),l.preventDefault())})})})})})});bs.displayName=ys;function Cs(e){return e?"open":"closed"}function Rt(e){return e==="indeterminate"}function Un(e){return Rt(e)?"indeterminate":e?"checked":"unchecked"}function Iu(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Lu(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function Ou(e,t,n){const s=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let d=Lu(e,Math.max(a,0));s.length===1&&(d=d.filter(c=>c!==n));const i=d.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return i!==n?i:void 0}function _u(e,t){const{x:n,y:r}=e;let s=!1;for(let a=0,d=t.length-1;a<t.length;d=a++){const u=t[a].x,i=t[a].y,c=t[d].x,l=t[d].y;i>r!=l>r&&n<(c-u)*(r-i)/(l-i)+u&&(s=!s)}return s}function Du(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return _u(n,t)}function rt(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Fu=rs,Bu=Dn,Wu=ss,zu=as,$u=zn,Uu=is,Hu=$t,Vu=ls,Ku=ds,Gu=hs,Yu=ps,Xu=gs,Qu=xs,Zu=ws,qu=bs,Hn="DropdownMenu",[Ju,Zd]=ke(Hn,[ts]),Q=ts(),[ed,js]=Ju(Hn),Ns=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:a,onOpenChange:d,modal:u=!0}=e,i=Q(t),c=h.useRef(null),[l=!1,f]=Pn({prop:s,defaultProp:a,onChange:d});return o.jsx(ed,{scope:t,triggerId:bt(),triggerRef:c,contentId:bt(),open:l,onOpenChange:f,onOpenToggle:h.useCallback(()=>f(m=>!m),[f]),modal:u,children:o.jsx(Fu,{...i,open:l,onOpenChange:f,dir:r,modal:u,children:n})})};Ns.displayName=Hn;var Es="DropdownMenuTrigger",Ms=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,a=js(Es,n),d=Q(n);return o.jsx(Bu,{asChild:!0,...d,children:o.jsx(V.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:kr(t,a.triggerRef),onPointerDown:T(e.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(a.onOpenToggle(),a.open||u.preventDefault())}),onKeyDown:T(e.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&a.onOpenToggle(),u.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});Ms.displayName=Es;var td="DropdownMenuPortal",Rs=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Q(t);return o.jsx(Wu,{...r,...n})};Rs.displayName=td;var Ss="DropdownMenuContent",ks=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=js(Ss,n),a=Q(n),d=h.useRef(!1);return o.jsx(zu,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...r,ref:t,onCloseAutoFocus:T(e.onCloseAutoFocus,u=>{var i;d.current||(i=s.triggerRef.current)==null||i.focus(),d.current=!1,u.preventDefault()}),onInteractOutside:T(e.onInteractOutside,u=>{const i=u.detail.originalEvent,c=i.button===0&&i.ctrlKey===!0,l=i.button===2||c;(!s.modal||l)&&(d.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ks.displayName=Ss;var nd="DropdownMenuGroup",rd=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Q(n);return o.jsx($u,{...s,...r,ref:t})});rd.displayName=nd;var od="DropdownMenuLabel",sd=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Q(n);return o.jsx(Uu,{...s,...r,ref:t})});sd.displayName=od;var ad="DropdownMenuItem",As=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Q(n);return o.jsx(Hu,{...s,...r,ref:t})});As.displayName=ad;var id="DropdownMenuCheckboxItem",cd=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Q(n);return o.jsx(Vu,{...s,...r,ref:t})});cd.displayName=id;var ld="DropdownMenuRadioGroup",ud=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Q(n);return o.jsx(Ku,{...s,...r,ref:t})});ud.displayName=ld;var dd="DropdownMenuRadioItem",fd=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Q(n);return o.jsx(Gu,{...s,...r,ref:t})});fd.displayName=dd;var hd="DropdownMenuItemIndicator",md=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Q(n);return o.jsx(Yu,{...s,...r,ref:t})});md.displayName=hd;var pd="DropdownMenuSeparator",gd=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Q(n);return o.jsx(Xu,{...s,...r,ref:t})});gd.displayName=pd;var xd="DropdownMenuArrow",vd=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Q(n);return o.jsx(Qu,{...s,...r,ref:t})});vd.displayName=xd;var wd="DropdownMenuSubTrigger",yd=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Q(n);return o.jsx(Zu,{...s,...r,ref:t})});yd.displayName=wd;var bd="DropdownMenuSubContent",Cd=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Q(n);return o.jsx(qu,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Cd.displayName=bd;var jd=Ns,Nd=Ms,Ed=Rs,Md=ks,Rd=As;function Ps({...e}){return o.jsx(jd,{"data-slot":"dropdown-menu",...e})}function Ts({...e}){return o.jsx(Nd,{"data-slot":"dropdown-menu-trigger",...e})}function Is({className:e,sideOffset:t=4,...n}){return o.jsx(Ed,{children:o.jsx(Md,{"data-slot":"dropdown-menu-content",sideOffset:t,className:J("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...n})})}function wt({className:e,inset:t,variant:n="default",...r}){return o.jsx(Rd,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:J("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}function Ls(e){return H({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M388.8 896.4v-27.198c.6-2.2 1.6-4.2 2-6.4 8.8-57.2 56.4-102.4 112.199-106.2 62.4-4.4 115.2 31.199 132.4 89.199 2.2 7.6 3.8 15.6 5.8 23.4v27.2c-.6 1.8-1.6 3.399-1.8 5.399-8.6 52.8-46.6 93-98.6 104.4-4 .8-8 2-12 3h-27.2c-1.8-.6-3.6-1.6-5.4-1.8-52-8.4-91.599-45.4-103.6-96.8-1.2-5-2.6-9.6-3.8-14.2zm252.4-768.797l-.001 27.202c-.6 2.2-1.6 4.2-1.8 6.4-9 57.6-56.8 102.6-113.2 106.2-62.2 4-114.8-32-131.8-90.2-2.2-7.401-3.8-15-5.6-22.401v-27.2c.6-1.8 1.6-3.4 2-5.2 9.6-52 39.8-86 90.2-102.2 6.6-2.2 13.6-3.4 20.4-5.2h27.2c1.8.6 3.6 1.6 5.4 1.8 52.2 8.6 91.6 45.4 103.6 96.8 1.201 4.8 2.401 9.4 3.601 13.999zm-.001 370.801v27.2c-.6 2.2-1.6 4.2-2 6.4-9 57.4-58.6 103.6-114.6 106-63 2.8-116.4-35.2-131.4-93.8-1.6-6.2-3-12.4-4.4-18.6v-27.2c.6-2.2 1.6-4.2 2-6.4 8.8-57.4 58.6-103.601 114.6-106.2 63-3 116.4 35.2 131.4 93.8 1.6 6.4 3 12.6 4.4 18.8z"},child:[]}]})(e)}const Sd=({link:e,options:t})=>{var n,r,s,a,d,u,i,c,l;return o.jsxs(Xe,{children:[o.jsx(ie,{children:o.jsxs("a",{href:`${e.shortUrl}`,target:"_blank",className:"text-blue-400",children:["/",e.shortUrlKey]})}),o.jsx(ie,{title:(n=e==null?void 0:e.creator)==null?void 0:n.name,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Ae,{children:[o.jsx(Pe,{src:(r=e==null?void 0:e.creator)==null?void 0:r.profilePicture,alt:(s=e==null?void 0:e.creator)==null?void 0:s.name}),o.jsx(Te,{children:(d=(a=e==null?void 0:e.creator)==null?void 0:a.name)==null?void 0:d.charAt(0)})]}),o.jsx("span",{children:(u=e==null?void 0:e.creator)==null?void 0:u.email})]})}),o.jsx(ie,{children:o.jsxs("div",{className:"flex flex-wrap gap-2 min-w-52",children:[(i=e==null?void 0:e.tags)==null?void 0:i.slice(0,3).map(f=>o.jsx("span",{className:"inline-block bg-muted-foreground/20 text-foreground rounded-full px-3 py-1 text-xs font-semibold",children:f},f)),(c=e==null?void 0:e.tags)!=null&&c.length&&((l=e==null?void 0:e.tags)==null?void 0:l.length)>3?o.jsx("span",{children:"..."}):"-"]})}),o.jsx(ie,{children:o.jsx("span",{className:`${(e==null?void 0:e.status)==="active"?"bg-green-500":"bg-red-500"} rounded-full px-3 py-1 text-xs font-semibold mr-2 text-white`,children:(e==null?void 0:e.status.charAt(0).toUpperCase())+(e==null?void 0:e.status.slice(1))})}),o.jsx(ie,{className:"text-right",children:o.jsx("div",{className:"rounded-md w-full h-full",children:o.jsxs(Ps,{children:[o.jsx(Ts,{className:"p-1",children:o.jsx(Ls,{className:"size-4 opacity-50"})}),o.jsx(Is,{children:t==null?void 0:t.map(f=>o.jsxs(wt,{variant:(f==null?void 0:f.variant)||"default",onClick:()=>f.onClick(e),children:[f.icon,f.label]},f.label))})]})})})]})},kd=({links:e,options:t})=>o.jsxs(Ln,{children:[o.jsx(On,{children:o.jsxs(Xe,{children:[o.jsx(ae,{className:"w-[100px]",children:"Short Url"}),o.jsx(ae,{children:"Creator"}),o.jsx(ae,{children:"Tags"}),o.jsx(ae,{children:"Status"}),o.jsx(ae,{className:"text-right",children:"Actions"})]})}),o.jsx(_n,{children:e.map(n=>o.jsx(Sd,{link:n,options:t},n._id))})]}),Er=()=>{const[e,t]=h.useState(""),[n,r]=h.useState(!1),[s,a]=h.useState(null),[d,u]=h.useState({createLink:!1,detailsLink:!1,deleteLink:!1}),i=he(),c=K(w=>w.links),l=K(w=>w.workspace),f=w=>{const y=w.target.value;t(y),!(y.length<3)&&r(!0)},m=(w,y)=>{u(b=>({...b,[w]:y||!b[w]})),y||a(null)},p=w=>{a(w),m("detailsLink",!0)},g=w=>{a(w),m("createLink",!0)},x=w=>{a(w),m("deleteLink",!0)},v=[{label:"Details",icon:o.jsx(ta,{}),onClick:p},{label:"Edit",icon:o.jsx(At,{}),onClick:g},{label:"Delete",icon:o.jsx(Pt,{}),variant:"destructive",onClick:x}];return h.useEffect(()=>{const w=setTimeout(()=>{!l.currentWorkspace||c.links.length>0&&!n||i(Js({workspaceId:l.currentWorkspace._id,q:e})).then(()=>r(!1))},500);return()=>clearTimeout(w)},[l.currentWorkspace,n,e]),o.jsxs(o.Fragment,{children:[o.jsx(Ie,{heading:"Links",subHeading:"Manage your links"}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-2 items-start md:items-center justify-between mt-1 mb-4",children:[o.jsx("span",{}),o.jsxs("form",{className:"items-center gap-2 inline-flex max-w-sm w-full",onSubmit:w=>{w.preventDefault(),f({target:{value:e}})},children:[o.jsx(ne,{id:"search-link-view",type:"text",placeholder:"Search with tags or creator email or short url, at least 3 characters",className:"w-full",value:e,onChange:f}),o.jsxs(F,{type:"submit",className:"inline-flex items-center",children:[o.jsx(ea,{className:"size-5"}),o.jsx("span",{children:"Search"})]})]})]}),o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsxs("div",{className:"flex justify-between items-center gap-3",children:[o.jsxs("h3",{className:"text-muted-foreground flex items-center gap-0",children:[o.jsx("span",{children:"Links"}),o.jsx(F,{variant:"ghost",size:"icon",className:"text-foreground",disabled:c.loading||n,onClick:()=>r(!0),children:o.jsx(Rr,{className:"cursor-pointer size-5"})})]}),o.jsxs(F,{variant:"default",className:"flex items-center gap-2",onClick:()=>u(w=>({...w,createLink:!0})),children:[o.jsx(ja,{}),o.jsx("span",{children:"Create Link"})]})]}),c.loading?o.jsx(oe,{className:"size-5"}):c.links.length>0?o.jsx(kd,{links:c.links,options:v}):null]}),o.jsx(hr,{isOpen:d.createLink,onClose:()=>m("createLink")}),s&&o.jsxs(o.Fragment,{children:[o.jsx(rl,{isOpen:d.detailsLink,onClose:()=>m("detailsLink"),linkId:s._id,onOpenDelete:x,onOpenEdit:g}),o.jsx(nl,{isOpen:d.deleteLink,onClose:()=>m("deleteLink"),link:s}),o.jsx(hr,{isOpen:d.createLink,onClose:()=>m("createLink"),editMode:!0,formDataForEdit:s})]})]})},Ad=()=>o.jsxs("div",{className:"h-full grid grid-cols-1 grid-rows-[auto_1fr]",children:[o.jsx(Ie,{heading:"Loading...",subHeading:"Waiting for the workspace to load..."}),o.jsx("div",{className:"py-4 h-full flex flex-col items-center justify-center -translate-y-[10%]",children:o.jsx(Ve,{size:100,className:"animate-pulse ease-in-out"})})]});function Pd(e){return H({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20.347 3.653a3.936 3.936 0 0 0-5.567 0l-1.75 1.75a.75.75 0 0 1-1.06-1.06l1.75-1.75a5.436 5.436 0 0 1 7.688 7.687l-1.564 1.564a.75.75 0 0 1-1.06-1.06l1.563-1.564a3.936 3.936 0 0 0 0-5.567ZM9.786 12.369a.75.75 0 0 1 1.053.125c.096.122.2.24.314.353 1.348 1.348 3.386 1.587 4.89.658l-3.922-2.858a.745.745 0 0 1-.057-.037c-1.419-1.013-3.454-.787-4.784.543L3.653 14.78a3.936 3.936 0 0 0 5.567 5.567l3-3a.75.75 0 1 1 1.06 1.06l-3 3a5.436 5.436 0 1 1-7.688-7.687l3.628-3.628a5.517 5.517 0 0 1 3.014-1.547l-7.05-5.136a.75.75 0 0 1 .883-1.213l20.25 14.75a.75.75 0 0 1-.884 1.213l-5.109-3.722c-2.155 1.709-5.278 1.425-7.232-.53a5.491 5.491 0 0 1-.431-.485.75.75 0 0 1 .125-1.053Z"},child:[]}]})(e)}const Td=()=>o.jsxs("div",{className:"h-full grid grid-cols-1 grid-rows-[auto_1fr]",children:[o.jsx(Ie,{heading:"No Workspace",subHeading:"Create a workspace, goto to profile or click on 'Create one' button in the sidebar."}),o.jsx("div",{className:"py-4 h-full flex flex-col items-center justify-center -translate-y-[10%]",children:o.jsx(Pd,{size:100,className:"m-auto text-black/15 dark:text-white/15"})})]}),Id=e=>{const t=he(),n=()=>{t(ra()).then(()=>{window.location.href="/"})};return o.jsxs(F,{variant:"destructive",onClick:n,...e,className:"flex items-center gap-2 "+(e==null?void 0:e.className),children:[o.jsx(na,{}),o.jsx("span",{children:"Logout"})]})},Vn=({editMode:e,workspaceId:t,isOpen:n,onClose:r})=>{const s=e?"Edit workspace":"Create workspace",[a,d]=h.useState(),[u,i]=h.useState(!1),c=K(y=>y.workspace),l=he(),{register:f,handleSubmit:m,setValue:p,watch:g,formState:{errors:x}}=St(),v=m(y=>{const{workspaceName:b,workspaceDescription:C}=y;e?l(oa({name:b,description:C,id:t})).then(()=>r()):l(sa({name:b,description:C})).then(()=>r())}),w=()=>{r(),p("workspaceName",(a==null?void 0:a.name)||""),p("workspaceDescription",(a==null?void 0:a.description)||"")};return h.useEffect(()=>{if(!a&&t&&c.workspaces.length){const y=c.workspaces.find(b=>b._id===t);y&&(d(y),p("workspaceName",y.name),p("workspaceDescription",y.description))}},[c]),h.useEffect(()=>{a&&(a.name!==g("workspaceName")||a.description!==g("workspaceDescription")?i(!0):i(!1))},[g("workspaceName"),g("workspaceDescription")]),o.jsx(o.Fragment,{children:o.jsx(Ke,{roundness:"light",isOpen:n,onClose:w,variant:"outline",children:o.jsxs("div",{className:"flex flex-col gap-8",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(vn,{className:"size-6"}),o.jsx(je,{className:"text-xl text-start",children:s})]}),o.jsxs("form",{className:"flex flex-col gap-4",onSubmit:v,children:[o.jsxs("div",{className:"flex flex-col gap-1 relative pb-4",children:[o.jsx(Y,{htmlFor:"workspaceName",children:"Workspace Name"}),o.jsx(ne,{id:"workspaceName",type:"text",placeholder:"Ex. My Workspace",className:"w-full",maxLength:25,...f("workspaceName",{required:"Workspace name is required",minLength:{value:3,message:"Workspace name must be at least 3 characters"},maxLength:{value:25,message:"Workspace name must not exceed 25 characters"}})}),x.workspaceName&&o.jsx("span",{className:"text-red-500 text-xs absolute bottom-0",children:x.workspaceName.message})]}),o.jsxs("div",{className:"flex flex-col gap-1 relative pb-4",children:[o.jsx(Y,{htmlFor:"workspaceDescription",children:"Workspace Description"}),o.jsx(ne,{id:"workspaceDescription",type:"text",placeholder:"Ex. My workspace for marketing",className:"w-full",maxLength:200,...f("workspaceDescription",{maxLength:{value:200,message:"Workspace description must not exceed 200 characters"}})}),x.workspaceName&&o.jsx("span",{className:"text-red-500 text-xs absolute bottom-0",children:x.workspaceName.message})]}),o.jsxs(F,{type:"submit",disabled:c.loading||e&&!u,className:"my-2 flex gap-2 items-center justify-center",children:[c.loading&&o.jsx(oe,{className:"size-5"}),s]})]})]})})})},Os=({workspaceId:e,isOpen:t,onClose:n})=>{const r="Delete Workspace",s=K(c=>c.workspace),a=he(),[d,u]=h.useState(),i=()=>{d&&a(aa(d._id)).then(()=>n())};return h.useEffect(()=>{if(!e||d)return;const c=s.workspaces.find(l=>l._id===e);c&&u(c)},[e,s.workspaces]),o.jsx(o.Fragment,{children:o.jsxs(Ke,{variant:"outline",roundness:"light",isOpen:t,onClose:n,children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(vn,{className:"size-6"}),o.jsx(je,{className:"text-xl",children:r})]}),o.jsxs("div",{className:"flex flex-col items-center gap-4",children:[o.jsx("pre",{className:"text-sm text-center text-muted-foreground",children:`Are you sure you want to delete this workspace and all associated data (links, people, etc.)?
This action cannot be undone.`}),o.jsxs(F,{className:"flex gap-2 items-center w-fit",variant:"destructive",onClick:i,children:[s.loading&&o.jsx(oe,{className:"size-5"}),o.jsx("span",{children:r})]})]})]})})},Ld=e=>{var c,l,f,m,p,g,x;const t=K(v=>v.user),[n,r]=kt(),[s,a]=h.useState(!1),[d,u]=h.useState(!1),i=()=>{r(v=>(v.set("workspaceId",e.data._id),v))};return o.jsxs(Xe,{className:"group",children:[o.jsx(ie,{className:"font-medium",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Ae,{children:[o.jsx(Pe,{src:"",alt:(c=e.data)==null?void 0:c.name}),o.jsx(Te,{children:((f=(l=e.data)==null?void 0:l.name)==null?void 0:f.charAt(0))+"W"})]}),o.jsx("span",{children:e.data.name})]})}),o.jsx(ie,{children:e.data.description}),o.jsxs(ie,{className:"text-right",children:[((m=t.user)==null?void 0:m._id)===((p=e.data)==null?void 0:p.createdBy)&&o.jsx("div",{className:"rounded-md w-full h-full",children:o.jsxs(Ps,{children:[o.jsx(Ts,{className:"p-1",children:o.jsx(Ls,{className:"size-4 opacity-50"})}),o.jsxs(Is,{children:[o.jsxs(wt,{onClick:i,variant:"default",className:"flex gap-2 items-center justify-start w-full hover:bg-foreground/10 dark:hover:bg-foreground/10",children:[o.jsx(Pa,{}),o.jsx("span",{children:"Select"})]}),o.jsxs(wt,{onClick:()=>a(!0),variant:"default",className:"flex gap-2 items-center justify-start w-full hover:bg-foreground/10 dark:hover:bg-foreground/10",children:[o.jsx(At,{}),o.jsx("span",{children:"Edit"})]}),o.jsxs(wt,{className:"flex gap-2 items-center justify-start w-full hover:bg-red-200 dark:hover:bg-red-950",variant:"destructive",onClick:()=>u(!0),children:[o.jsx(Pt,{className:"text-red-500"}),o.jsx("span",{children:"Delete"})]})]})]})}),o.jsx(Vn,{editMode:!0,workspaceId:(g=e.data)==null?void 0:g._id,isOpen:s,onClose:()=>a(!1)}),o.jsx(Os,{workspaceId:(x=e.data)==null?void 0:x._id,isOpen:d,onClose:()=>u(!1)})]})]})},Od=()=>{var m,p,g,x,v,w,y,b,C,j;const e=K(E=>E.user),t=K(E=>E.workspace),n=he(),{register:r,handleSubmit:s,watch:a,formState:{errors:d}}=St(),[u,i]=h.useState(!1),[c,l]=h.useState(!1),f=s(E=>{n(ia({name:E.name}))});return h.useEffect(()=>{var E;a("name")!==((E=e.user)==null?void 0:E.name)?i(!0):i(!1)},[a("name")]),h.useEffect(()=>{t.myWorkspaces.length>0||n(ca())},[]),e!=null&&e.user?o.jsxs(o.Fragment,{children:[o.jsx(Ie,{heading:"Profile",subHeading:"Manage your profile"}),o.jsx("div",{className:"flex flex-col gap-4 w-full",children:o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"w-full grid grid-cols-[1fr_auto] gap-2 items-center",children:[o.jsxs("div",{className:"grid grid-cols-[1fr_auto] gap-2 w-fit",children:[o.jsxs(Ae,{children:[o.jsx(Pe,{src:((m=e==null?void 0:e.user)==null?void 0:m.profilePicture)||void 0,alt:(p=e==null?void 0:e.user)==null?void 0:p.name}),o.jsx(Te,{children:(x=(g=e==null?void 0:e.user)==null?void 0:g.name)==null?void 0:x.charAt(0)})]}),o.jsxs("div",{className:"w-fit",children:[o.jsx("h3",{className:"text-lg font-semibold line-clamp-1",children:(v=e==null?void 0:e.user)==null?void 0:v.name}),o.jsx("h4",{className:"text-sm text-muted-foreground line-clamp-1",children:(w=e==null?void 0:e.user)==null?void 0:w.email}),((y=e==null?void 0:e.user)==null?void 0:y.lastLogin)&&o.jsx("h4",{className:"text-sm text-muted-foreground line-clamp-1",children:new Date((b=e==null?void 0:e.user)==null?void 0:b.lastLogin).toLocaleString()})]})]}),o.jsx(Id,{className:"w-fit"})]}),o.jsxs("form",{onSubmit:f,className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:[o.jsxs("div",{className:"flex flex-col gap-1 relative pb-4",children:[o.jsx(Y,{htmlFor:"name",children:"Name"}),o.jsx(ne,{...r("name",{required:"Name is required",value:(C=e==null?void 0:e.user)==null?void 0:C.name}),id:"name",type:"text",placeholder:"Name",className:"w-full",autoComplete:"name"}),d.name&&o.jsx("span",{className:"text-red-500 text-xs absolute bottom-0",children:d.name.message})]}),o.jsxs("div",{className:"flex flex-col gap-1 relative pb-4",children:[o.jsx(Y,{htmlFor:"email",className:"opacity-50",children:"Email"}),o.jsx(ne,{...r("email",{required:"Email is required",value:(j=e==null?void 0:e.user)==null?void 0:j.email}),id:"email",type:"email",placeholder:"Email",className:"w-full",autoComplete:"email",disabled:!0}),o.jsx(wn,{className:"absolute top-0 right-0"}),d.email&&o.jsx("span",{className:"text-red-500 text-xs absolute bottom-0",children:d.email.message})]}),o.jsx("div",{className:"lg:col-span-2 flex w-full justify-end",children:o.jsxs(F,{disabled:(e==null?void 0:e.loading)||!u,type:"submit",className:"my-4 flex items-center justify-center gap-2 w-24 ",children:[(e==null?void 0:e.loading)&&o.jsx(oe,{className:"size-5"}),o.jsx("span",{children:"Save"})]})})]}),o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsxs("div",{className:"flex justify-between items-center gap-3",children:[o.jsx("h3",{className:"text-muted-foreground",children:"My Workspaces"}),o.jsxs(F,{onClick:()=>l(!0),variant:"default",className:"flex gap-2 items-center justify-start",children:[o.jsx(Aa,{}),o.jsx("span",{children:"Create Workspace"})]})]}),t.loading?o.jsx(oe,{className:"size-5"}):t.myWorkspaces.length>0?o.jsxs(Ln,{children:[o.jsx(On,{children:o.jsxs(Xe,{children:[o.jsx(ae,{className:"w-[100px]",children:"Name"}),o.jsx(ae,{children:"Description"}),o.jsx(ae,{className:"text-right",children:"Actions"})]})}),o.jsx(_n,{children:t.myWorkspaces.map((E,N)=>o.jsx(Ld,{data:E,avatarSize:"md"},N))})]}):o.jsx("h3",{className:"text-muted-foreground",children:"You have not created any workspace yet!"})]}),o.jsx(Vn,{isOpen:c,onClose:()=>l(!1)})]})})]}):null};function _d(e){return H({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M15.964.686a.5.5 0 0 0-.65-.65L.767 5.855a.75.75 0 0 0-.124 1.329l4.995 3.178 1.531 2.406a.5.5 0 0 0 .844-.536L6.637 10.07l7.494-7.494-1.895 4.738a.5.5 0 1 0 .928.372zm-2.54 1.183L5.93 9.363 1.591 6.602z"},child:[]},{tag:"path",attr:{d:"M16 12.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0m-3.5-2a.5.5 0 0 0-.5.5v1h-1a.5.5 0 0 0 0 1h1v1a.5.5 0 0 0 1 0v-1h1a.5.5 0 0 0 0-1h-1v-1a.5.5 0 0 0-.5-.5"},child:[]}]})(e)}const Dd=()=>{const e="Send Invite",[t,n]=h.useState(!1),{register:r,handleSubmit:s,formState:{errors:a}}=St(),d=K(l=>l.workspace),u=he(),i=()=>{n(!1)},c=s(l=>{var f;u(la({email:l.reciverEmail,workspaceId:(f=d==null?void 0:d.currentWorkspace)==null?void 0:f._id})).then(()=>n(!1))});return o.jsxs(o.Fragment,{children:[o.jsxs(F,{onClick:()=>n(!0),variant:"default",className:"flex items-center justify-center gap-2",children:[o.jsx(_d,{className:"size-5"}),o.jsx("span",{children:"Invite"})]}),o.jsx(Ke,{variant:"outline",roundness:"light",isOpen:t,onClose:i,children:o.jsxs("div",{className:"flex flex-col gap-8",children:[o.jsx(je,{className:"text-xl",children:e}),o.jsxs("form",{className:"flex flex-col gap-4",onSubmit:c,children:[o.jsxs("div",{className:"flex flex-col gap-1 relative pb-4",children:[o.jsx(Y,{htmlFor:"reciverEmail",children:"Email"}),o.jsx(ne,{id:"reciverEmail",type:"email",placeholder:"Ex. jackson@example.com",className:"w-full",maxLength:100,...r("reciverEmail",{required:"Receiver Email is required"})}),a.reciverEmail&&o.jsx("span",{className:"text-red-500 text-xs absolute bottom-0",children:a.reciverEmail.message})]}),o.jsxs(F,{disabled:d==null?void 0:d.loading,type:"submit",className:"my-2 flex gap-2 items-center justify-center",children:[(d==null?void 0:d.loading)&&o.jsx(oe,{className:"size-5"}),o.jsx("span",{children:e})]})]})]})})]})};function Fd(e){return H({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Circle_Remove"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M9.525,13.765a.5.5,0,0,0,.71.71c.59-.59,1.175-1.18,1.765-1.76l1.765,1.76a.5.5,0,0,0,.71-.71c-.59-.58-1.18-1.175-1.76-1.765.41-.42.82-.825,1.23-1.235.18-.18.35-.36.53-.53a.5.5,0,0,0-.71-.71L12,11.293,10.235,9.525a.5.5,0,0,0-.71.71L11.293,12Z"},child:[]},{tag:"path",attr:{d:"M12,21.933A9.933,9.933,0,1,1,21.934,12,9.945,9.945,0,0,1,12,21.933ZM12,3.067A8.933,8.933,0,1,0,20.934,12,8.944,8.944,0,0,0,12,3.067Z"},child:[]}]}]}]})(e)}const Bd=e=>{var u,i,c;const[t,n]=h.useState(!1),r=K(l=>l.user),s=K(l=>l.workspace),a=he(),d=()=>{var l;n(!0),a(ua({workspaceId:(l=s==null?void 0:s.currentWorkspace)==null?void 0:l._id,peopleId:e.people._id})).finally(()=>n(!1))};return o.jsxs(Xe,{children:[o.jsx(ie,{className:"font-medium",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Ae,{children:[o.jsx(Pe,{src:e.people.profilePicture,alt:e.people.name}),o.jsx(Te,{children:(u=e.people.name)==null?void 0:u.charAt(0)})]}),o.jsx("span",{children:e.people.name})]})}),o.jsx(ie,{children:e.people.email}),o.jsx(ie,{className:"float-right",children:((i=r.user)==null?void 0:i._id)===((c=s==null?void 0:s.currentWorkspace)==null?void 0:c.createdBy)?o.jsxs(F,{onClick:d,className:"flex gap-2 px-4 items-center justify-center",variant:"destructive",children:[t?o.jsx(oe,{className:"size-5"}):o.jsx(Fd,{className:"size-5"}),o.jsx("span",{children:t?"Removing...":"Remove"})]}):o.jsx(o.Fragment,{children:"huh?"})})]})},Wd=()=>{var d,u,i,c,l,f,m,p,g,x,v,w,y,b,C;const e=K(j=>j.workspace),t=K(j=>j.user),[n,r]=h.useState(!1),[s,a]=h.useState(!1);return e!=null&&e.currentWorkspace?o.jsxs(o.Fragment,{children:[o.jsx(Ie,{heading:"Settings",subHeading:"Manage your workspace settings"}),o.jsxs("div",{className:"py-4 space-y-8",children:[o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(Ae,{children:[o.jsx(Pe,{src:"",alt:(d=e==null?void 0:e.currentWorkspace)==null?void 0:d.name}),o.jsx(Te,{children:((i=(u=e==null?void 0:e.currentWorkspace)==null?void 0:u.name)==null?void 0:i.charAt(0))+"W"})]}),o.jsxs("div",{className:"",children:[o.jsx("h3",{className:"text-xl line-clamp-1",children:(c=e==null?void 0:e.currentWorkspace)==null?void 0:c.name}),o.jsx("div",{className:"text-muted-foreground",children:`Created By: ${(f=(l=e==null?void 0:e.currentWorkspace)==null?void 0:l.createdByDetails)==null?void 0:f.email}`}),o.jsx("div",{className:"text-muted-foreground",children:(m=e==null?void 0:e.currentWorkspace)==null?void 0:m.description})]})]}),((p=t==null?void 0:t.user)==null?void 0:p._id)===((g=e==null?void 0:e.currentWorkspace)==null?void 0:g.createdBy)&&o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsxs(F,{onClick:()=>r(!0),variant:"secondary",className:"flex gap-2 items-center justify-start hover:bg-foreground/10 dark:hover:bg-foreground/10",children:[o.jsx(At,{}),o.jsx("span",{children:"Edit"})]}),o.jsxs(F,{className:"flex gap-2 items-center justify-start text-red-500 hover:text-red-500 hover:bg-red-200 dark:hover:bg-red-950",variant:"secondary",onClick:()=>a(!0),children:[o.jsx(Pt,{}),o.jsx("span",{children:"Delete"})]})]}),o.jsx(Vn,{editMode:!0,workspaceId:(x=e==null?void 0:e.currentWorkspace)==null?void 0:x._id,isOpen:n,onClose:()=>r(!1)}),o.jsx(Os,{workspaceId:(v=e==null?void 0:e.currentWorkspace)==null?void 0:v._id,isOpen:s,onClose:()=>a(!1)}),o.jsxs("div",{className:"flex justify-between items-center gap-3",children:[o.jsx("h3",{className:"text-muted-foreground",children:"People"}),((w=t==null?void 0:t.user)==null?void 0:w._id)===((y=e==null?void 0:e.currentWorkspace)==null?void 0:y.createdBy)&&o.jsx(Dd,{})]}),e!=null&&e.loading?o.jsx(oe,{className:"size-5"}):(b=e==null?void 0:e.currentWorkspace.peopleDetails)!=null&&b.length?o.jsxs(Ln,{children:[o.jsx(On,{children:o.jsxs(Xe,{children:[o.jsx(ae,{className:"w-[100px]",children:"Name"}),o.jsx(ae,{children:"Email"}),o.jsx(ae,{className:"text-right",children:"Actions"})]})}),o.jsx(_n,{children:(C=e==null?void 0:e.currentWorkspace.peopleDetails)==null?void 0:C.map((j,E)=>o.jsx(Bd,{people:j},E))})]}):o.jsx("div",{className:"text-muted-foreground",children:"No people in this workspace"})]})]}):null},zd=()=>{const[e,t]=kt(),n=K(r=>r.workspace);if(!e.get("workspaceId")&&e.get("tab")!="profile")return n.loading?o.jsx(Ad,{}):o.jsx(Td,{});switch(e.get("tab")){case"profile":return o.jsx(Od,{});case"links":return o.jsx(Er,{});case"events":return o.jsx(Fa,{});case"analytics":return o.jsx(Da,{});case"settings":return o.jsx(Wd,{});default:return o.jsx(Er,{})}},qd=()=>o.jsxs(pa,{children:[o.jsx(qn,{path:"/",element:o.jsx(_a,{children:o.jsx(zd,{})})}),o.jsx(qn,{path:"*",element:o.jsx(da,{})})]});export{qd as default};
